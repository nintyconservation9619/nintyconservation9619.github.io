<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NintendoSDK API Reference: オーディオレンダラ</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>総合概要</span></a></li>
      <li class="current"><a href="pages.html"><span>諸情報</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>名前空間</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_page_sample.html">SDK サンプル解説書</a></li><li class="navelem"><a class="el" href="_page_sample_audio.html">Audio</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">オーディオレンダラ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>目次</h3>
<ul><li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionBrief">概要</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionFileStructure">ファイル構成</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionNecessaryEnvironment">必要な環境</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionHowToOperate">操作方法</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionPrecaution">注意事項</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionHowToExecute">実行手順</a></li>
<li class="level1"><a href="#PageSampleAudioAudioRenderer_SectionDetail">解説</a></li>
</ul>
</div>
<div class="textblock"><p>オーディオレンダラのサンプルプログラムの解説です。</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionBrief"></a>
概要</h1>
<p>オーディオレンダラを利用して、オーディオ再生を行うサンプルです。</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionFileStructure"></a>
ファイル構成</h1>
<p>本サンプルプログラムは <a class="el" href="dir_156ce06bc6568c237e22cd7af7924064.html">Samples/Sources/Applications/AudioRenderer </a> 以下にあります。</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionNecessaryEnvironment"></a>
必要な環境</h1>
<p>オーディオ出力が利用可能である必要があります。</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionHowToOperate"></a>
操作方法</h1>
<p>サンプルプログラムを実行すると、自動的に BGM や SE が再生されます。 再生中はキーボードや DebugPad による入力を用いて、再生される BGM や SE、サイン波を操作できます。</p>
<table class="doxtable">
<tr>
<th>入力 </th><th>動作  </th></tr>
<tr>
<td>[A] </td><td>SampleSe0 を一度再生  </td></tr>
<tr>
<td>[B] </td><td>SampleSe1 を一度再生  </td></tr>
<tr>
<td>[X] </td><td>SampleSe2 を一度再生  </td></tr>
<tr>
<td>[Y] </td><td>SampleSe3 を一度再生  </td></tr>
<tr>
<td>[L] </td><td>Biquad filter の有効・無効を切り替え  </td></tr>
<tr>
<td>[R] </td><td>SampleBgm0-2ch の再生状態を切り替え  </td></tr>
<tr>
<td>[AnalogStickL] </td><td>サイン波の音量を大小操作  </td></tr>
<tr>
<td>[Left][Right] </td><td>SampleBgm0-2ch の左チャンネルの音量を大小操作  </td></tr>
<tr>
<td>[Up][Down] </td><td>SampleBgm0-2ch の右チャンネルの音量を大小操作  </td></tr>
<tr>
<td>[AnalogStickR] </td><td>サイン波のピッチを上下操作  </td></tr>
<tr>
<td>[Start/Space] </td><td>プログラムの終了  </td></tr>
</table>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionPrecaution"></a>
注意事項</h1>
<p>特にありません。</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionHowToExecute"></a>
実行手順</h1>
<p>サンプルプログラムをビルドし、実行してください。</p>
<h1><a class="anchor" id="PageSampleAudioAudioRenderer_SectionDetail"></a>
解説</h1>
<p>このサンプルプログラムは、複数の波形を用いて、オーディオレンダリングを行うものです。</p>
<p>サンプルプログラムの処理の流れは以下の通りです。</p>
<ul>
<li>ファイルシステムの初期化</li>
<li>オーディオレンダラの初期化</li>
<li>FinalMix の準備、および BufferMixer を利用したバスルーティング</li>
<li>出力先デバイスの設定</li>
<li>入力波形の準備、Voice の確保およびパラメータ設定</li>
<li>オーディオレンダリングの開始</li>
<li>パラメータ変更、状態取得の実施</li>
<li>レンダリングを終了</li>
<li>オーディオレンダラをクローズ</li>
<li>入力波形を破棄</li>
</ul>
<p>最初にファイルシステムの初期化を行います。 リソースファイルはビルド時にコンバートされるものを利用します。 リソースディレクトリの場所は適宜変更して利用してください。</p>
<p>オーディオレンダラを初期化します。 初期化に先立ち、事前にパラメータの設定やワークバッファの準備を行う必要があります。 このワークバッファはオーディオレンダリング処理のために利用されます。 オーディオレンダラを利用するためには、同時に <a class="el" href="structnn_1_1audio_1_1_audio_renderer_config.html" title="オーディオレンダラの設定を管理する構造体です。 ">nn::audio::AudioRendererConfig</a> を用意する必要があります。 この構造体はオーディオレンダラの各種パラメータを管理するために利用します。 <a class="el" href="structnn_1_1audio_1_1_audio_renderer_config.html" title="オーディオレンダラの設定を管理する構造体です。 ">nn::audio::AudioRendererConfig</a> のためにもワークバッファを用意する必要があります。</p>
<p>オーディオレンダラは最終出力の出力先を Sink で指定します。 このサンプルでは "MainAudioOut" という名前の DeviceSinkType を指定します （現在のバージョンの SDK においては、この名前を指定することで、Windows の「規定のデバイス」から音が出力されます）。</p>
<p>次にエフェクトを用意します。このデモでは <a class="el" href="structnn_1_1audio_1_1_buffer_mixer_type.html" title="BufferMixer エフェクトです。 ">nn::audio::BufferMixerType</a> を利用して、バスルーティングの設定を行っています。 エフェクトは <a class="el" href="structnn_1_1audio_1_1_final_mix_type.html" title="FinalMix を表す構造体です。 ">nn::audio::FinalMixType</a> に対して指定します。</p>
<p><a class="el" href="structnn_1_1audio_1_1_voice_type.html" title="レンダラへの入力波形をコントロールするための構造体です。 ">nn::audio::VoiceType</a> を用いて、入力波形やパラメータの指定ができます。 このサンプルでは、動的に生成したサイン波、およびファイルから読み込んだ BGM, SE を再生します。 入力波形は <a class="el" href="structnn_1_1audio_1_1_wave_buffer.html" title="VoiceType に与える入力波形を扱うための構造体です。 ">nn::audio::WaveBuffer</a> により指定します。Voice に対して、一度に 4 つまでのバッファを指定して、 連続的に再生を行うことが可能です。その他、以下のようなパラメータを指定することが可能です。</p>
<ul>
<li>ボリューム</li>
<li>ピッチ</li>
<li>Biquad フィルタ</li>
<li>ミックスボリューム</li>
</ul>
<p><a class="el" href="structnn_1_1audio_1_1_voice_type.html" title="レンダラへの入力波形をコントロールするための構造体です。 ">nn::audio::VoiceType</a> は、確保した後に出力先を指定する必要があります</p>
<p>各種設定は <a class="el" href="structnn_1_1audio_1_1_audio_renderer_config.html" title="オーディオレンダラの設定を管理する構造体です。 ">nn::audio::AudioRendererConfig</a> に設定した後に <a class="el" href="namespacenn_1_1audio.html#acf560fde488cb8a60016e2463031f51c" title="オーディオレンダラに紐づく Voice などのパラメータを更新します。 ">nn::audio::RequestUpdateAudioRenderer()</a> を 呼ぶことで、実際の処理に反映されます。</p>
<p>メインループでは、パラメータの変更、状態の取得、およびバッファの追加を行います。 このサンプルではサイン波データをストリーム再生しつつ、 BGM をループ再生します。 再生中はキーボードや DebugPad 等の入力によって「操作方法」で記述した操作が可能です。</p>
<p>プログラムの終了が要求されると、上記の繰り返し処理を抜けて、再生を停止し、 オーディオレンダラをクローズし、メモリの破棄を行います。 </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</body>
</html>
