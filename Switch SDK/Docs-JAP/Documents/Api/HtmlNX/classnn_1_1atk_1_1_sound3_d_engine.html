<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NintendoSDK API Reference: nn::atk::Sound3DEngine クラス</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>総合概要</span></a></li>
      <li><a href="pages.html"><span>諸情報</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>名前空間</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>クラス一覧</span></a></li>
      <li><a href="classes.html"><span>クラス索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>クラスメンバ</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenn.html">nn</a></li><li class="navelem"><a class="el" href="namespacenn_1_1atk.html">atk</a></li><li class="navelem"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html">Sound3DEngine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pro-static-attribs">静的限定公開変数類</a> &#124;
<a href="classnn_1_1atk_1_1_sound3_d_engine-members.html">全メンバ一覧</a>  </div>
  <div class="headertitle">
<div class="title">nn::atk::Sound3DEngine クラス</div>  </div>
</div><!--header-->
<div class="contents">

<p>3D サウンドのパラメータ演算エンジンクラスです。  
 <a href="classnn_1_1atk_1_1_sound3_d_engine.html#details">[詳解]</a></p>

<p><code>#include &lt;nn/atk/atk_Sound3DEngine.h&gt;</code></p>

<p>nn::atk::detail::ISound3DEngineを継承しています。</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
公開メンバ関数</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">コンストラクタ/デストラクタ</div></td></tr>
<tr class="memitem:aa1601e96e74d03946fde754dff865405"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1601e96e74d03946fde754dff865405"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#aa1601e96e74d03946fde754dff865405">Sound3DEngine</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:aa1601e96e74d03946fde754dff865405"><td class="mdescLeft">&#160;</td><td class="mdescRight">コンストラクタです。 <br /></td></tr>
<tr class="separator:aa1601e96e74d03946fde754dff865405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dff049b670410facfbacf2a5e4309d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5dff049b670410facfbacf2a5e4309d6"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5dff049b670410facfbacf2a5e4309d6">~Sound3DEngine</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a> <a class="el" href="nn___macro_8h.html#a5b950a1a9c5f9b57d49185d8fb4cd4ab">NN_OVERRIDE</a></td></tr>
<tr class="memdesc:a5dff049b670410facfbacf2a5e4309d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">デストラクタです。 <br /></td></tr>
<tr class="separator:a5dff049b670410facfbacf2a5e4309d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">設定</div></td></tr>
<tr class="memitem:af5985ec9264358f344898b2452a2c6a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#af5985ec9264358f344898b2452a2c6a6">SetCalculatePanParam</a> (const <a class="el" href="structnn_1_1atk_1_1_sound3_d_calculator_1_1_calculate_pan_param.html">Sound3DCalculator::CalculatePanParam</a> &amp;calculatePanParam) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:af5985ec9264358f344898b2452a2c6a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">パン計算用パラメータ構造体を設定します。  <a href="#af5985ec9264358f344898b2452a2c6a6">[詳解]</a><br /></td></tr>
<tr class="separator:af5985ec9264358f344898b2452a2c6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa053b99240f703b81c37cf823faca9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnn_1_1atk_1_1_sound3_d_calculator_1_1_calculate_pan_param.html">Sound3DCalculator::CalculatePanParam</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a7fa053b99240f703b81c37cf823faca9">GetCalculatePanParam</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a7fa053b99240f703b81c37cf823faca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">現在設定されているパン計算用パラメータ構造体を取得します。  <a href="#a7fa053b99240f703b81c37cf823faca9">[詳解]</a><br /></td></tr>
<tr class="separator:a7fa053b99240f703b81c37cf823faca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
限定公開メンバ関数</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">パラメータ</div></td></tr>
<tr class="memitem:a5d08be219abc1810c898df3fbb06d337"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337">UpdateAmbientParam</a> (<a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> *pOutValue, const <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html">Sound3DManager</a> *sound3DManager, const <a class="el" href="structnn_1_1atk_1_1_sound3_d_param.html">Sound3DParam</a> *sound3DParam, uint32_t soundId, uint32_t updateFlag) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a5d08be219abc1810c898df3fbb06d337"><td class="mdescLeft">&#160;</td><td class="mdescRight">3D サウンドのパラメータ演算を行う関数です。  <a href="#a5d08be219abc1810c898df3fbb06d337">[詳解]</a><br /></td></tr>
<tr class="separator:a5d08be219abc1810c898df3fbb06d337"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
静的限定公開変数類</h2></td></tr>
<tr class="memitem:a41e4364f770fbc27bf72886196ecd508"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a41e4364f770fbc27bf72886196ecd508">UpdateFilter</a> = ( 1 &lt;&lt; 4 )</td></tr>
<tr class="memdesc:a41e4364f770fbc27bf72886196ecd508"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateAmbientParam で Biquad フィルタのかかり具合を計算する必要があることを示すフラグです。  <a href="#a41e4364f770fbc27bf72886196ecd508">[詳解]</a><br /></td></tr>
<tr class="separator:a41e4364f770fbc27bf72886196ecd508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abace1d49ed849da92dfc2ebfcf0b05d7"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#abace1d49ed849da92dfc2ebfcf0b05d7">UpdatePan</a> = ( 1 &lt;&lt; 2 )</td></tr>
<tr class="memdesc:abace1d49ed849da92dfc2ebfcf0b05d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateAmbientParam でパン計算をする必要があることを示すフラグです。  <a href="#abace1d49ed849da92dfc2ebfcf0b05d7">[詳解]</a><br /></td></tr>
<tr class="separator:abace1d49ed849da92dfc2ebfcf0b05d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89e7e56ec38e95ca4a394491b6e18ac"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#ae89e7e56ec38e95ca4a394491b6e18ac">UpdatePitch</a> = ( 1 &lt;&lt; 5 )</td></tr>
<tr class="memdesc:ae89e7e56ec38e95ca4a394491b6e18ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateAmbientParam でピッチ計算をする必要があることを示すフラグです。  <a href="#ae89e7e56ec38e95ca4a394491b6e18ac">[詳解]</a><br /></td></tr>
<tr class="separator:ae89e7e56ec38e95ca4a394491b6e18ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1152a3949bf2baf58a8f3a8ca1748a03"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a1152a3949bf2baf58a8f3a8ca1748a03">UpdatePriority</a> = ( 1 &lt;&lt; 1 )</td></tr>
<tr class="memdesc:a1152a3949bf2baf58a8f3a8ca1748a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateAmbientParam でプレイヤープライオリティ計算をする必要があることを示すフラグです。  <a href="#a1152a3949bf2baf58a8f3a8ca1748a03">[詳解]</a><br /></td></tr>
<tr class="separator:a1152a3949bf2baf58a8f3a8ca1748a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d0b66b30b4bd300a670ecf852c3244"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a05d0b66b30b4bd300a670ecf852c3244">UpdateStartPriority</a> = ( 1 &lt;&lt; 24 )</td></tr>
<tr class="memdesc:a05d0b66b30b4bd300a670ecf852c3244"><td class="mdescLeft">&#160;</td><td class="mdescRight">サウンド開始前のプレイヤープライオリティ計算のために UpdateAmbientParam が呼ばれた事を示すフラグです。  <a href="#a05d0b66b30b4bd300a670ecf852c3244">[詳解]</a><br /></td></tr>
<tr class="separator:a05d0b66b30b4bd300a670ecf852c3244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9778119b953c30edd1d15c801b539289"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a9778119b953c30edd1d15c801b539289">UpdateSurroundPan</a> = ( 1 &lt;&lt; 3 )</td></tr>
<tr class="memdesc:a9778119b953c30edd1d15c801b539289"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateAmbientParam でサラウンドパン計算をする必要があることを示すフラグです。  <a href="#a9778119b953c30edd1d15c801b539289">[詳解]</a><br /></td></tr>
<tr class="separator:a9778119b953c30edd1d15c801b539289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bbe6a33a883b2eb6492c70d66617b00"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a6bbe6a33a883b2eb6492c70d66617b00">UpdateVolume</a> = ( 1 &lt;&lt; 0 )</td></tr>
<tr class="memdesc:a6bbe6a33a883b2eb6492c70d66617b00"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateAmbientParam で音量計算をする必要があることを示すフラグです。  <a href="#a6bbe6a33a883b2eb6492c70d66617b00">[詳解]</a><br /></td></tr>
<tr class="separator:a6bbe6a33a883b2eb6492c70d66617b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">詳解</h2>
<div class="textblock"><p>3D サウンドのパラメータ演算エンジンクラスです。 </p>
<p>3D サウンドアクターや 3D サウンドリスナーの位置情報などから、 サウンドに設定する音量やパンなどの各種パラメータを計算します。 このクラスでは、3D サウンドの標準的なパラメータ計算が定義されています。</p>
<p>3D サウンドマネージャーには、初期状態でこのクラスのインスタンスが登録されています。</p>
<p>3D サウンドエンジンをカスタマイズしたい場合、 このクラスを継承して独自のエンジンクラスを作成することができます。 カスタマイズしたエンジンクラスは、 <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html#aec4b3ae183b0a353775e0c3ca6870316">Sound3DManager::SetEngine</a> で 3D サウンドマネージャーに登録し、 デフォルトのエンジンクラスの代わりに使用することができます。</p>
<p><br />
 ■デフォルト実装の挙動</p>
<p>本クラスの実装では、下記の 3D サウンドパラメータ (<a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337">UpdateAmbientParam</a> で渡される <a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a>) が計算されます。 3D サウンドマネージャーにいくつ 3D サウンドリスナーを登録したかで、 パラメータの計算方法が変わることに注意してください。</p>
<p>これ以外の計算をさせたい場合は、本クラスを継承したユーザークラス内で、 <a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337">UpdateAmbientParam</a> をオーバーライドしてください。</p>
<p><br />
 ▼ 共通の挙動</p>
<p><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータは【計算されません】。</p><ul>
<li>volume</li>
<li>lowPassFilter</li>
<li>userData</li>
<li>outputLineFlag</li>
<li>tvParam の effectSend</li>
</ul>
<p><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータが計算されます。</p><ul>
<li>biquadFilterType</li>
</ul>
<p><br />
 ▼ 3D サウンドマネージャーに、リスナーを 1 つだけ <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html#a30bea64423549fb5d752d08e8259b73c">Sound3DManager::AddListener</a> しているとき</p>
<p><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータが計算されます。</p><ul>
<li>pitch</li>
<li>biquadFilterValue</li>
<li>priority</li>
</ul>
<p>次のパラメータは、<a class="el" href="classnn_1_1atk_1_1_sound3_d_listener.html#ac3033d9d0575b91a82c5100e26956e91">Sound3DListener::GetOutputTypeFlag</a> で示された 出力先の値のみ計算されます。</p><ul>
<li>[tvParam の volume] のうち該当する出力先のもの</li>
<li>[tvParam の pan] のうち該当する出力先のもの</li>
<li>[tvParam の surroundPan] のうち該当する出力先のもの</li>
</ul>
<p><br />
 ▼ 3D サウンドマネージャーに、リスナーを複数 <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html#a30bea64423549fb5d752d08e8259b73c">Sound3DManager::AddListener</a> して いるときの共通の挙動</p>
<p><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータが計算されますが、 複数登録されているリスナーで計算された結果、最大の値が採用されます。</p><ul>
<li>biquadFilterValue</li>
<li>priority</li>
</ul>
<p><br />
 ▼ 3D サウンドマネージャーに、リスナーを複数 <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html#a30bea64423549fb5d752d08e8259b73c">Sound3DManager::AddListener</a> して いるが、そのうち 1 つしかリスナーが登録されていない出力先の挙動 (たとえば、OutputType_Tv を指定したリスナーがひとつしか無い場合の、 TV 出力向けの挙動を指します)</p>
<p><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータが計算されます。</p><ul>
<li>[tvParam の volume] のうち該当する出力先のもの</li>
<li>[tvParam の pan] のうち該当する出力先のもの</li>
<li>[tvParam の surroundPan] のうち該当する出力先のもの</li>
</ul>
<p><br />
 ▼ 3D サウンドマネージャーに、リスナーを複数 <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html#a30bea64423549fb5d752d08e8259b73c">Sound3DManager::AddListener</a> して いるが、複数のリスナーが登録されている出力先の挙動 (たとえば、OutputType_Tv を指定したリスナーが複数ある場合の、 TV 出力向けの挙動を指します)</p>
<p><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータが計算されます。</p><ul>
<li>[tvParam の volume] のうち該当する出力先のもので、 最大の値。 <a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> のうち、下記のパラメータが計算されません。</li>
<li>[tvParam の pan]</li>
<li>[tvParam の surroundPan]</li>
</ul>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html" title="3D サウンドのパラメータ演算と管理を行うクラスです。 ">Sound3DManager</a> クラス </dd>
<dd>
<a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html#aec4b3ae183b0a353775e0c3ca6870316" title="3D サウンドエンジンを登録します。 ">Sound3DManager::SetEngine</a> </dd></dl>
</div><h2 class="groupheader">関数詳解</h2>
<a class="anchor" id="af5985ec9264358f344898b2452a2c6a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::atk::Sound3DEngine::SetCalculatePanParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnn_1_1atk_1_1_sound3_d_calculator_1_1_calculate_pan_param.html">Sound3DCalculator::CalculatePanParam</a> &amp;&#160;</td>
          <td class="paramname"><em>calculatePanParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>パン計算用パラメータ構造体を設定します。 </p>
<p>設定したパラメータは、3D サウンドエンジン内のパン計算の際に使用されます。</p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">calculatePanParam</td><td>パン計算用パラメータ構造体です。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="structnn_1_1atk_1_1_sound3_d_calculator_1_1_calculate_pan_param.html" title="パン計算ためのパラメータ構造体です。 ">Sound3DCalculator::CalculatePanParam</a> 構造体 </dd></dl>

</div>
</div>
<a class="anchor" id="a7fa053b99240f703b81c37cf823faca9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnn_1_1atk_1_1_sound3_d_calculator_1_1_calculate_pan_param.html">Sound3DCalculator::CalculatePanParam</a>&amp; nn::atk::Sound3DEngine::GetCalculatePanParam </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>現在設定されているパン計算用パラメータ構造体を取得します。 </p>
<dl class="section return"><dt>戻り値</dt><dd>パン計算用パラメータ構造体を返します。</dd></dl>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="structnn_1_1atk_1_1_sound3_d_calculator_1_1_calculate_pan_param.html" title="パン計算ためのパラメータ構造体です。 ">Sound3DCalculator::CalculatePanParam</a> 構造体 </dd></dl>

</div>
</div>
<a class="anchor" id="a5d08be219abc1810c898df3fbb06d337"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void nn::atk::Sound3DEngine::UpdateAmbientParam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html">SoundAmbientParam</a> *&#160;</td>
          <td class="paramname"><em>pOutValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html">Sound3DManager</a> *&#160;</td>
          <td class="paramname"><em>sound3DManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnn_1_1atk_1_1_sound3_d_param.html">Sound3DParam</a> *&#160;</td>
          <td class="paramname"><em>sound3DParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>soundId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>updateFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>3D サウンドのパラメータ演算を行う関数です。 </p>
<p>この関数はサウンドの開始時とサウンドの毎フレームの更新で呼び出されます。</p>
<p>カスタマイズした 3D サウンドエンジンクラスを作成する場合、 この関数をオーバーライドして、 ambientParam にパラメータ演算の結果を格納します。 格納された値は、毎フレームのサウンド処理に反映されます。</p>
<p>パラメータ計算には、3D サウンドリスナーや 3D サウンドアクターの情報を使用します。 3D サウンドリスナーは、sound3DManager から取得できます。 また、sound3DParam は計算に使用するパラメータの構造体で、 アクターの座標などや、サウンドごとの 3D サウンド設定を含みます。</p>
<p>updateFlag は、どのパラメータを計算する必要があるかを示したビットフラグです。 ambientParam 構造体内の、 各フラグに対応したパラメータがサウンドに対して反映されます。 フラグがたっていないパラメータを更新した場合の動作は不定です。</p>
<ul>
<li>UpdateVolume ... ambientParam.volume</li>
<li>UpdatePan ... ambientParam.pan</li>
<li>UpdatePriority ... ambientParam.priority</li>
<li>UpdatePitch ... ambientParam.pitch</li>
</ul>
<p>サウンド再生開始前に行われるプレイヤープライオリティ計算のためにこの関数が呼ばれた場合には、 updateFlag に UpdateStartPriority が設定されます。 (このとき UpdatePriority も同時に設定されています。)</p>
<p>引数として渡される ambientParam 構造体には、 前回の 3D サウンド計算結果が格納されています。 UpdateAmbientParam 関数をオーバーライドする際、 ここで渡される値と今回計算される値とを比較することで急激なパラメータ変化を避け、 プチノイズを抑制することが可能になります。</p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutValue</td><td>計算結果を格納するパラメータ構造体です。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sound3DManager</td><td>3D サウンドマネージャです。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sound3DParam</td><td>3D サウンドパラメータです。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">soundId</td><td>サウンドの ID です。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">updateFlag</td><td>どのパラメータを更新するかを示したフラグです。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_manager.html" title="3D サウンドのパラメータ演算と管理を行うクラスです。 ">Sound3DManager</a> クラス </dd>
<dd>
<a class="el" href="structnn_1_1atk_1_1_sound3_d_param.html" title="3Dサウンドのパラメータです。 ">Sound3DParam</a> 構造体 </dd>
<dd>
<a class="el" href="classnn_1_1atk_1_1_sound_ambient_param.html" title="アンビエントパラメータ構造体です。 ">SoundAmbientParam</a> 構造体 </dd></dl>

</div>
</div>
<h2 class="groupheader">メンバ詳解</h2>
<a class="anchor" id="a6bbe6a33a883b2eb6492c70d66617b00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdateVolume = ( 1 &lt;&lt; 0 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateAmbientParam で音量計算をする必要があることを示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1152a3949bf2baf58a8f3a8ca1748a03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdatePriority = ( 1 &lt;&lt; 1 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateAmbientParam でプレイヤープライオリティ計算をする必要があることを示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abace1d49ed849da92dfc2ebfcf0b05d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdatePan = ( 1 &lt;&lt; 2 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateAmbientParam でパン計算をする必要があることを示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9778119b953c30edd1d15c801b539289"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdateSurroundPan = ( 1 &lt;&lt; 3 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateAmbientParam でサラウンドパン計算をする必要があることを示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a41e4364f770fbc27bf72886196ecd508"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdateFilter = ( 1 &lt;&lt; 4 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateAmbientParam で Biquad フィルタのかかり具合を計算する必要があることを示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae89e7e56ec38e95ca4a394491b6e18ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdatePitch = ( 1 &lt;&lt; 5 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateAmbientParam でピッチ計算をする必要があることを示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a05d0b66b30b4bd300a670ecf852c3244"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t nn::atk::Sound3DEngine::UpdateStartPriority = ( 1 &lt;&lt; 24 )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>サウンド開始前のプレイヤープライオリティ計算のために UpdateAmbientParam が呼ばれた事を示すフラグです。 </p>
<dl class="section see"><dt>参照</dt><dd><a class="el" href="classnn_1_1atk_1_1_sound3_d_engine.html#a5d08be219abc1810c898df3fbb06d337" title="3D サウンドのパラメータ演算を行う関数です。 ">UpdateAmbientParam</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</body>
</html>
