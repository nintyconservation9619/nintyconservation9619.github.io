<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NintendoSDK API Reference: nn::image::JpegEncoder クラス</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="openclose.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NintendoSDK API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>総合概要</span></a></li>
      <li><a href="pages.html"><span>諸情報</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="namespaces.html"><span>名前空間</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>クラス一覧</span></a></li>
      <li><a href="classes.html"><span>クラス索引</span></a></li>
      <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
      <li><a href="functions.html"><span>クラスメンバ</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenn.html">nn</a></li><li class="navelem"><a class="el" href="namespacenn_1_1image.html">image</a></li><li class="navelem"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html">JpegEncoder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">公開メンバ関数</a> &#124;
<a href="classnn_1_1image_1_1_jpeg_encoder-members.html">全メンバ一覧</a>  </div>
  <div class="headertitle">
<div class="title">nn::image::JpegEncoder クラス</div>  </div>
</div><!--header-->
<div class="contents">

<p>JPEGデータへのエンコードを行います。  
 <a href="classnn_1_1image_1_1_jpeg_encoder.html#details">[詳解]</a></p>

<p><code>#include &lt;nn/image/image_JpegEncoder.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
公開メンバ関数</h2></td></tr>
<tr class="memitem:a2bab2e1a9cecc52af117dea9e0df0c48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a2bab2e1a9cecc52af117dea9e0df0c48">JpegEncoder</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a2bab2e1a9cecc52af117dea9e0df0c48"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスのインスタンスを作成します。  <a href="#a2bab2e1a9cecc52af117dea9e0df0c48">[詳解]</a><br /></td></tr>
<tr class="separator:a2bab2e1a9cecc52af117dea9e0df0c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b8ec7d1110c6daeb91930a50dff741"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76b8ec7d1110c6daeb91930a50dff741"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a76b8ec7d1110c6daeb91930a50dff741">~JpegEncoder</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a76b8ec7d1110c6daeb91930a50dff741"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスのインスタンスを破棄します。 <br /></td></tr>
<tr class="separator:a76b8ec7d1110c6daeb91930a50dff741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">エンコード設定</div></td></tr>
<tr class="memitem:a47c9917a740d4569ddd647d6e4ae64cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a47c9917a740d4569ddd647d6e4ae64cf">SetPixelData</a> (const void *pixelData, <a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538">PixelFormat</a> pxFormat, const ::<a class="el" href="structnn_1_1image_1_1_dimension.html">nn::image::Dimension</a> &amp;dimension, const int lineAlignment) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a47c9917a740d4569ddd647d6e4ae64cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">JPEGエンコードを行うピクセルデータを、ピクセルフォーマットを指定して登録します。  <a href="#a47c9917a740d4569ddd647d6e4ae64cf">[詳解]</a><br /></td></tr>
<tr class="separator:a47c9917a740d4569ddd647d6e4ae64cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37388056168b0b2b8f3c709bc101e4a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a37388056168b0b2b8f3c709bc101e4a9">SetPixelData</a> (const void *pixelData, const ::<a class="el" href="structnn_1_1image_1_1_dimension.html">nn::image::Dimension</a> &amp;dimension, const int lineAlignment) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a37388056168b0b2b8f3c709bc101e4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">JPEGエンコードを行うピクセルデータを登録します。  <a href="#a37388056168b0b2b8f3c709bc101e4a9">[詳解]</a><br /></td></tr>
<tr class="separator:a37388056168b0b2b8f3c709bc101e4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a384908d45afc2cc7a3a31eb91cacc8af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a384908d45afc2cc7a3a31eb91cacc8af">SetQuality</a> (const int quality) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a384908d45afc2cc7a3a31eb91cacc8af"><td class="mdescLeft">&#160;</td><td class="mdescRight">JPEGエンコード時の画質を設定します。  <a href="#a384908d45afc2cc7a3a31eb91cacc8af">[詳解]</a><br /></td></tr>
<tr class="separator:a384908d45afc2cc7a3a31eb91cacc8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8266ce81652ed78005e63e68f1b066a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ac8266ce81652ed78005e63e68f1b066a">SetSamplingRatio</a> (const <a class="el" href="namespacenn_1_1image.html#ac9106d5a0df8b9453f48ec618cf0850e">JpegSamplingRatio</a> samplingRatio) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:ac8266ce81652ed78005e63e68f1b066a"><td class="mdescLeft">&#160;</td><td class="mdescRight">JPEGエンコード時のピクセルサンプリング比を設定します。  <a href="#ac8266ce81652ed78005e63e68f1b066a">[詳解]</a><br /></td></tr>
<tr class="separator:ac8266ce81652ed78005e63e68f1b066a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">中間情報の取得</div></td></tr>
<tr class="memitem:abc556ad99a578459ea3c9f4822eb5497"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">JpegStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497">Analyze</a> () <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:abc556ad99a578459ea3c9f4822eb5497"><td class="mdescLeft">&#160;</td><td class="mdescRight">設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。  <a href="#abc556ad99a578459ea3c9f4822eb5497">[詳解]</a><br /></td></tr>
<tr class="separator:abc556ad99a578459ea3c9f4822eb5497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6ef1ee7483972b30cf4bb17d104121"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a1c6ef1ee7483972b30cf4bb17d104121">GetAnalyzedWorkBufferSize</a> () const <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a1c6ef1ee7483972b30cf4bb17d104121"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> によって取得された、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> 用ワークメモリの大きさを取得します。  <a href="#a1c6ef1ee7483972b30cf4bb17d104121">[詳解]</a><br /></td></tr>
<tr class="separator:a1c6ef1ee7483972b30cf4bb17d104121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">エンコード処理</div></td></tr>
<tr class="memitem:ada59b19635ad8dd92a7acd969449d677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">JpegStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677">Encode</a> (size_t *pOutActualCodedSize, void *outJpegBuf, const size_t jpegBufSize, void *workBuf, const size_t workBufSize, <a class="el" href="classnn_1_1image_1_1_exif_builder.html">ExifBuilder</a> *pExifBuilder) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:ada59b19635ad8dd92a7acd969449d677"><td class="mdescLeft">&#160;</td><td class="mdescRight">ピクセルデータをJPEGエンコードします。  <a href="#ada59b19635ad8dd92a7acd969449d677">[詳解]</a><br /></td></tr>
<tr class="separator:ada59b19635ad8dd92a7acd969449d677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8d3cbfdd92212caf338cabd92ce5c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">JpegStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a3e8d3cbfdd92212caf338cabd92ce5c2">Encode</a> (size_t *pOutActualCodedSize, void *outJpegBuf, const size_t jpegBufSize, void *workBuf, const size_t workBufSize) <a class="el" href="nn___macro_8h.html#a0e31cc4dc24d85253a31e48b1a85ab33">NN_NOEXCEPT</a></td></tr>
<tr class="memdesc:a3e8d3cbfdd92212caf338cabd92ce5c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">ピクセルデータをJPEGエンコードします。  <a href="#a3e8d3cbfdd92212caf338cabd92ce5c2">[詳解]</a><br /></td></tr>
<tr class="separator:a3e8d3cbfdd92212caf338cabd92ce5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">詳解</h2>
<div class="textblock"><p>JPEGデータへのエンコードを行います。 </p>
<p><b>詳細</b> <br />
 与えられたピクセルデータを指定されたパラメータに基づきエンコードし、JPEGデータを出力します。 また、与えられた <a class="el" href="classnn_1_1image_1_1_exif_builder.html" title="Exif情報の構築を行います。 ">nn::image::ExifBuilder</a> オブジェクトからExif情報を生成し、JPEGデータに付加する機能も提供します。</p>
<h3>出力されるJPEGデータの仕様</h3>
<p>出力されるピクセルデータはベースライン方式でスキャンされ、YCbCr色空間で符号化されてJPEGデータとなります。 ピクセルデータのサンプリング比は4:2:0(デフォルト)、4:2:2、4:4:4から選ぶことができます。 また、エンコードの品質を指定することで、画質と出力サイズを調整できます。</p>
<h3>ワークメモリサイズと出力サイズ</h3>
<p>JPEGデータへのエンコード時に必要なワークメモリの大きさと出力されるJPEGデータの大きさは、入力するピクセルデータや エンコードのパラメータによって変動します。</p>
<p>必要なワークメモリの大きさは、ピクセルデータの内容に関わらず、ピクセルデータの大きさとサンプリング比によって 一意に定まります。 もしアプリケーションが不特定のサンプリング比でエンコードを行う場合、予約すべきワークメモリの大きさの上限は、 事前に次のパラメータでエンコードを行うことで取得することができます。</p>
<table class="doxtable">
<tr>
<th>ピクセルサイズ </th><th align="right">サンプリング比  </th></tr>
<tr>
<td>アプリケーションが取り扱う最大値</td><td align="right">4:2:0 </td></tr>
</table>
<p>一方で出力されるJPEGデータの大きさは、ピクセルデータの内容(色や模様)によって変動するため、 事前に計算することが困難です。 参考のため、代表的なピクセルデータの大きさとエンコードパラメータに対する出力バッファの大きさを記します。 この数値を目安に、十分な大きさの出力バッファを確保してください。 ただし下表の数値には、Exif 情報の大きさは含まれていません。</p>
<table class="doxtable">
<tr>
<th>画像サイズ</th><th align="right">サンプリング比</th><th align="right">エンコード品質</th><th align="right">出力サイズ(バイト数)  </th></tr>
<tr>
<td>1080p</td><td align="right">4:4:4</td><td align="right">100</td><td align="right">3349964 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">1228552 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">955057 </td></tr>
<tr>
<td>〃 </td><td align="right">4:2:2</td><td align="right">100</td><td align="right">3334076 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">1212352 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">938857 </td></tr>
<tr>
<td>〃 </td><td align="right">4:2:0</td><td align="right">100</td><td align="right">3326408 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">1204493 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">931044 </td></tr>
<tr>
<td>720p </td><td align="right">4:4:4</td><td align="right">100</td><td align="right">1512857 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">546301 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">424125 </td></tr>
<tr>
<td>〃 </td><td align="right">4:2:2</td><td align="right">100</td><td align="right">1505771 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">539101 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">416925 </td></tr>
<tr>
<td>〃 </td><td align="right">4:2:0</td><td align="right">100</td><td align="right">1502424 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">535549 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">413358 </td></tr>
<tr>
<td>VGA </td><td align="right">4:4:4</td><td align="right">100</td><td align="right">498617 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">183302 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">142665 </td></tr>
<tr>
<td>〃 </td><td align="right">4:2:2</td><td align="right">100</td><td align="right">496256 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">180902 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">140265 </td></tr>
<tr>
<td>〃 </td><td align="right">4:2:0</td><td align="right">100</td><td align="right">495013 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">75</td><td align="right">179681 </td></tr>
<tr>
<td>〃 </td><td align="right">〃 </td><td align="right">50</td><td align="right">139076 </td></tr>
</table>
<h3>オブジェクトの内部状態</h3>
<p><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> オブジェクトはその内部で次の3つの状態を持ちます。</p><ul>
<li>ピクセルデータ未登録状態<ul>
<li><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> オブジェクトにピクセルデータが設定されていない状態です。</li>
</ul>
</li>
<li>ピクセルデータ登録済み状態<ul>
<li><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> オブジェクトにピクセルデータが設定されている一方、ピクセルデータやパラメータが解析されていない状態です。</li>
</ul>
</li>
<li>ピクセルデータ解析済み状態<ul>
<li><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> オブジェクトに最後に設定されたピクセルデータとパラメータが解析されたあとの状態です。</li>
</ul>
</li>
</ul>
<h3>並列処理について</h3>
<p><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスのオブジェクトを複数生成して、複数のピクセルデータを並行してJPEGエンコードすることが可能です。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#_a13">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#_a14">ImageJpegEncoding.cpp</a>.</dd>
</dl></div><h2 class="groupheader">構築子と解体子</h2>
<a class="anchor" id="a2bab2e1a9cecc52af117dea9e0df0c48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nn::image::JpegEncoder::JpegEncoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスのインスタンスを作成します。 </p>
<dl class="section post"><dt>事後条件</dt><dd><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a384908d45afc2cc7a3a31eb91cacc8af" title="JPEGエンコード時の画質を設定します。 ">SetQuality()</a> で設定可能な画質設定は 100 に初期化されます。 また、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ac8266ce81652ed78005e63e68f1b066a" title="JPEGエンコード時のピクセルサンプリング比を設定します。 ">SetSamplingRatio()</a> で設定可能なサンプリング比は 4:2:0 に初期化されます。 作成されるオブジェクトの内部状態は「ピクセルデータ未登録状態」となります。 </dd></dl>

</div>
</div>
<h2 class="groupheader">関数詳解</h2>
<a class="anchor" id="a47c9917a740d4569ddd647d6e4ae64cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::JpegEncoder::SetPixelData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pixelData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538">PixelFormat</a>&#160;</td>
          <td class="paramname"><em>pxFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ::<a class="el" href="structnn_1_1image_1_1_dimension.html">nn::image::Dimension</a> &amp;&#160;</td>
          <td class="paramname"><em>dimension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>lineAlignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>JPEGエンコードを行うピクセルデータを、ピクセルフォーマットを指定して登録します。 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pixelData</td><td>エンコード対象のピクセルデータを指定します。 このピクセルデータの各ピクセルは、 'pxFormat' で指定したピクセルフォーマットであることが必要です。 ピクセルデータがアルファチャンネルを含む場合、アルファチャンネルの値は無視されます。 また、アラインメントのためのパディング領域は無視されます。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxFormat</td><td>エンコード対象のピクセルデータのピクセルフォーマットを指定します。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dimension</td><td>'pixelData'の大きさ(幅,高さ) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lineAlignment</td><td>ピクセルデータの行アラインメントを指定します。 例えば129px幅の画像が130px幅のピクセルバッファに格納されている場合、2などを指定します。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>事前条件</dt><dd>次の条件をすべて満たすことが必要です。<ul>
<li>'pixelData' は 'dimension' で指定される大きさで、 'lineAlignment' の値で行アラインメントされている必要があります。</li>
<li>'pxFormat' として <a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538" title="画像データのピクセルフォーマットを表す列挙子 ">nn::image::PixelFormat</a> 列挙子で定義済みの値を指定する必要があります。 </li>
</ul>
</dd></dl>
<dl class="section post"><dt>事後条件</dt><dd>「ピクセルデータ登録済み状態」となり、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> を呼ぶことができます。</dd></dl>
<p><b>詳細</b> <br />
 エンコード対象のピクセルデータを、ピクセルフォーマットを指定して登録します。 ピクセルフォーマットに <a class="el" href="namespacenn_1_1image.html#abb6e9a98701483adc76f934a6f688538a30442c9dcc888ff838dd5426ccf12b75" title="RGB各8bitで表現された計24bitのピクセルデータ ">nn::image::PixelFormat_Rgb24</a> を指定すると、それ以外のピクセルフォーマットを指定した場合と比べ必要なワークメモリが小さくなります。</p>
<p>本関数呼び出し後、インスタンスを破棄するか再度本関数を呼び出すまで、ここで登録した 'pixelData' の 内容を変更しないでください。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#a17">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#a22">ImageJpegEncoding.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a37388056168b0b2b8f3c709bc101e4a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::JpegEncoder::SetPixelData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pixelData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ::<a class="el" href="structnn_1_1image_1_1_dimension.html">nn::image::Dimension</a> &amp;&#160;</td>
          <td class="paramname"><em>dimension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>lineAlignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>JPEGエンコードを行うピクセルデータを登録します。 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pixelData</td><td>エンコード対象の32bitのRGBAピクセルデータを指定します。 アルファチャンネルやアラインメントのためのパディング領域は無視されます。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dimension</td><td>'pixelData'の大きさ(幅,高さ) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lineAlignment</td><td>ピクセルデータの行アラインメントを指定します。 例えば129px幅の画像が130px幅のピクセルバッファに格納されている場合、2などを指定します。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>事前条件</dt><dd>'pixelData' は 'dimension' で指定される大きさで、 'lineAlignment' の値で行アラインメントされている必要があります。 </dd></dl>
<dl class="section post"><dt>事後条件</dt><dd>「ピクセルデータ登録済み状態」となり、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> を呼ぶことができます。</dd></dl>
<p><b>詳細</b> <br />
 エンコード対象のピクセルデータを指定します。 本関数呼び出し後、インスタンスを破棄するか再度本関数を呼び出すまで、ここで登録した 'pixelData' の 内容を変更しないでください。 </p>

</div>
</div>
<a class="anchor" id="a384908d45afc2cc7a3a31eb91cacc8af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::JpegEncoder::SetQuality </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>quality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>JPEGエンコード時の画質を設定します。 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">quality</td><td>画質を [1, 100] の範囲で指定します。一般に値が大きくなるほど画質が向上し、エンコード後のサイズが増加します。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>事前条件</dt><dd>'quality' には {1..100} に含まれる値を指定してください。 </dd></dl>
<dl class="section post"><dt>事後条件</dt><dd>もし <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> オブジェクトが「ピクセルデータ解析済み状態」であれば、「ピクセルデータ登録済み状態」となります。 それ以外の状態からは変化しません。</dd></dl>
<p><b>詳細</b> <br />
 JPEGエンコード時の画質を設定します。 この設定はエンコード後のJPEGデータの画質と大きさに影響します。</p>
<p>デフォルト値である 100 を使用する場合、この設定は必須ではありません。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#a18">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#a15">ImageJpegEncoding.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac8266ce81652ed78005e63e68f1b066a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nn::image::JpegEncoder::SetSamplingRatio </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacenn_1_1image.html#ac9106d5a0df8b9453f48ec618cf0850e">JpegSamplingRatio</a>&#160;</td>
          <td class="paramname"><em>samplingRatio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>JPEGエンコード時のピクセルサンプリング比を設定します。 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">samplingRatio</td><td>サンプリング比を指定します。 一般に 4:2:0, 4:2:2, 4:4:4 の順に画質が向上し、エンコード後のサイズが増加します。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>事後条件</dt><dd>もし <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> オブジェクトが「ピクセルデータ解析済み状態」であれば、「ピクセルデータ登録済み状態」となります。 それ以外の状態からは変化しません。</dd></dl>
<p><b>詳細</b> <br />
 JPEGエンコード時のピクセルサンプリング比を設定します。 この設定はエンコード後のJPEGデータの画質と大きさに影響します。</p>
<p>デフォルト値である 4:2:0 を使用する場合、この設定は必須ではありません。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#a19">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#a33">ImageJpegEncoding.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="abc556ad99a578459ea3c9f4822eb5497"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">JpegStatus</a> nn::image::JpegEncoder::Analyze </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 </p>
<dl class="section return"><dt>戻り値</dt><dd>処理結果を返します。 <br />
 </dd></dl>
<dl class="retval"><dt><b><a class="el" href="retval.html#_retval000128">戻り値一覧:</a></b></dt><dd><b><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3a2f99a50104618a54e9d4e3bfa4e35ffc" title="成功 ">nn::image::JpegStatus_Ok</a></b> 処理が正常に終了しました。</dd></dl>
<dl class="section pre"><dt>事前条件</dt><dd>「ピクセルデータ登録済み状態」か「ピクセルデータ解析済み状態」であることが必要です。 </dd></dl>
<dl class="section post"><dt>事後条件</dt><dd>「ピクセルデータ解析済み状態」となります。</dd></dl>
<p><b>詳細</b> <br />
 設定されたピクセルデータ、画質設定、サンプリング比を解析し、ピクセルデータのエンコードに 必要な情報を抽出することでエンコードに備えます。</p>
<p>現在の実装では JpegStatus_Ok のみ返ります。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#a21">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#a16">ImageJpegEncoding.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a1c6ef1ee7483972b30cf4bb17d104121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nn::image::JpegEncoder::GetAnalyzedWorkBufferSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> によって取得された、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> 用ワークメモリの大きさを取得します。 </p>
<dl class="section return"><dt>戻り値</dt><dd><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> に与える必要のあるワークメモリの大きさ(バイト数)が返ります。</dd></dl>
<dl class="section pre"><dt>事前条件</dt><dd>「ピクセルデータ解析済み状態」であること。</dd></dl>
<p><b>詳細</b> <br />
 必要なワークメモリの大きさはエンコード対象のピクセルデータおよびサンプリング比によって変動します。 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスの説明欄にワークメモリの大きさについて説明を記載しています。 その説明に従って、必要なワークメモリの大きさを計算し、予約してください。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#a23">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#a19">ImageJpegEncoding.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ada59b19635ad8dd92a7acd969449d677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">JpegStatus</a> nn::image::JpegEncoder::Encode </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pOutActualCodedSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>outJpegBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>jpegBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>workBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>workBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnn_1_1image_1_1_exif_builder.html">ExifBuilder</a> *&#160;</td>
          <td class="paramname"><em>pExifBuilder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ピクセルデータをJPEGエンコードします。 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutActualCodedSize</td><td>出力されるJPEGデータの実際の大きさ(バイト数)の格納先を指定します。 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outJpegBuf</td><td>出力されるJPEGデータの格納先を指定します。 出力されるJPEGデータを格納するための領域の大きさは、エンコード対象のピクセルデータ、 画質設定およびサンプリング比によって変動し、不定です。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpegBufSize</td><td>'outJpegBuf' の大きさ(バイト数)を指定します。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">workBuf</td><td>ワークメモリを指定します。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">workBufSize</td><td>ワークメモリの大きさ(バイト数)を指定します。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pExifBuilder</td><td>JPEGデータ に付加するExif情報を生成するための <a class="el" href="classnn_1_1image_1_1_exif_builder.html" title="Exif情報の構築を行います。 ">nn::image::ExifBuilder</a> オブジェクトを指定します。 nullptr を指定するとExif情報の出力を省略します。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>処理結果を返します。 <br />
 </dd></dl>
<dl class="retval"><dt><b><a class="el" href="retval.html#_retval000129">戻り値一覧:</a></b></dt><dd><p class="startdd"><b><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3a2f99a50104618a54e9d4e3bfa4e35ffc" title="成功 ">nn::image::JpegStatus_Ok</a></b> 処理が正常に終了しました。 <br />
 </p>
<p class="enddd"><b><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3ae620d8f647aed850da0669fd1da2edc5" title="出力バッファの不足 ">nn::image::JpegStatus_ShortOutput</a></b> エンコード中に出力バッファが不足しました。 より大きなバッファを出力バッファに指定するか、画質設定および サンプリング比を調整してください。 画質設定やサンプリング比を下げると必要な出力サイズは小さく なりますが、画質は劣化します。</p>
</dd></dl>
<dl class="section pre"><dt>事前条件</dt><dd>次の条件をすべて満たすことが必要です。<ul>
<li>'workBuf' は <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a1c6ef1ee7483972b30cf4bb17d104121" title="Analyze() によって取得された、 Encode() 用ワークメモリの大きさを取得します。 ">GetAnalyzedWorkBufferSize()</a> で取得した値以上の大きさである。</li>
<li>'workBuf' のアドレスが std::max_align_t のアラインメントに沿っている。</li>
<li>'pExifBuilder' に非 nullptr を指定する場合、 <a class="el" href="classnn_1_1image_1_1_exif_builder.html#a823009b1e901e76983c2e667aab7b0c0" title="Build()を呼び出し可能かを取得します。 ">nn::image::ExifBuilder::IsBuildable()</a> が true を返す状態である。</li>
<li>「ピクセルデータ解析済み状態」である。 </li>
</ul>
</dd></dl>
<dl class="section post"><dt>事後条件</dt><dd>'pExifBuilder' に nullptr 以外の値を与えると、'outJpegBuf' に出力されるJPEGデータにExif情報が付加されます。 このとき <a class="el" href="classnn_1_1image_1_1_exif_builder.html" title="Exif情報の構築を行います。 ">ExifBuilder</a> オブジェクト内部のワークメモリに変更が加えられます。</dd></dl>
<p><b>詳細</b> <br />
 設定されたピクセルデータ、画質設定、サンプリング比を使用し、ピクセルデータをエンコードします。 このとき、 'pExifBuilder' に有効な値が指定されていると、出力されるJPEGデータにExif情報が付加されます。</p>
<p><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> で JpegStatus_Ok となったピクセルデータが、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> でエラーを返すことがあります。 これは <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> が参照しない情報を <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> が使用しているためです。 従って <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> と <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> の両方でエラーチェックを行う必要があります。</p>
<p>出力バッファの大きさは事前に計算できないため、用途に沿った十分な大きさを確保してください。 目安となるように、代表的なピクセルサイズとエンコード設定について、出力バッファの大きさの例を <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスの説明欄に記載しています。 </p>
<dl><dt><b>各種例: </b></dt><dd><a class="el" href="_fontll_save_to_jpeg_8cpp-example.html#a24">FontllSaveToJpeg.cpp</a>, <a class="el" href="_image_jpeg_encoding_8cpp-example.html#a20">ImageJpegEncoding.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a3e8d3cbfdd92212caf338cabd92ce5c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3">JpegStatus</a> nn::image::JpegEncoder::Encode </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pOutActualCodedSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>outJpegBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>jpegBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>workBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>workBufSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ピクセルデータをJPEGエンコードします。 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pOutActualCodedSize</td><td>出力されるJPEGデータの実際の大きさ(バイト数)の格納先を指定します。 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outJpegBuf</td><td>出力されるJPEGデータの格納先を指定します。 出力されるJPEGデータを格納するための領域の大きさは、エンコード対象のピクセルデータ、 画質設定およびサンプリング比によって変動し、不定です。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpegBufSize</td><td>'outJpegBuf' の大きさ(バイト数)を指定します。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">workBuf</td><td>ワークメモリを指定します。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">workBufSize</td><td>ワークメモリの大きさ(バイト数)を指定します。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>処理結果を返します。 <br />
 </dd></dl>
<dl class="retval"><dt><b><a class="el" href="retval.html#_retval000130">戻り値一覧:</a></b></dt><dd><p class="startdd"><b><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3a2f99a50104618a54e9d4e3bfa4e35ffc" title="成功 ">nn::image::JpegStatus_Ok</a></b> 処理が正常に終了しました。 <br />
 </p>
<p class="enddd"><b><a class="el" href="namespacenn_1_1image.html#a8c78190141f5d2997ea6dfdaac0730e3ae620d8f647aed850da0669fd1da2edc5" title="出力バッファの不足 ">nn::image::JpegStatus_ShortOutput</a></b> エンコード中に出力バッファが不足しました。 より大きなバッファを出力バッファに指定するか、画質設定および サンプリング比を調整してください。 画質設定やサンプリング比を下げると必要な出力サイズは小さく なりますが、画質は劣化します。</p>
</dd></dl>
<dl class="section pre"><dt>事前条件</dt><dd>次の条件をすべて満たすことが必要です。<ul>
<li>'workBuf' は <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#a1c6ef1ee7483972b30cf4bb17d104121" title="Analyze() によって取得された、 Encode() 用ワークメモリの大きさを取得します。 ">GetAnalyzedWorkBufferSize()</a> で取得した値以上の大きさである。</li>
<li>'workBuf' のアドレスが std::max_align_t のアラインメントに沿っている。</li>
<li>「ピクセルデータ解析済み状態」である。</li>
</ul>
</dd></dl>
<p><b>詳細</b> <br />
 設定されたピクセルデータ、画質設定、サンプリング比を使用し、ピクセルデータをエンコードします。 この関数の呼び出しでは、出力されるJPEGデータにExif情報は付加されません。</p>
<p><a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> で JpegStatus_Ok となったピクセルデータが、 <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> でエラーを返すことがあります。 これは <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> が参照しない情報を <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> が使用しているためです。 従って <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#abc556ad99a578459ea3c9f4822eb5497" title="設定されたピクセルデータ、画質設定、サンプリング比を解析し、内部パラメータを構築します。 ...">Analyze()</a> と <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html#ada59b19635ad8dd92a7acd969449d677" title="ピクセルデータをJPEGエンコードします。 ">Encode()</a> の両方でエラーチェックを行う必要があります。</p>
<p>出力バッファの大きさは事前に計算できないため、用途に沿った十分な大きさを確保してください。 目安となるように、代表的なピクセルサイズとエンコード設定について、出力バッファの大きさの例を <a class="el" href="classnn_1_1image_1_1_jpeg_encoder.html" title="JPEGデータへのエンコードを行います。 ">JpegEncoder</a> クラスの説明欄に記載しています。 </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</body>
</html>
