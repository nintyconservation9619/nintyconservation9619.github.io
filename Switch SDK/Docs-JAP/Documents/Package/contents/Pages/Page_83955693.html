<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>ftx ファイル形式プラグイン</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- ftx ファイル形式プラグイン -->
<div class="pagetitle" id="PageId_83955693">ftx ファイル形式プラグイン</div>
<div class="text_separate">
<h1 id="Anchor_83955693_h1_1">ftx ファイル形式プラグイン</h1>
<p>ここでは、ftx ファイル形式プラグインの機能と使用方法を説明します。</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_83955693_h2_1">セーブ方法</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_83955693_h3_1">オプション設定</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_83955693_h2_2">ロード方法</a>
    </li>
    <li>
      <a href="#Anchor_83955693_h2_3">注意事項</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_83955693_h3_2">イメージモード</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_3">画像のサイズ</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_4">アルファチャンネル</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_5">レイヤー</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_6">上書き保存</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_7">画質の保持</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_8">カラー設定</a>
      </li>
      <li>
        <a href="#Anchor_83955693_h3_9">ミップマップ</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_83955693_h2_4">関連リンク</a>
    </li>
  </ul>
</p>
<h2 id="Anchor_83955693_h2_1">セーブ方法</h2>
<p>テクスチャー中間ファイル（.ftxa、.ftxb）をセーブするには、[ファイル] &rarr; [別名で保存...] を実行し、ファイル形式を Nintendo ftx にします。<br /> ファイル名を入力します。アスキー形式でセーブする場合は拡張子 .ftxa まで入力します。</p>
<p>
  <strong>保存</strong> ボタンをクリックすると、オプションダイアログが表示されます。</p>
<p>
  <strong>Data Size</strong> には現在のオプション設定におけるテクスチャーの実データサイズ、幅、高さ、ミップマップのレベル数などが表示されます。<br />対象プラットフォームによってはバイナリ変換時にデータがタイリングされるので、<span style="color: rgb(51,51,51);">テクスチャーバイナリファイルにおける</span>データサイズはこの値より大きくなる場合があります。</p>
<p>
  <strong>Linear</strong> には、ガンマを sRGB からリニアーに変換する RGBA 成分があれば表示されます（変更はできません）。<br /> リニアー変換は<a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">テクスチャーエクスポートプラグインのコンフィグファイル</a>で、フォーマット選択のプリセットに対して設定します。</p>
<p>適切なオプションを設定して、<strong>OK</strong> ボタンをクリックすればセーブ完了です。</p>
<h3 id="Anchor_83955693_h3_1">オプション設定</h3>
<ul>
  <li>
    <strong>Config<br /></strong>
    <a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">テクスチャーエクスポートプラグインのコンフィグファイル</a>が複数存在する場合に、使用するコンフィグ名を選択します。<br />このオプションを変更すると、コンフィグファイルのフォーマット選択のプリセットが Format オプションに反映され、Component Selection、Hint、Swizzle オプションの設定が上書きされます。</li>
  <li>
    <strong>Format<br /></strong>フォーマットを指定します。<br />選択可能な項目は<a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">テクスチャーエクスポートプラグインのコンフィグファイル</a>で設定できます。<br /><strong>All Format</strong> を ON にすると、現在のイメージモードに対応しているすべてのフォーマットから選択できます。<br />unorm_4_4、unorm_8_8、unorm_bc5、unorm_eac_11_11 フォーマットでヒント情報が normal 以外の場合、アルファチャンネルがあればアルファチャンネルをテクスチャーの G 成分に反映します。</li>
  <li>
    <strong>Weighted Compress<br /></strong>bc1、bc2、bc3、etc1、etc2 の圧縮をする際に、RGB の誤差に対して人間の目に合わせた重み付けをするなら ON にします。</li>
  <li>
    <strong>Dimension<br /></strong>次元を指定します。<br />一次元テクスチャーなら <strong>1d</strong>、二次元テクスチャーなら <strong>2d</strong>、キューブマップなら <strong>cube</strong> を選択します。<br />cube は画像が<a href="../Pages/Page_239574379.html#Anchor_239574379_horizontal_cross">水平十字または垂直十字キューブマップ</a>の状態になっている場合のみ選択可能です。</li>
  <li>
    <strong>Mipmap<br /></strong>ミップマップを作成するなら ON にします。<br />ミップマップは幅と高さが 1 になるレベルまで作成されます。</li>
  <li>
    <strong>Mip Gen Filter<br /></strong>ミップマップを生成する際のフィルターを指定します。<br />ポイントサンプルなら <strong>point</strong>、線形補間なら <strong>linear</strong>、キュービック補間なら <strong>cubic</strong> を選択します。</li>
  <li>
    <strong>Component Selection<br /></strong>RGBA の各チャンネルに対するカラー成分をリストから選択します（左から RGBA の順に指定します）。<br />All Format が OFF の場合、このオプションは無効となり、フォーマットを変更した際にプリセットの成分選択が適用されます。<br />All Format が ON の場合、フォーマットを変更した際に<a href="../Pages/Page_239574379.html#Anchor_239574379_comp_sel">フォーマットに対するデフォルトの成分選択</a>が自動的に適用されます。独自の成分選択を指定する場合は、フォーマットを決定してからこのオプションを変更してください。</li>
  <li>
    <strong>Hint<br /></strong>ヒント情報を指定します。<br />選択可能な項目は<a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">テクスチャーエクスポートプラグインのコンフィグファイル</a>で設定できます。<br />コンフィグファイルで、フォーマット選択のプリセットに対してヒント情報を指定している場合は変更できません。<br />プリセットのフォーマットを選択した際は、コンフィグファイルで指定したヒント情報が適用されます。<br />ヒント情報が normal で画像が 8 bit/チャンネルの場合、法線の Z 成分が 0 以上かつ長さが 1.0 になるように調整したテクスチャーデータを出力します（中間ファイルの元画像データは調整しません）。<br />All Format が ON かつ ASTC フォーマットを指定している場合、ヒント情報を変更した際に<a href="../Pages/Page_239574379.html#Anchor_239574379_comp_sel">フォーマットに対するデフォルトの成分選択</a>が自動的に適用されます。</li>
  <li>
    <strong>Swizzle<br /></strong>初期スウィズル値を指定します。初期スウィズル値は特定プラットフォームでのみ、パフォーマンスに影響します。<br /><a href="../Pages/Page_83956098.html#Anchor_83956098_tex_config">テクスチャーエクスポートプラグインのコンフィグファイル</a>で、フォーマット選択のプリセットに対して初期スウィズル値を指定している場合は変更できません。<br />プリセットのフォーマットを選択した際は、コンフィグファイルで指定した初期スウィズル値が適用されます。</li>
  <li>
    <strong>Comment<br /></strong>中間ファイルに対する編集用コメント文を指定します。<br />ダブルクォートは使用できません。</li>
</ul>
<h2 id="Anchor_83955693_h2_2">ロード方法</h2>
<p>テクスチャー中間ファイル（.ftxa、.ftxb）をロードするには、[ファイル] &rarr; [開く...] を実行して、テクスチャー中間ファイルを選択し、<strong>開く</strong> ボタンをクリックしてください。<br /> また、テクスチャー中間ファイルを Photoshop のウィンドウにドラッグ＆ドロップしてロードすることも可能です。</p>
<p>キューブマップは水平十字キューブマップの状態でロードされます。</p>
<p>三次元テクスチャー、配列テクスチャーのテクスチャー中間ファイルはロードできません。</p>
<h2 id="Anchor_83955693_h2_3">注意事項</h2>
<p>ftx ファイル形式プラグインを使用する際の注意事項です。</p>
<h3 id="Anchor_83955693_h3_2">イメージモード</h3>
<p>イメージモードがグレースケール、インデックスカラー、RGB カラー以外のファイルや、16 bit/チャンネルのファイルは、Nintendo ftx でセーブできません。<br />32 bit/チャンネルのファイルを astc フォーマットでセーブする場合、実数型に換算したピクセル値が [0,1] の範囲外の場合はクランプします。</p>
<h3 id="Anchor_83955693_h3_3">画像のサイズ</h3>
<p>画像の幅と高さは 16384&nbsp;ピクセル以下である必要があります。<br /> キューブマップの場合は各ビュー方向の画像の幅と高さを 16384&nbsp;ピクセル以下にしてください。</p>
<h3 id="Anchor_83955693_h3_4">アルファチャンネル</h3>
<p>アルファチャンネルが 2 つ以上存在する場合、チャンネルウィンドウで一番上にあるアルファチャンネルだけがセーブされます。<br />次回ロードしたときには 2 番目以降のアルファチャンネルはなくなるので注意してください。</p>
<p>イメージモードがインデックスカラーの場合、カラーテーブルに透明色があってアルファチャンネルがなければ、透明色部分のアルファを 0 としてセーブします。</p>
<p>Photoshop 上でのアルファチャンネルの明るさは Photoshop の<a href="#Anchor_83955693_color_set">カラー設定</a>によって変わりますが、Nintendo ftx では<strong>カラー設定に関係なく</strong> K 値を 8 ビットにした値をアルファとしてセーブしています。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>K = 0% なら 255、K = 50% なら 128、K = 100% なら 0。Photoshop の内部では K 値は 8 ビットで保持されています。</p>
  </div>
</div>
<h3 id="Anchor_83955693_h3_5">レイヤー</h3>
<p>Nintendo ftx ではレイヤーの情報をセーブできません。<br />レイヤーが複数存在する画像を Nintendo ftx でセーブすると、次回ロードしたときには全レイヤーを結合した状態になります。</p>
<p>表示された背景がなくレイヤーのみが存在する画像で、アルファチャンネルがなければ、表示レイヤーを結合した場合のピクセルの透明度をアルファとしてセーブします。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>レイヤーマスクを使用している場合、レイヤーマスクで透明になっているピクセルの RGB 成分が白色になることがあります。<br />透明ピクセルの RGB 成分をそのまま出力したい場合は、レイヤーマスクを使用しないで、アルファチャンネルを使用してください。</p>
  </div>
</div>
<h3 id="Anchor_83955693_h3_6">上書き保存</h3>
<p>テクスチャー中間ファイルを上書き保存（[ファイル] &rarr; [保存]）した場合、前回セーブ時のオプション設定でセーブ可能ならオプションダイアログは表示されずに、前回セーブ時のオプション設定でセーブされます。<br /> オプションダイアログを表示したい場合は、[ファイル] &rarr; [別名で保存...] を実行してください。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>画像のサイズ変更などによって、前回セーブ時のオプション設定でセーブできない場合は、上書き保存でもオプションダイアログが表示されます。<br />このときはファイルの状態に適したオプションが選択されているので注意してください。</p>
  </div>
</div>
<h3 id="Anchor_83955693_h3_7">画質の保持</h3>
<p>テクスチャー中間ファイルをロードする際は元画像データをロードするので、どのフォーマットでセーブした場合でも、Photoshop 上での画質は保持されます。<br /> たとえば unorm_4_4_4_4 フォーマットでセーブしても、Photoshop 上での色深度は 4 ビットにはならずに 8 ビットのまま保持されます。</p>
<p>
  <a name="Anchor_83955693_color_set"></a>
</p>
<h3 id="Anchor_83955693_h3_8">カラー設定</h3>
<p>Photoshop 上でのグレースケールやアルファチャンネルの明るさは Photoshop のカラー設定によって変わりますが、Nintendo ftx では<strong>カラー設定に関係なく</strong> K 値を 8 ビットにした値をインテンシティ（アルファ）としてセーブしています。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>K = 0% なら 255、K = 50% なら 128、K = 100% なら 0。Photoshop の内部では K 値は 8 ビットで保持されています。</p>
  </div>
</div>
<p>テクスチャー中間ファイルにはカラー設定の情報は保存されません。<br /> なお、カラー設定を次のように設定すると、Photoshop 上でのグレースケールやアルファチャンネルの明るさはほぼ K 値に比例するようになります。</p>
<p>（詳細オプションを表示します）<br /> RGB: sRGB IEC61966-2.1<br /> グレー: sGray<br /> ディザの使用: OFF</p>
<h3 id="Anchor_83955693_h3_9">ミップマップ</h3>
<p>3D テクスチャーコンバーターでミップマップ画像を個別指定したテクスチャー中間ファイルには対応していません。<br /> ミップマップ画像を個別指定したテクスチャー中間ファイルを Photoshop 上にロードして、ftx ファイル形式プラグインでセーブすると、Photoshop 上の画像を縮小した画像でミップマップ部分が上書きされます。</p>
<h2 id="Anchor_83955693_h2_4">関連リンク</h2>
<p>
  <a href="../Pages/Page_83956012.html">Photoshop プラグイン</a>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
