<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>トラブルシューティング (NX Addon)</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- トラブルシューティング (NX Addon) -->
<div class="pagetitle" id="PageId_104492354">トラブルシューティング (NX Addon)</div>
<div class="text_separate">
<!--Remove-->
<p>
  <br />
</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_104492354_h1_1">TOOL</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_2">InitializeSdevWin の SDEV 接続リストに SDEV のシリアル番号が表示されない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_3">SDEV の IP アドレスがわからない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_4">Target Manager に開発機を追加できない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_5">Target Manager で開発機に接続できない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_6">開発機でプログラムを実行できない（Target Manager のログウィンドウに Unable to load... と表示される）</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_8">アプリクラッシュ時にダンプファイルが出力されない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_9">TargetManager を接続しているとスリープやスリープ復帰に時間がかかる</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_10">本体設定で自動スリープをするように設定しているのに、放置してもスリープに移行しない</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_2">VSI</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_11">ビルド時に「warning : プロジェクトファイル ○○ で参照されているプラットフォーム 'NX32' / 'NX64' が見つかりません。」というエラーが出る</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_12">旧バージョンの Visual Studio をインストールしている場合に MSBuild からプロジェクトをビルドできない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_13">プラットフォーム選択で &quot;汎用 (Generic)&quot; を選択して作成したプロジェクトにソリューションプラットフォームにNX32/NX64を追加してもNX向けのコードが生成されない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_14">ビルドオプションや入力ファイルに変更がないにも関わらず生成されるバイナリが同一にならない</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_3">DIAG</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_15">Target Manager との接続が不安定なとき、ログが欠落する、ログ API の実行が遅くなる</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_16">スタックトレースのログに (too far) が出る、期待した関数名が出力されない</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_4">FS</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_17">「Passed buffer is not usable for fs library.」 のメッセージとともに nn::fs::ReadFile(), nn::fs::WriteFile(), nn::fs::ReadDirectory() が停止する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_18">fs API コールで「Data access to an invalid memory region.」と出力されアプリケーションが停止する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_19">NAND 起動のアプリケーションで nn::fs::MountRom() が 0x000AF002 (Module 2 = fs, Description 1400) で失敗する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_20">「Specified target is not found.」のメッセージとともに nn::fs::MountSaveData() が停止する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_21">セーブデータのサイズ変更が反映されない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_22">「Invalid path was specified.」 のメッセージとともにセーブデータ上の nn::fs::CreateFile(), nn::fs::CreateDirectory() が停止する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_23">セーブデータ上のファイル・ディレクトリ作成が nn::fs::ResultUsableSpaceNotEnough で失敗する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_24">nn::fs::MountSdCardForDebug() が失敗する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_25">SD カード上のファイルのタイムスタンプの最終更新日時や最終アクセス日時が作成日時より巻き戻ってみえる</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_26">アクセスログが得られない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_27">SD カードにアクセスログが最後まで保存されない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_28">FsAccessLogChecker で [INFO] Access log is incomplete. と出力される</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_29">FsAccessLogChecker で [WARNING] There are multiple fs access logs と出力される</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_30">FsAccessLogChecker で [FAIL] TotalTime (expect: More than 10 minutes) と出力される</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_5">MOVIE</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_31">動画再生中に遷移したHOMEメニューからアプリケーションに戻ると動画再生が進んでしまっている</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_32">MovieDecoderPlayerでの動画再生終了後すぐにプログラムが終了しないことがある</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_6">NVN</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_33">大量のリンクエラーが発生する</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_34">NVIDIA Graphics Driver をインストールしたのに環境チェックツールの「NVN API Version」の項目で &quot;Driver not installed&quot; と表示される</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_35">複数の GPU キューを使うアプリケーションの実行中に Home ボタンを押したらアプリケーションの画面のまま固まった</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_7">IRSENSOR</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_36">クラスタリングモード利用時に、WindowOfInterest の高さ設定を 1px, 幅を 20px 以下に設定すると、データが取得できなくなる</a>
      </li>
      <ul>
        <ul>
          <ul>
            <ul>
              <li>
                <a href="#Anchor_104492354_h6_1">症状</a>
              </li>
              <li>
                <a href="#Anchor_104492354_h6_2">回避策</a>
              </li>
            </ul>
          </ul>
        </ul>
      </ul>
      <li>
        <a href="#Anchor_104492354_h2_37">NX Addon 0.8.0 の モーションIRカメラ・NFC ファームウェアに巻き戻すとモーションIRカメラおよび NFC の機能が使用できない</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_8">HID</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_38">Nintendo Switch Pro コントローラが NFC タグの検出を開始・終了する際に振動しない</a>
      </li>
      <ul>
        <ul>
          <ul>
            <ul>
              <li>
                <a href="#Anchor_104492354_h6_3">症状</a>
              </li>
              <li>
                <a href="#Anchor_104492354_h6_4">回避策</a>
              </li>
            </ul>
          </ul>
        </ul>
      </ul>
      <li>
        <a href="#Anchor_104492354_h2_39">Joy-Con 充電グリップおよび Nintendo Switch Pro コントローラの充電がはじまらない</a>
      </li>
      <ul>
        <ul>
          <ul>
            <ul>
              <li>
                <a href="#Anchor_104492354_h6_5">症状</a>
              </li>
              <li>
                <a href="#Anchor_104492354_h6_6">回避策</a>
              </li>
            </ul>
          </ul>
        </ul>
      </ul>
      <li>
        <a href="#Anchor_104492354_h2_40">多台数のコントローラを接続した状態でまれに切断が発生することがある</a>
      </li>
      <ul>
        <ul>
          <ul>
            <ul>
              <li>
                <a href="#Anchor_104492354_h6_7">症状</a>
              </li>
              <li>
                <a href="#Anchor_104492354_h6_8">回避策</a>
              </li>
            </ul>
          </ul>
        </ul>
      </ul>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_9">開発機材のセットアップ関連</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_41">SDEV のセットアップに失敗する</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_104492354_h3_1">SDEV のセットアップに失敗するケース</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_104492354_h2_42">EDEV のセットアップに失敗する</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_10">TV出力・LCD 関連</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_43">一部のテレビで、CEC機能が動作しない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_44">一部のテレビで「テレビとの電源連動 (CEC)」を有効にしてドックアウト後すばやくドックインすると、 TV に映像が映らないことがある</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_45">ディスプレイに表示される色味が暗い</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_46">LCDに残像やチラツキが生じる</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_47">本体設定で画面焼け軽減が「On」になっているのに、放置しても画面が暗くならない</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_11">プログラムのビルド・実行</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_48">Oasis とはなにか？</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_49">サンプルがビルドできない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_50">SDK 内部で new が呼び出される（PC 環境のみ）</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_51">開発機でプログラムを実行できない</a>
      </li>
      <li>
        <a href="#Anchor_104492354_h2_52">開発機を手動でセーフモードに入れようとするとうまくいかない</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_104492354_h3_2">入れようとしてもメニューが起動してしまう</a>
        </li>
        <li>
          <a href="#Anchor_104492354_h3_3">入れてもセーフモードと認識されてないみたい</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_104492354_h2_53">プログラムの実行中に致命的なエラー（FATAL ERROR）が発生する</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_12">充電・給電</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_54">EDEV 本体の電池を 100% まで充電できない</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104492354_h1_13">ネットワークに接続できない</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104492354_h2_55">nn::nifm::IsNetworkAvailable() が true にならない</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_104492354_h3_4">有線・無線共通</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_104492354_h4_1">開発機向けの設定マネージャを使用して設定をインポートしていることを確認してください</a>
          </li>
          <li>
            <a href="#Anchor_104492354_h4_2">設定の内容が意図通りになっていることを確認してください</a>
          </li>
        </ul>
        <li>
          <a href="#Anchor_104492354_h3_5">有線</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_104492354_h4_3">ドック経由で USB Ethernet アダプターを接続していることを確認してください</a>
          </li>
          <li>
            <a href="#Anchor_104492354_h4_4">複数の USB Ethernet アダプターを接続していないことを確認してください</a>
          </li>
          <li>
            <a href="#Anchor_104492354_h4_5">ドックと SDEV の組み合わせが正しいことを確認してください</a>
          </li>
        </ul>
        <li>
          <a href="#Anchor_104492354_h3_6">無線</a>
        </li>
        <ul>
          <li>
            <a href="#Anchor_104492354_h4_6">SDEV 背面左下の DIP スイッチの1番と2番が ON になっていることを確認してください</a>
          </li>
          <li>
            <a href="#Anchor_104492354_h4_7">対応済みのセキュリティタイプであることを確認してください</a>
          </li>
        </ul>
      </ul>
      <li>
        <a href="#Anchor_104492354_h2_56">nn::nifm::IsNetworkAvailable() は true でも、外部ネットワークに接続できない</a>
      </li>
      <ul>
        <ul>
          <li>
            <a href="#Anchor_104492354_h4_8">外部ネットワークに接続可能な回線を利用していることを確認してください</a>
          </li>
        </ul>
      </ul>
    </ul>
  </ul>
</p>
<h1 id="Anchor_104492354_h1_1">TOOL</h1>
<h2 id="Anchor_104492354_h2_2">InitializeSdevWin の SDEV 接続リストに SDEV のシリアル番号が表示されない</h2>
<p>GUI 版セットアップツールである InitializeSdevWin を実行するとシリアル番号が表示されないものが存在します (該当機種は SDEV MP です)。</p>
<p>これにより初期化したい SDEV が特定できない場合は以下の手順で SDEV を特定してください。</p>
<ol>
  <li>接続リストに表示されている行のうちシリアル番号が表示されていないものを一つ選択して右クリックします</li>
  <li>メニューがポップアップしますので、その中から &quot;Blink LEDs&quot; をクリックして下さい。SDEV 本体裏面のLEDが点滅します。</li>
  <li>違う SDEV の LED が光ってしまった場合は接続リストの別の行を選択してから手順2を再度お試しください</li>
</ol>
<h2 id="Anchor_104492354_h2_3">SDEV の IP アドレスがわからない</h2>
<p>SDEV の IP アドレスをアクセス不可能なもので固定してしまった場合、Target Manager などから検出できなくなります。<br />DevMenu の Firmware タブに表示されている IP アドレスを参照してください。<br />なお、DevMenu が起動されない状態に陥ってしまった場合は、直接HDMI をモニタに接続し、ターゲットをスリープに入れてください。<br />モニタに IP アドレスが表示されます。</p>
<h2 id="Anchor_104492354_h2_4">Target Manager に開発機を追加できない</h2>
<p>開発機に接続する前に、ターゲットの追加を行う必要があります（メニュー &gt; ツール &gt; ターゲット追加 ）。</p>
<p>ターゲット追加画面に開発機が表示されない時は、以下を確認してください。</p>
<ul>
  <li>開発機の電源が入っているか。</li>
</ul>
<p>開発機が SDEV である場合は、以下も確認してください。</p>
<ul>
  <li>SDEV を LAN 経由で PC に接続しているか。</li>
  <li>SDEV&nbsp;が PC と同じサブネットに存在するか（異なるサブネットの開発機を発見することはできません）。</li>
  <li>PC のファイヤーウォールの設定が正しいか。</li>
</ul>
<!--Remove-->
<h2 id="Anchor_104492354_h2_5">Target Manager&nbsp;で開発機に接続できない</h2>
<p>追加済みのターゲットに対して「ターゲットに接続」を選んでも、ステータスが「接続されました」にならないケースがあります。</p>
<p>この場合は、次の手順を試してください。</p>
<ol>
  <li>「ターゲット削除」で動作させたい開発機のエントリーを削除する</li>
  <li>「ターゲット追加」で動作させたい開発機を追加する</li>
  <li>2 で追加した開発機に対して「ターゲットに接続」を選ぶ</li>
</ol>
<p>3 で追加したターゲットが、1 で削除したターゲットと異なる IP アドレスが割り振られているケースがあります。<br />「開発機に ACアダプターを接続した直後」に「ターゲットに接続」を選ぶと、異なる&nbsp;IP アドレスが割り振られることがありますので、「ACアダプターを接続した直後」ではなく、接続して 60 秒ほど待ってから「ターゲットに接続」を選ぶことで、異なる IP アドレスが割り振られる問題を回避できます。</p>
<p>また、開発機の IP を固定化することで異なる IP アドレスが割り振られる問題を回避することが可能です。<br />この手順については、&nbsp;<a href="../Pages/Page_109318702.html">SDEV IP アドレスの固定化</a>&nbsp;をご確認ください。</p>
<h2 id="Anchor_104492354_h2_6">開発機でプログラムを実行できない（Target Manager のログウィンドウに Unable to load... と表示される）</h2>
<p>開発機をリセットしてください。</p>
<!--Remove-->
<h2 id="Anchor_104492354_h2_8">アプリクラッシュ時にダンプファイルが出力されない</h2>
<p>ダンプファイル出力先を C:\Windows などに設定し、Target Manager を管理者権限なしで実行した場合、ダンプファイルは出力されません。<br />これは Windows によって、Target Manager からのファイル書き込み機能が制限されることに起因します。<br />出力先として、Target Manager がファイルを読み書きすることの可能なディレクトリを指定してください。</p>
<h2 id="Anchor_104492354_h2_9">TargetManager を接続しているとスリープやスリープ復帰に時間がかかる</h2>
<p>開発環境は、システムの構成が製品と異なるためにスリープやスリープ復帰の所要時間が製品よりも長い傾向があります。</p>
<p>特に TargetManager を接続しているとそれぞれの所要時間が長くなり、スリープからの復帰には 10 秒程度かかる場合もありますが、不具合ではありません。</p>
<p>
  <a href="../Pages/Page_186060673.html">製品機に近いファームウェア(PROD MODE)</a> では発生しません。</p>
<h2 id="Anchor_104492354_h2_10">本体設定で自動スリープをするように設定しているのに、放置してもスリープに移行しない</h2>
<p>開発環境では、本体設定に関わらず、自動スリープや画面焼け軽減機能はデフォルトで<strong>無効</strong>となっています。（<a href="../Pages/Page_198946139.html">無操作状態の制御</a>）</p>
<p>HomeMenu 上では本体設定をそのまま表示しているため、この上では機能が有効になっているように見えても、実際には無効になっている場合がありますので、ご注意ください。</p>
<p>この開発環境専用の設定項目は、 <a href="../Pages/Page_107328771.html#Anchor_107328771_%E9%96%8B%E7%99%BA%E6%A9%9F%E3%81%AE%E5%88%B6%E5%BE%A1%EF%BC%8FDevMenu-IdleTimeDetection">DevMenu</a> の Device &gt; Idle Time Detection で確認・変更ができます。</p>
<h1 id="Anchor_104492354_h1_2">VSI</h1>
<h2 id="Anchor_104492354_h2_11">ビルド時に「warning : プロジェクトファイル ○○&nbsp;で参照されているプラットフォーム 'NX32' / 'NX64' が見つかりません。」というエラーが出る</h2>
<p>VSI が正しくインストールされていない可能性があります。</p>
<p>「VS &gt; ツール &gt; 拡張機能と更新プログラム」 から、正しいバージョンの Visual Studio Integration for NX がインストールされているか確認してください。</p>
<p>インストールされていなかった場合は、NDI から VSI を再インストールしてください。</p>
<p>再インストールの方法については&nbsp;<a href="../Pages/Page_107342563.html#Anchor_107342563_h1_5">インストール・アンインストール・再インストール</a>&nbsp;を参照してください。</p>
<h2 id="Anchor_104492354_h2_12">旧バージョンの Visual Studio をインストールしている場合に MSBuild からプロジェクトをビルドできない</h2>
<p>旧バージョンの Visual Studio がインストールされていて、かつそれが Visual Studio 2010 以降である場合、MSBuild は旧バージョンの Visual Studio を使ってプロジェクトをビルドしようとします。</p>
<p>しかし、NintendoSDK のプロジェクトはサポート対象の Visual Studio (NX AddOn 0.5.0 では VS2012, VS2013, VS2015) でしかビルドすることができません。</p>
<p>よって、旧バージョンの Visual Studio をインストールしている環境では、 MSBuild を使って NintendoSDK のプロジェクトをビルドすることができません。</p>
<p>このような場合は、VisualStudioVersion プロパティないし環境変数を用いて、MSBuild が使う Visual Studio を適切に設定してください。</p>
<p>例えば、VS2015 を使う場合は VisuaslStudioVersion=14.0 と設定します。</p>
<h2 id="Anchor_104492354_h2_13">プラットフォーム選択で &quot;汎用 (Generic)&quot; を選択して作成したプロジェクトにソリューションプラットフォームにNX32/NX64を追加してもNX向けのコードが生成されない</h2>
<p>以下のいずれかの方法で作成したプロジェクトファイルに NX 向けソリューションプラットフォーム (NX32/NX64) を追加しても NX 向けのコードは生成されず PC 開発環境向けのコードが生成されます。</p>
<ul>
  <li>NX Addon パッケージをインストールしていない SDK 環境を用いてプロジェクトを作成した</li>
  <li>NX Addon パッケージをインストールしていてもウィザードのプラットフォーム選択画面で &quot;汎用(Generic)&quot; を選択した</li>
</ul>
<p>この問題を回避するには、次の手順を試してください。</p>
<ol>
  <li>Visual Studio で該当プロジェクトを開く</li>
  <li>プロパティマネージャーウィンドウで、インポートしているプロパティシートを NintendoSdkSpec_Generic から NintendoSdkSpec_NX に置き換える</li>
</ol>
<p>プロパティマネージャーの使い方についてはこちらのページを参考にして下さい。</p>
<p>
  <a href="../Pages/Page_107781939.html">既存の Visual C++ プロジェクトに NX 開発機用のプラットフォームを追加する</a>
</p>
<h2 id="Anchor_104492354_h2_14">ビルドオプションや入力ファイルに変更がないにも関わらず生成されるバイナリが同一にならない</h2>
<p>アプリケーションや動的モジュールのリンク時に、リンカは VSI 上でのデバッグ時に使用するビルド ID をバイナリに付与します。このビルド ID に UUID が使用されている場合、ビルド毎に異なる ID が生成されるため、ビルドオプションや入力ファイルに変更がなくとも生成されるバイナリは常に同一とはなりません。</p>
<p>この問題を回避するには、ビルド ID としてハッシュ値を使用してください。Visual Studio でプロジェクトのプロパティページを開き、[リンカー] &rarr; [全般] &rarr; [ビルド識別子の生成] から変更することができます。ただし、生成されるバイナリのサイズに応じてハッシュ値計算の時間がかかるため、一般にリンク時間は増加します。</p>
<h1 id="Anchor_104492354_h1_3">DIAG</h1>
<h2 id="Anchor_104492354_h2_15">Target Manager との接続が不安定なとき、ログが欠落する、ログ API の実行が遅くなる</h2>
<p>Target Manager との接続が不安定なとき、ログが欠落したり、ログ API の実行が遅くなることがあります。もしこれらの症状に遭遇した場合は、Target Manager の接続状況を改善してください。</p>
<p>また、Target Manager との接続が不安定でも、SD カードログは問題なく動作するため、接続状況の改善が難しい場合は、SD カードログをご利用いただくこともご検討ください。</p>
<h2 id="Anchor_104492354_h2_16">スタックトレースのログに (too far) が出る、期待した関数名が出力されない</h2>
<p>デフォルトユーザ例外ハンドラなどのスタックトレース出力において、期待しない（実行中でない）関数名とともに &quot;(too far)&quot; が出力される場合があります。</p>
<p>この現象は、ローカル関数内、またはデッドストリップによってシンボル情報の削除された関数内に命令がある場合に発生します。スタックトレース出力の下記実装による仕様となります。</p>
<ul>
  <li>命令が含まれる関数のシンボル情報が存在しない場合は、代わりにシンボル情報がある最も近い関数の名前と、その関数からのオフセットを出力する</li>
  <li>オフセットが「最も近い関数」のサイズよりも大きい場合は、 (too far) を出力する</li>
</ul>
<p>デッドストリップは、Visual Studio のプロジェクトのプロパティで、<a href="../Pages/Page_107320422.html#Anchor_107320422_h4_19">[リンカー] → [全般] → [デッドストリップを行う]</a> で制御できます。</p>
<p>同様に <span class="ApiLink_nn__diag__GetSymbolName">nn::diag::GetSymbolName</span>() でも、シンボル情報が見つからない場合は、代わりに最も近いシンボルの名前を返します。</p>
<h1 id="Anchor_104492354_h1_4">FS</h1>
<h2 id="Anchor_104492354_h2_17">「Passed buffer is not usable for fs library.」&nbsp;のメッセージとともに&nbsp;nn::fs::ReadFile(), nn::fs::WriteFile(), nn::fs::ReadDirectory() が停止する</h2>
<p>以下のバッファは <span class="ApiLink_nn__fs__ReadFile">nn::fs::ReadFile</span>(), <span class="ApiLink_nn__fs__WriteFile">nn::fs::WriteFile</span>(), <span class="ApiLink_nn__fs__ReadDirectory">nn::fs::ReadDirectory</span>()&nbsp;に渡すことが出来ません。</p>
<ul>
  <li>未確保のバッファ&nbsp;<br /><ul><li><span class="ApiLink_nn__fs__ReadFile">nn::fs::ReadFile</span>() では、対象ファイルの実ファイルサイズに関わらず<em>&nbsp;buffer</em>&nbsp;で指定されたアドレスから&nbsp;<em>size</em>&nbsp;以上の領域が確保されている必要があります。</li><li><span class="ApiLink_nn__fs__ReadDirectory">nn::fs::ReadDirectory</span>() では、対象ディレクトリの実エントリ数に関わらず&nbsp;<em>entryBuffer</em>&nbsp;で指定されたアドレスから&nbsp;<em>entryBufferCount</em>&nbsp;&times; sizeof(<span class="ApiLink_nn__fs__DirectoryEntry">nn::fs::DirectoryEntry</span>) 以上の領域が確保されている必要があります。<br /></li></ul></li>
  <li>
    <span class="ApiLink_nn__gfx">nn::gfx</span>
    <br />
    <ul>
      <li>
        <span class="ApiLink_nn__gfx__MemoryPoolProperty_CpuUncached">nn::gfx::MemoryPoolProperty_CpuUncached</span> 属性を指定したメモリプールのバッファ</li>
    </ul>
  </li>
  <li>nvn<ul><li>NVN_MEMORY_POOL_FLAGS_CPU_UNCACHED_BIT または&nbsp;NVN_MEMORY_POOL_FLAGS_CPU_NO_ACCESS_BIT 属性を指定したメモリプールのバッファ</li></ul></li>
</ul>
<p>
  <span class="ApiLink_nn__fs__ReadDirectory">nn::fs::ReadDirectory</span>() については、上記に加えて以下のバッファも渡すことが出来ません。<br /></p>
<ul>
  <li>
    <span class="ApiLink_nn__audio">nn::audio</span>
    <ul>
      <li>
        <span class="ApiLink_nn__audio__WaveBuffer">nn::audio::WaveBuffer</span>.buffer および <span class="ApiLink_nn__audio__WaveBuffer">nn::audio::WaveBuffer</span>.pContext に指定するバッファ</li>
      <li>
        <span class="ApiLink_nn__audio__AcquireVoiceSlot">nn::audio::AcquireVoiceSlot</span>() で pParameter に渡すデータを格納するメモリ</li>
      <li>
        <span class="ApiLink_nn__audio__AddDelay">nn::audio::AddDelay</span>()、 <span class="ApiLink_nn__audio__AddReverb">nn::audio::AddReverb</span>() で buffer として指定するワークバッファ</li>
      <li>
        <span class="ApiLink_nn__audio__AddAux">nn::audio::AddAux</span>() で pSendBuffer および pReturnBuffer として指定するワークバッファ</li>
    </ul>
  </li>
  <li>
    <span class="ApiLink_nn__gfx">nn::gfx</span>, nvn<ul><li>属性に関わらず、メモリプールのバッファ</li></ul></li>
</ul>
<p>
  <br />
</p>
<p>これらのバッファを <span class="ApiLink_nn__fs__ReadFile">nn::fs::ReadFile</span>(), <span class="ApiLink_nn__fs__WriteFile">nn::fs::WriteFile</span>(), <span class="ApiLink_nn__fs__ReadDirectory">nn::fs::ReadDirectory</span>()&nbsp;に渡した場合、以下のようなメッセージとともにプログラムが停止します。</p>
<div>
  <div class="syntaxhighlighter sh-default nogutter plain">
    <p>
      <br />
    </p>
    <table class="codeblock">
      <tbody>
        <tr>
          <td class="code">
            <div class="codeblock"><pre>Passed buffer is not usable for fs library. See a manual of fs library for more information.</pre></div>
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <br />
    </p>
  </div>
</div>
<p>これらのバッファを直接使って&nbsp;<span class="ApiLink_nn__fs__ReadFile">nn::fs::ReadFile</span>(), <span class="ApiLink_nn__fs__WriteFile">nn::fs::WriteFile</span>(), <span class="ApiLink_nn__fs__ReadDirectory">nn::fs::ReadDirectory</span>()&nbsp;を実行することはせず、別のバッファを使って実行してください。</p>
<h2 id="Anchor_104492354_h2_18">fs API コールで「Data access to an invalid memory region.」と出力されアプリケーションが停止する</h2>
<p>
  <span class="ApiLink_nn__fs__SetAllocator">nn::fs::SetAllocator</span>() で設定したアロケータが 8 バイトアライメントでないアドレスを返した場合、fs API コールで例外が発生し、以下のようなメッセージでアプリケーションが停止します。</p>
<p>
  <span class="ApiLink_nn__fs__SetAllocator">nn::fs::SetAllocator</span>() には 8 バイトアライメントのアドレスを返すアロケータを設定してください。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>UserException handler is called at pid=XXX
==============================================================================
&nbsp;&nbsp;Data access to an invalid memory region. (ExceptionType=0x0101)
&nbsp;&nbsp;An alignment violation memory access occurred. (DFSC=0x21)
&nbsp;&nbsp;Accessed to: 0xXXXXXXXXXXXXXXXX
==============================================================================</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_104492354_h2_19">NAND 起動のアプリケーションで nn::fs::MountRom() が 0x000AF002 (Module 2 = fs, Description 1400) で失敗する</h2>
<p>AuthoringTool の&nbsp;creatensp 時に指定する nmeta ファイルが、code のビルド時に指定した nmeta ファイル（VSI で指定する nmeta ファイル）と食い違っている場合、NAND インストール・起動した際に <span class="ApiLink_nn__fs__MountRom">nn::fs::MountRom</span>() が 0x000AF002 で失敗します。</p>
<p>ビルド時に指定したものと同じ nmeta ファイルを creatensp に指定してください。</p>
<p>将来的に、 creatensp 時に適切な nmeta ファイルかどうかチェックされるようになる予定です。</p>
<h2 id="Anchor_104492354_h2_20">「Specified target is not found.」のメッセージとともに nn::fs::MountSaveData() が停止する</h2>
<p>セーブデータが作成されていません。</p>
<p>nmeta ファイルにセーブデータの情報を記述し、「アプリケーション起動前にユーザーを選択するオプション」による自動作成、または <span class="ApiLink_nn__fs__EnsureSaveData">nn::fs::EnsureSaveData</span>() による作成の上で <span class="ApiLink_nn__fs__MountSaveData">nn::fs::MountSaveData</span>() を呼び出す必要があります。</p>
<p>詳細は&nbsp;<a href="../Pages/Page_107782148.html">セーブデータ (NX Addon)</a>&nbsp;を参照してください。</p>
<h2 id="Anchor_104492354_h2_21">セーブデータのサイズ変更が反映されない</h2>
<p>セーブデータが既存の場合、nmeta ファイルを更新してもセーブデータは再作成されません。一度セーブデータを削除してください。</p>
<h2 id="Anchor_104492354_h2_22">「Invalid path was specified.」 のメッセージとともにセーブデータ上の nn::fs::CreateFile(), nn::fs::CreateDirectory() が停止する</h2>
<p>セーブデータのファイル名・ディレクトリ名の最大長は NULL 終端文字を含まず 64 バイトです。</p>
<p>セーブデータの制約ついては&nbsp;<a href="../Pages/Page_107320205.html">セーブデータ</a>&nbsp;を参照してください。</p>
<h2 id="Anchor_104492354_h2_23">セーブデータ上のファイル・ディレクトリ作成が&nbsp;nn::fs::ResultUsableSpaceNotEnough で失敗する</h2>
<p>セーブデータのデータ保存領域サイズが不足した場合、 <span class="ApiLink_nn__fs__ResultUsableSpaceNotEnough">nn::fs::ResultUsableSpaceNotEnough</span> が返ります。<br />nmeta ファイルに記述したサイズが十分かご確認ください。</p>
<p>詳細は&nbsp;<a href="../Pages/Page_107782148.html">セーブデータ (NX Addon)</a>&nbsp;を参照してください。</p>
<h2 id="Anchor_104492354_h2_24">nn::fs::MountSdCardForDebug() が失敗する<a name="Anchor_104492354_MountSdCardForDebug"></a></h2>
<p>
  <span class="ApiLink_nn__fs__MountSdCardForDebug">nn::fs::MountSdCardForDebug</span>() に失敗する場合は、次の状況が考えられます。</p>
<ul>
  <li>SD カードが挿入されていない</li>
  <li>SD カードのフォーマットが適切ではない<ul><li>NintendoSDK Firmware for NX 2.0.0-3 より前は FAT フォーマットに対応しています。32GB を超える SD カードは exFAT でフォーマットされていることが多いため、ご注意ください。</li><li>NintendoSDK Firmware for NX 2.0.0-3 以降は FAT フォーマットと exFAT フォーマットに対応しています。&nbsp;</li></ul></li>
  <li>SD カードと SD カードコネクタの接触が悪い<ul><li>SD カードを抜き差しすると解消する場合があります。</li></ul></li>
  <li>SD カード、もしくは SD カードコネクタが故障している<ul><li>SD カードにシールなどを貼られていると、コネクタを押し広げて故障させることがあります。</li><li>PC などの別の機器で SD カードにアクセスできる場合は、SD カードコネクタが故障している可能性が高いです。</li></ul></li>
</ul>
<h2 id="Anchor_104492354_h2_25">SD カード上のファイルのタイムスタンプの最終更新日時や最終アクセス日時が作成日時より巻き戻ってみえる</h2>
<p>SD カード上のファイルのタイムスタンプは精度が異なるため、<span style="color: rgb(51,51,51);">最終更新日時や最終アクセス日時が作成日時より前の日時にみえる場合があります。</span></p>
<p>詳細は&nbsp;<a href="../Pages/Page_112886110.html">SD カード</a>&nbsp;を参照してください。</p>
<h2 id="Anchor_104492354_h2_26">アクセスログが得られない</h2>
<ul>
  <li>共通<ul><li>FS Access Log Mode を Log もしくは SdCard もしくは Log+SdCard に変更した後に確認対象のアプリケーションを起動する必要があります。</li></ul></li>
  <li>FS Access Log Mode が Log もしくは Log+SdCard の場合<ul><li>アプリケーションのビルドタイプが&nbsp;Develop&nbsp;である必要があります。</li></ul></li>
  <li>FS Access Log Mode が SdCard もしくは&nbsp;Log+SdCard の場合<ul><li>アプリケーションを起動する前に開発機に SD カードを挿入しておく必要があります。</li><li>上記の「<a href="#Anchor_104492354_MountSdCardForDebug">nn::fs::MountSdCardForDebug() が失敗する</a>」も参照してください。</li></ul></li>
</ul>
<h2 id="Anchor_104492354_h2_27">SD カードにアクセスログが最後まで保存されない<a name="Anchor_104492354_SdCardAccessLogIncomplete"></a></h2>
<ul>
  <li>開発機をシャットダウンもしくはスリープさせてから SD カードを取り出す必要があります。<br />アクセスログを SD カードに逐次出力するとアプリケーションの挙動を遅くしてしまうため、fs 内部バッファがあふれるタイミングかシャットダウンまたはスリープのタイミングで SD カードにアクセスログに書き出すようにしているためです。</li>
  <li>SD カードに出力されるアクセスログの先頭には &quot;FS_ACCESS: { start_tag: true }&quot; が書き出され、シャットダウンもしくはスリープでアクセスログの終端には&nbsp;&quot;FS_ACCESS: { end_tag: true }&quot; が書き出されます。</li>
</ul>
<h2 id="Anchor_104492354_h2_28">FsAccessLogChecker で&nbsp;[INFO] Access log is incomplete. と出力される</h2>
<ul>
  <li>SD カードにアクセスログが最後まで保存されていません。上記の「<a href="#Anchor_104492354_SdCardAccessLogIncomplete">SD カードにアクセスログが最後まで保存されない</a>」を参照してください。</li>
</ul>
<h2 id="Anchor_104492354_h2_29">FsAccessLogChecker で [WARNING] There are multiple fs access logs と出力される</h2>
<ul>
  <li>アクセスログにアプリケーションが複数回起動されたログ（&quot;FS_ACCESS: { sdk_version:&quot;）が含まれています。<br />&quot;FS Access Log Check Result&quot; はアプリケーション起動回数分出力されているため、末尾以外の結果を見逃さないようにしてください。</li>
  <li>アクセスログを SD カードに出力する場合、SD カードのルートディレクトリ直下に FsAccessLog.txt ファイルが存在していると追記の形でログが追加されます。</li>
</ul>
<h2 id="Anchor_104492354_h2_30">FsAccessLogChecker で [FAIL] TotalTime (expect: More than 10 minutes) と出力される</h2>
<p>FsAccessLogChecker は、突発的に高頻度なアクセスがあっても平均してチェックするようにしているため、10 分以上のアクセスログが必要です。</p>
<p>fs アクセスをほとんど行わないアプリケーションでは、アクセスログの取得を終える前に、<span style="color: rgb(51,51,51);">セーブやシーン切り替えなどの fs アクセスを伴う操作を含めて、10 分以上のアクセスログになるようにしてください。</span></p>
<p>
  <br />
</p>
<h1 id="Anchor_104492354_h1_5">MOVIE</h1>
<h2 id="Anchor_104492354_h2_31">動画再生中に遷移したHOMEメニューからアプリケーションに戻ると動画再生が進んでしまっている</h2>
<p>アプリケーションからHOMEメニューに遷移した「BGフォーカス状態」における、アプリケーションの振る舞いはフォーカスハンドリングモードによって異なります。このフォーカスハンドリングモードが「通知モード」になっている場合、BGフォーカス状態になっても動画再生処理はそのまま継続されます。</p>
<p>動画の再生が勝手に進んでしまうことを避けたい場合は、アプリケーションのフォーカス状態の変更通知（BGフォーカス状態に移ったという通知）が届いたときに動画のデコード処理を停止してください。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>なお、HOME メニューや各種本体機能のパフォーマンスへ若干の影響が見られることから、可能ならば上記の条件において動画のデコード処理を停止することを推奨します。</p>
  </div>
</div>
<p>フォーカスハンドリングモードなどの詳細については、以下のページを参照してください。</p>
<p>
  <a href="../Pages/Page_166065886.html">プログラムへの通知メッセージ</a>
</p>
<h2 id="Anchor_104492354_h2_32">MovieDecoderPlayerでの動画再生終了後すぐにプログラムが終了しないことがある</h2>
<p>MovieDecoderPlayerサンプルでは、指定した動画の再生が終了した後（ループ再生オプションを使っていない場合）、その動画の最終フレームが少しの間表示され続けることがあります。</p>
<p>これは、映像や音声の再生処理自体には影響はないため、サンプルの仕様としています。</p>
<h1 id="Anchor_104492354_h1_6">NVN</h1>
<h2 id="Anchor_104492354_h2_33">大量のリンクエラーが発生する</h2>
<p>nvn/nvn_FuncPtrImpl.h を複数のファイルからインクルードすると、大量のリンクエラーが発生し、リンカーの実行時間が極端に長くなることがあります。<br />リンクエラーの例としては、nvnLoadCProcs などのシンボルの多重定義エラーがあります。</p>
<p>nvn/nvn_FuncPtrImpl.h は、グローバル関数やグローバル変数を定義するものであり、プロジェクト内の 1 つのソースコードでだけインクルードされることを想定しています。このため、複数の .c / .cpp から本ヘッダーファイルをインクルードすると、前述のようなエラーや問題が発生します。</p>
<p>本ヘッダーファイルは、単一の .c / .cpp でインクルードするようにしてください。</p>
<h2 id="Anchor_104492354_h2_34">NVIDIA Graphics Driver をインストールしたのに環境チェックツールの「NVN API Version」の項目で &quot;Driver not installed&quot; と表示される</h2>
<p>PC 上で NVN を使うために NVIDIA Graphics Driver をインストールしたのに、<a href="../Pages/Page_162944624.html">環境チェックツール</a>の「NVN API Version」の項目で&nbsp; &quot;Driver not installed&quot; と表示される場合があります。この場合、デフォルトで利用される GPU として NVIDIA 以外のもの（例：CPU に内蔵された GPU）が選択されている可能性があります。以下のことを確認してください。</p>
<ul>
  <li>デスクトップ PC の場合、メインのディスプレイは NVIDIA グラフィックスボードの出力に接続されている</li>
  <li>ノート PC の場合、「優先するグラフィックスプロセッサ」として &quot;NVIDIA プロセッサ&quot; が選択されていることを以下の手順で確認する<ul><li>「NVIDIA コントロールパネル」を開く</li><li>「3D 設定」の「3D 設定の管理」を開く</li><li>「グローバル設定」の「優先するグラフィックスプロセッサ」から &quot;NVIDIA プロセッサ&quot; を選択する</li></ul></li>
</ul>
<h2 id="Anchor_104492354_h2_35">
  <span style="color: rgb(84,84,84);">複数の GPU キューを使うアプリケーションの実行中に Home ボタンを押したらアプリケーションの画面のまま固まった</span>
</h2>
<p>
  <span style="color: rgb(84,84,84);">アプリケーションは nvn::Queue::PresentTexture() などの API によって提出したフレームバッファに対する GPU の描画コマンドが完了することを保証する責任があります。 通常 nvn::Queue::PresentTexture() などの API は内部で GPU キューを Flush するため、アプリケーション開発者が意識せずとも描画コマンドが完了することが保証されます。</span>
</p>
<p>
  <span style="color: rgb(84,84,84);">複数の GPU キューを扱うアプリケーションでは、あるキュー A が別のキュー B に積まれた GPU コマンドの完了を待つことができます。この場合、アプリケーションの CPU 処理が先にキュー A の PresentTexture() を呼び出したあとでキュー B を Flush する実装になっていると、Home ボタンが押されたタイミングによってはキュー B のコマンドを Flush する前にアプリケーションがサスペンドしてしまい、フレームバッファに対する描画が完了しなくなる場合があります。</span>
</p>
<p>
  <span style="color: rgb(84,84,84);">これを回避するためには、以下の方法があります。</span>
</p>
<ul>
  <li>
    <span style="color: rgb(84,84,84);">PresentTexture() を呼び出す前に他の依存するすべてのキューのコマンドを Flush するようにします。</span>
    <ul>
      <li>
        <span style="color: rgb(84,84,84);">先の例の場合、キュー A の PresentTexture() を呼び出す前にキュー B を Flush します。</span>
      </li>
    </ul>
  </li>
  <li>
    <span style="color: rgb(84,84,84);">アプリケーションがサスペンドする前にすべてのキューが Flush されることを保証します。</span>
    <ul>
      <li>
        <span style="color: rgb(84,84,84);">フォーカスハンドリングモードを通知モードにすることでアプリケーションが自動中断されないようにした上で、描画を完了するために必要なキューをすべて Flush してからアプリケーションをサスペンドするようにします。フォーカスハンドリングモードについては&nbsp;<a href="../Pages/Page_166065886.html">プログラムへの通知メッセージ</a> で解説します。</span>
      </li>
    </ul>
  </li>
</ul>
<p>
  <span style="color: rgb(84,84,84);">&nbsp;なお、アプリケーションの CPU 処理が中断しても Flush 済の GPU コマンドの実行は継続されるため、キューの Flush が行えていれば GPU 処理の完了を待たずにサスペンドして構いません。 &nbsp;</span>
</p>
<h1 id="Anchor_104492354_h1_7">IRSENSOR</h1>
<h2 id="Anchor_104492354_h2_36">クラスタリングモード利用時に、WindowOfInterest の高さ設定を 1px, 幅を 20px 以下に設定すると、データが取得できなくなる</h2>
<!--Remove-->
<h6 id="Anchor_104492354_h6_1">症状</h6>
<p>
  <span class="ApiLink_nn__irsensor__RunClusteringProcessor">nn::irsensor::RunClusteringProcessor</span> 時の設定値に WindowOfInterest の高さを 1px、幅を 20px 以下に設定すると、クラスタリングデータを取得できなくなります。</p>
<h6 id="Anchor_104492354_h6_2">回避策</h6>
<p>高さを 2px 以上に設定するようにしてください。</p>
<h2 id="Anchor_104492354_h2_37">NX Addon 0.8.0 の モーションIRカメラ・NFC ファームウェアに巻き戻すとモーションIRカメラおよび NFC の機能が使用できない</h2>
<p>0.9.0 以上の SDK 環境に含まれるモーションIRカメラ・NFC ファームウェアを一度 Joy-Con に書き込んだ後に、0.8.0 に含まれるモーションIRカメラ・NFC ファームウェアに巻き戻すとモーションIRカメラおよび NFC の機能が使用できなくなります。</p>
<p>再度、0.9.0 以上の環境のファームウェアを書き込むことで復旧可能です。<br />基本的に 0.8.0 のモーションIRカメラ・NFC ファームウェアへの巻き戻しは行わないようにしてください。</p>
<p>
  <br />
</p>
<h1 id="Anchor_104492354_h1_8">HID</h1>
<h2 id="Anchor_104492354_h2_38">Nintendo Switch Pro コントローラが NFC タグの検出を開始・終了する際に振動しない</h2>
<!--Remove-->
<h6 id="Anchor_104492354_h6_3">症状</h6>
<p>Nintendo Switch Pro コントローラに対して、<span class="ApiLink_nn__nfp__StartDetection">nn::nfp::StartDetection</span> および <span class="ApiLink_nn__nfp__StopDetection">nn::nfp::StopDetection</span> を実行した直後は、そのコントローラを振動させることができません。</p>
<p>数百ミリ秒程度、時間を空けてから振動機能が有効になります。</p>
<h6 id="Anchor_104492354_h6_4">回避策</h6>
<p>Pro コントローラのハードウェアの制限のため、回避策はありません。</p>
<p>
  <br />
</p>
<h2 id="Anchor_104492354_h2_39">Joy-Con 充電グリップおよび Nintendo Switch Pro コントローラの充電がはじまらない</h2>
<h6 id="Anchor_104492354_h6_5">症状</h6>
<p>&nbsp;Joy-Con 充電グリップ および Nintendo Switch Pro コントローラをコントローラ充電ケーブルを使って充電する際に、LEDが点灯せず充電が始まらない不具合があります。</p>
<h6 id="Anchor_104492354_h6_6">回避策</h6>
<p>コントローラのUSB ファームウェアをアップデートすることで、充電が出来るようになります。</p>
<p>詳しくは「<a href="../Pages/Page_185129956.html">コントローラの USB ファームウェアのアップデート</a>」を参照ください。</p>
<p>
  <br />
</p>
<h2 id="Anchor_104492354_h2_40">多台数のコントローラを接続した状態でまれに切断が発生することがある</h2>
<h6 id="Anchor_104492354_h6_7">症状</h6>
<p>多台数のコントローラを接続し、NFCやIR センサー、ローカル通信を開始/終了する際に不特定のコントローラが切断されることがあります。</p>
<h6 id="Anchor_104492354_h6_8">回避策</h6>
<p>再接続してください。</p>
<p>
  <br />
</p>
<h1 id="Anchor_104492354_h1_9">開発機材のセットアップ関連</h1>
<h2 id="Anchor_104492354_h2_41">SDEV のセットアップに失敗する</h2>
<h3 id="Anchor_104492354_h3_1">SDEV のセットアップに失敗するケース</h3>
<p>SDEV のセットアップに失敗する場合は、以下をご確認の上何度かセットアップツールの実行を試してみてください。</p>
<ul>
  <li>ウイルス対策ソフトによってツールが削除されていないかご確認ください<br /><ul><li>たとえば「avast! Internet Security」が起動していると、セットアップに必要な NintendoSDK\Tools\CommandLineTools\InitializeSdevWin.exe などのファイルが削除され、セットアップに失敗することが確認されています。このような場合は、ウイルス対策ソフトの設定や利用を見直すなどの対応をしてください。</li></ul></li>
  <li>Target Manager が起動している場合は終了してからセットアップツールを実行してみてください<br /><ul><li>Target Manager はタスクトレイに格納されている場合がありますので、タスクトレイもご確認ください</li></ul></li>
</ul>
<p>それでも成功しない場合は、サポート窓口までご連絡ください</p>
<h2 id="Anchor_104492354_h2_42">EDEV のセットアップに失敗する</h2>
<p>EDEV のセットアップに失敗する場合は、ドキュメント &ldquo;EDEV クイックスタート&rdquo; の &quot;<span class="sv-ti-title-text">EDEV の初期化がうまくいかないときは</span>&quot; のページを参照して繰り返しお試し下さい。</p>
<h1 id="Anchor_104492354_h1_10">TV出力・LCD 関連</h1>
<h2 id="Anchor_104492354_h2_43">一部のテレビで、CEC機能が動作しない</h2>
<p>一部のTV利用時、ワンタッチプレイやシステムスタンバイが動作しないことがあります。将来のバージョンでCEC機能の接続性改善を予定していますが、すべてのTVでの動作を保障しておりません。</p>
<h2 id="Anchor_104492354_h2_44">一部のテレビで「テレビとの電源連動 (CEC)」を有効にしてドックアウト後すばやくドックインすると、 TV に映像が映らないことがある</h2>
<p>一部のテレビでCEC機能有効時、ドックアウト後すばやくドックインすると、テレビ側から絵がでなくなることがあります。将来のバージョンで接続性改善を予定していますが、すべてのTVでの動作を保障しておりません。</p>
<h2 id="Anchor_104492354_h2_45">ディスプレイに表示される色味が暗い</h2>
<p class="diff-block-target diff-block-context">NXではディスプレイに出力するバッファのフォーマットとして sRGB フォーマットのみをサポートしています。バッファのフォーマットがリニア RGB&nbsp;の場合、ガンマ補正は行わずにバッファの値をそのまま sRGB の値として解釈します。このため、ディスプレイに出力するバッファをリニア RGB フォーマットで作成した場合、画面が全体的に暗くなります。</p>
<p class="diff-block-target diff-block-context">ディスプレイに出力するバッファのフォーマットを sRGB にするためには以下のようにします。</p>
<ul>
  <li class="diff-block-target diff-block-context">nn::gfx を利用している場合：&nbsp;スワップチェーンの色フォーマットに nn::gfx::ImageFormat_R8_G8_B8_A8_UnormSrgb を指定します。</li>
  <li class="diff-block-target diff-block-context">NVN を利用している場合： NVNwindow に設定するテクスチャを NVN_FORMAT_RGBA8_SRGB フォーマットで作成します。</li>
</ul>
<p class="diff-block-target diff-block-context">&nbsp;バッファのフォーマットは使用するグラフィクス API の設定によって決定されるため、 nn::vi から設定する必要はありません。</p>
<h2 id="Anchor_104492354_h2_46">LCDに残像やチラツキが生じる</h2>
<p>この項目は、<a href="../Pages/Page_172895510.html">実装に際しての注意事項 (NX Addon)</a> へ移動しました。</p>
<h2 id="Anchor_104492354_h2_47">本体設定で画面焼け軽減が「On」になっているのに、放置しても画面が暗くならない</h2>
<p>開発環境では、本体設定に関わらず、自動スリープや画面焼け軽減機能はデフォルトで<strong>無効</strong>となっています。（<a href="../Pages/Page_198946139.html">無操作状態の制御</a>）</p>
<p>HomeMenu 上では本体設定をそのまま表示しているため、この上では機能が有効になっているように見えても、実際には無効になっている場合がありますので、ご注意ください。</p>
<p>この開発環境専用の設定項目は、 <a href="../Pages/Page_107328771.html#Anchor_107328771_%E9%96%8B%E7%99%BA%E6%A9%9F%E3%81%AE%E5%88%B6%E5%BE%A1%EF%BC%8FDevMenu-IdleTimeDetection">DevMenu</a> の Device &gt; Idle Time Detection で確認・変更ができます。</p>
<h1 id="Anchor_104492354_h1_11">プログラムのビルド・実行</h1>
<h2 id="Anchor_104492354_h2_48">Oasis とはなにか？</h2>
<p>Target Manager と VSI for NX の開発コードネームです。</p>
<h2 id="Anchor_104492354_h2_49">サンプルがビルドできない</h2>
<p>ウィルス対策ソフトが誤作動し、サンプルアプリケーションのビルド時の成果物である exe ファイルが削除されることがあります。</p>
<p>たとえば「avast! Internet Security」が起動していると、サンプルアプリケーションの exe ファイルが削除されることが確認されています。このような場合は、ウイルス対策ソフトの設定や利用を見直すなどの対応をしてください。</p>
<h2 id="Anchor_104492354_h2_50">SDK 内部で new が呼び出される（PC 環境のみ）</h2>
<p>
  <strong>PC 環境に限り</strong>、SDK ライブラリ内で new が呼び出され、最大 200MB ほどアプリケーションのメモリが確保されます。&nbsp;<br />ユーザーが new をオーバーロードしている際はそちらが呼び出されます。</p>
<p>アロケータをセットする各種 API (<span class="ApiLink_nn__fs__SetAllocator">nn::fs::SetAllocator</span> など) を利用していても、SDK ライブラリ内で new が呼び出されることがあります。</p>
<p>new を呼び出されなくする方法はありません。200MB ほど余裕をもってメモリ管理してください。</p>
<p>NX 開発機環境 (SDEV / EDEV) ではこの制限はありません。</p>
<h2 id="Anchor_104492354_h2_51">開発機でプログラムを実行できない</h2>
<p>以下の手順を守っているか、確認してください。</p>
<ul>
  <li>Target Manager を起動し、開発機に接続済になっている<ul><li>「Target Manager で開発機に接続できない」の項目を合わせてご覧ください</li></ul></li>
  <li>Target Manager で、開発機をアクティブ・ターゲットとして設定している。</li>
</ul>
<p>また、開発機のリセットや、ACアダプターの抜き差し、および Target Manager の再起動を試してください。</p>
<p>それでも動かない場合は、LAN ケーブルやネットワークの設定に問題がある場合があります。</p>
<ul>
  <li>
    <span style="color: rgb(51,51,51);">SDEV 取扱説明書「困ったときは」の「プログラムを実行できない」の項目をご参照ください</span>
  </li>
</ul>
<h2 id="Anchor_104492354_h2_52">開発機を手動でセーフモードに入れようとするとうまくいかない</h2>
<h3 id="Anchor_104492354_h3_2">入れようとしてもメニューが起動してしまう</h3>
<p>セーフモードに入れようとしても通常の起動シーケンスに入ってしまいメニューが表示されてしまう場合は、ボタンの操作間隔を調整するとうまくいく場合があります。(ボタン操作の間隔が速いと操作が受け付けされない場合があるためです。)<br />BPM=100 で 4 ビートくらいの間隔を目安に押していくと改善するかもしれません。</p>
<h3 id="Anchor_104492354_h3_3">入れてもセーフモードと認識されてないみたい</h3>
<p>開発機をセーフモードに入れる操作を行うと EDEV MP の場合は画面が赤色になる時があります。(EDEV EP2-2 の場合は赤画面ではなく黒画面ですがファンが回らない時があります)</p>
<p>その場合は電源を入れ直すとセーフモードで起動するようになります。<br />なおこのときメニュー画面が表示された場合は電源を切ってから再度セーフモードに入る操作を行って下さい。</p>
<h2 id="Anchor_104492354_h2_53">プログラムの実行中に致命的なエラー（FATAL ERROR）が発生する</h2>
<p>プログラムの実行中に致命的なエラー（FATAL ERROR）が発生した際には、以下の情報を添えて任天堂のサポート窓口までお問い合わせください。&nbsp;</p>
<ul>
  <li>
    <span style="color: rgb(51,51,51);">問題発生時の状況</span>
    <ul>
      <li>
        <span style="color: rgb(51,51,51);">プログラムをビルドした SDK のバージョン</span>
      </li>
      <li>
        <span style="color: rgb(51,51,51);">Devmenu で表示される Firmware バージョン<br /></span>
        <ul>
          <li>
            <span style="color: rgb(51,51,51);">「Version: NintendoSDK Firmware for NX 」以降に続くバージョン情報</span>
          </li>
        </ul>
      </li>
      <li>
        <span style="color: rgb(51,51,51);">実行していたプログラムの処理内容（可能であれば）</span>
      </li>
      <li>致命的なエラーが発生した画面の写真、スクリーンショット（可能であれば）</li>
    </ul>
  </li>
  <li>「DevMenuCommand error export &lt;absolute_host_file_path&gt;」コマンドを実行して取得したバイナリ<ul><li><span style="color: rgb(51,51,51);">詳細は DevMenuCommand のドキュメントをご覧ください</span></li></ul></li>
</ul>
<p>
  <span style="color: rgb(51,51,51);">なお、致命的なエラーが発生した際には以下のような画面が表示されます。</span>
</p>
<p>
  <span style="color: rgb(51,51,51);">
    <span class="embedded-file-wrapper ">
      <img src="../Attachments/Attach_104492354/184177507.JPG" height="250" class="embedded-image" />
    </span>
    <br />
  </span>
</p>
<h1 id="Anchor_104492354_h1_12">充電・給電</h1>
<h2 id="Anchor_104492354_h2_54">EDEV 本体の電池を 100% まで充電できない</h2>
<p>コンソールモードで動作中は EDEV&nbsp;本体の電池を 100% まで充電できないことがあります。</p>
<p>本体温度が上昇した時に安全のために充電の設定が更新されて本現象が発生します。</p>
<p>100% まで充電するには以下の例のようにして本体温度を低下させて充電する必要があります。</p>
<ul>
  <li>本体をスリープさせる。</li>
  <li>ドックから抜去して ACアダプターを直接接続して充電する。</li>
</ul>
<h1 id="Anchor_104492354_h1_13">ネットワークに接続できない</h1>
<h2 id="Anchor_104492354_h2_55">nn::nifm::IsNetworkAvailable() が true にならない</h2>
<h3 id="Anchor_104492354_h3_4">有線・無線共通</h3>
<h4 id="Anchor_104492354_h4_1">開発機向けの設定マネージャを使用して設定をインポートしていることを確認してください</h4>
<p>Windows 向けのツールでインポートしても、開発機の動作には影響せず、その逆も同様です。また、<strong>設定インポート後は、必ずシステムを再起動してください</strong>。</p>
<h4 id="Anchor_104492354_h4_2">設定の内容が意図通りになっていることを確認してください</h4>
<p>インポートされた内容を確認する場合は、「<a href="../Pages/Page_104465190.html#Anchor_104465190_SettingsManager_network">NIFM ライブラリ-ネットワーク接続設定の登録</a>」を参考に、設定をエクスポートして確認してください。</p>
<p>認証と暗号化の設定は、 SDK の対応している組み合わせになっている必要があります。</p>
<p>システムが自動で利用する対象に含めるには、自動接続に利用する設定を有効にする必要があります。</p>
<p>ステルス設定の無線アクセスポイントに接続する場合、接続設定の non_broadcast の項目を true に指定する必要があります。</p>
<h3 id="Anchor_104492354_h3_5">有線</h3>
<h4 id="Anchor_104492354_h4_3">ドック経由で USB Ethernet アダプターを接続していることを確認してください</h4>
<p>SDEV 本体への直接接続時の動作は無保証です。</p>
<h4 id="Anchor_104492354_h4_4">複数の USB Ethernet アダプターを接続していないことを確認してください</h4>
<p>同時に接続できる USB Ethernet アダプターは最大1個までです。複数接続してしまった場合は一度 USB Ethernet アダプターをすべて抜去し、利用するものだけを挿しなおしてください。&nbsp;</p>
<h4 id="Anchor_104492354_h4_5">ドックと SDEV の組み合わせが正しいことを確認してください</h4>
<p>バージョンの異なるドックと SDEV の組み合わせでは USB Ethernet アダプターを認識できません。</p>
<h3 id="Anchor_104492354_h3_6">無線</h3>
<h4 id="Anchor_104492354_h4_6">SDEV 背面左下の DIP スイッチの1番と2番が ON になっていることを確認してください</h4>
<p>これが OFF の場合、無線接続が不安定になります。</p>
<h4 id="Anchor_104492354_h4_7">対応済みのセキュリティタイプであることを確認してください</h4>
<p>対応済みのセキュリティタイプに関しては「<a href="../Pages/Page_163420663.html#Anchor_163420663_Supported_ConnectionType">NIFM ライブラリ／開発機における注意点-対応する接続種別</a>」をご覧ください。</p>
<h2 id="Anchor_104492354_h2_56">nn::nifm::IsNetworkAvailable() は true でも、外部ネットワークに接続できない</h2>
<h4 id="Anchor_104492354_h4_8">外部ネットワークに接続可能な回線を利用していることを確認してください</h4>
<p>NintendoSDK 0.11.0 から、ネットワーク接続設定に登録したプロキシ設定の内容が自動で反映されるようになりました。これに伴って、curl_easy_setopt() で設定したプロキシの内容は無視されるようになります。「<a href="../Pages/Page_104465190.html#Anchor_104465190_SettingsManager_network">NIFM ライブラリ-ネットワーク接続設定の登録</a>」を参考に接続設定を登録するか、curl_easy_setopt() で&nbsp;CURLOPT_PROXYAUTOCONFIG の値を 0 に設定して接続設定のプロキシ設定が反映されないようにしてください。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__diag__GetSymbolName', '../../../Api/HtmlNX/namespacenn_1_1diag.html#a31d8138e18547e55274febb0b7447b57' )
SetUrl( 'ApiLink_nn__fs__ReadFile', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a433a913ce9dd7154b430118e99b4867b' )
SetUrl( 'ApiLink_nn__fs__WriteFile', '../../../Api/HtmlNX/namespacenn_1_1fs.html#ab4351ff3a319e9a63093324a669492ab' )
SetUrl( 'ApiLink_nn__fs__ReadDirectory', '../../../Api/HtmlNX/namespacenn_1_1fs.html#af1ecb9478fe0f9dee627b65111cdbe29' )
SetUrl( 'ApiLink_nn__fs__DirectoryEntry', '../../../Api/HtmlNX/structnn_1_1fs_1_1_directory_entry.html' )
SetUrl( 'ApiLink_nn__gfx', '../../../Api/HtmlNX/namespacenn_1_1gfx.html' )
SetUrl( 'ApiLink_nn__gfx__MemoryPoolProperty_CpuUncached', '../../../Api/HtmlNX/namespacenn_1_1gfx.html#a9bad749884304c5882d4c54e57818623a52c9ef53497763d967da50e415056a2e' )
SetUrl( 'ApiLink_nn__audio', '../../../Api/HtmlNX/namespacenn_1_1audio.html' )
SetUrl( 'ApiLink_nn__audio__WaveBuffer', '../../../Api/HtmlNX/structnn_1_1audio_1_1_wave_buffer.html' )
SetUrl( 'ApiLink_nn__audio__AcquireVoiceSlot', '../../../Api/HtmlNX/namespacenn_1_1audio.html#a3bca63fcdf6dc8330e4e5e2e9a7d2d47' )
SetUrl( 'ApiLink_nn__audio__AddDelay', '../../../Api/HtmlNX/namespacenn_1_1audio.html#af017e28e2d405e595fc79f2647659ebb' )
SetUrl( 'ApiLink_nn__audio__AddReverb', '../../../Api/HtmlNX/namespacenn_1_1audio.html#a456c672612f218fff1e42df08b2b5577' )
SetUrl( 'ApiLink_nn__audio__AddAux', '../../../Api/HtmlNX/namespacenn_1_1audio.html#a072f1f600ce24ffad45496403212a42a' )
SetUrl( 'ApiLink_nn__fs__SetAllocator', '../../../Api/HtmlNX/namespacenn_1_1fs.html#ac021c163ba94a44a2b53cb848c462930' )
SetUrl( 'ApiLink_nn__fs__MountRom', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a2e453fe1fbf8f818dc45bbd2897105cd' )
SetUrl( 'ApiLink_nn__fs__EnsureSaveData', '../../../Api/HtmlNX/namespacenn_1_1fs.html#ae5f48fe542ce22263e1399e3b50190e8' )
SetUrl( 'ApiLink_nn__fs__MountSaveData', '../../../Api/HtmlNX/namespacenn_1_1fs.html#afdbda9f24e47b02bb74da4558bbd0760' )
SetUrl( 'ApiLink_nn__fs__ResultUsableSpaceNotEnough', '../../../Api/HtmlNX/classnn_1_1fs_1_1_result_usable_space_not_enough.html' )
SetUrl( 'ApiLink_nn__fs__MountSdCardForDebug', '../../../Api/HtmlNX/namespacenn_1_1fs.html#a196ef874060b922b93756ddff212fefa' )
SetUrl( 'ApiLink_nn__irsensor__RunClusteringProcessor', '../../../Api/HtmlNX/namespacenn_1_1irsensor.html#a95a6afcb715377961a0f5382d16408c8' )
SetUrl( 'ApiLink_nn__nfp__StartDetection', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#afd22b7158c9c5ef8ab0a59db89e7d351' )
SetUrl( 'ApiLink_nn__nfp__StopDetection', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#aa8bd12f4e1b4b206463047e3142a261a' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
