<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>画面写真機能</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 画面写真機能 -->
<div class="pagetitle" id="PageId_232856843">画面写真機能</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_232856843_h1_1">画面写真について</a>
    </li>
    <li>
      <a href="#Anchor_232856843_h1_2">画面写真の保存</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_232856843_h2_1">画像のフォーマット</a>
      </li>
      <li>
        <a href="#Anchor_232856843_h2_2">オプション</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_232856843_h3_1">screenshotSize</a>
        </li>
        <li>
          <a href="#Anchor_232856843_h3_2">imageOrientation</a>
        </li>
        <li>
          <a href="#Anchor_232856843_h3_3">reportOption </a>
        </li>
      </ul>
    </ul>
    <li>
      <a href="#Anchor_232856843_h1_3">画面写真の保存＆投稿</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_232856843_h2_3">オプション</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_232856843_h3_4">uid</a>
        </li>
      </ul>
    </ul>
  </ul>
</p>
<p>&nbsp;</p>
<h1 id="Anchor_232856843_h1_1">画面写真について</h1>
<p>画面写真は本体のアルバムに保存されているスクリーンショットのことを指します。</p>
<p>NX においてはユーザーがキャプチャーボタンを押した際にスクリーンショットが撮影され、画面写真としてアルバムに保存されます。アルバムに保存されたファイルはアプリケーションのセーブデータとは独立して保存されます。ユーザーは本体機能を使ってアルバム内の画面写真を表示したり SNS に投稿することができます。</p>
<p>ALBUM ライブラリはアルバムにアプリケーションがアクセスする方法を提供します。</p>
<h1 id="Anchor_232856843_h1_2">画面写真の保存</h1>
<p>アプリケーションは ALBUM ライブラリを利用してアプリケーションが作成した画像を画面写真としてアルバムに保存できます。</p>
<p>画面写真の保存には <span class="ApiLink_nn__album__SaveScreenshot">nn::album::SaveScreenshot</span>() 関数を使用します。</p>
<p>&nbsp;</p>
<div class="note_new">
  <div class="note_new_left">注意：</div>
  <div class="note_new_right">
    <p>画面写真へのアクセスでは記録メディアへのアクセスが発生します。アプリケーションは FS ライブラリを使用する場合と同様に、記録メディアへのアクセスをガイドラインに規定された単位時間あたりの読み書き回数および書込み容量の制限の範囲内に抑える必要があります。<a href="../Pages/Page_174228221.html">FSライブラリのデバッグ機能</a> を使用してアプリケーションによる記録メディアへのアクセスがガイドラインによる制限値を超えていないことを確認することができます。</p>
  </div>
</div>
<h2 id="Anchor_232856843_h2_1">画像のフォーマット</h2>
<p>アプリケーションは以下のフォーマットに従った任意の画像を画面写真として保存することができます。</p>
<ul style="list-style-type: square;">
  <li>画像の大きさは <span class="ApiLink_nn__album__ImageSize">nn::album::ImageSize</span> 列挙体で定義された値のいずれかで、パディングはなし。</li>
  <li>画像のフォーマットは RGBA8888</li>
  <li>画像の色空間は sRGB 色空間</li>
  <li>画像左上を原点として各ピクセルの値を R, G, B, A, R, G, B, A, ... の順に並べたもの</li>
</ul>
<p>&nbsp;</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>NX Addon 3.x.x では保存できる画像の大きさは 1280x720 ピクセルのみです。</p>
    <p>保存される画面写真のファイル形式は本体機能によって決められており、アプリケーションは保存する形式を指定できません。</p>
  </div>
</div>
<h2 id="Anchor_232856843_h2_2">オプション</h2>
<p>画面写真の保存を行う際には画像データの指定の他にオプションを指定できます。オプションを省略した場合、既定値が使用されます。</p>
<h3 id="Anchor_232856843_h3_1">screenshotSize</h3>
<p>画面写真の大きさを指定します。値は&nbsp;ImageSize 列挙体で定義された値から選びます。既定値は <span class="ApiLink_nn__album__ImageSize_1280x720">nn::album::ImageSize_1280x720</span> です。</p>
<p>現在提供されている API は内部で画像のスケーリングを行わないため、あらかじめスケーリングした画像を保存 API に渡してください。</p>
<h3 id="Anchor_232856843_h3_2">imageOrientation</h3>
<p>保存する画像の向きを指定します。値は ImageOrientation 列挙体で定義された値から選びます。既定値は <span class="ApiLink_nn__album__ImageOrientation_None">nn::album::ImageOrientation_None</span> です。</p>
<p>ユーザーが画面写真を閲覧する際に、画像の上下が正しくなるように回転して表示される場合があります。</p>
<p>&nbsp;</p>
<table class="table">
  <tbody>
    <tr>
      <th>ImageOrientation</th>
      <th>None</th>
      <th>Rotate90</th>
      <th>Rotate180</th>
      <th>Rotate270</th>
    </tr>
    <tr>
      <td>保存する画像</td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868310.jpg" width="160" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868311.jpg" width="160" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868307.jpg" width="160" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868308.jpg" width="160" class="embedded-image" />
        </span>
      </td>
    </tr>
    <tr>
      <td>閲覧時の表示</td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868310.jpg" width="160" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868309.jpg" width="90" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868310.jpg" width="160" class="embedded-image" />
        </span>
      </td>
      <td style="text-align: center;">
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_233868318/233868309.jpg" width="90" class="embedded-image" />
        </span>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>NX Addon 3.x.x の本体機能のアルバムは画面写真の回転を考慮した画像の表示は未対応です。将来のバージョンで対応される予定です。</p>
    <p>画面写真を SNS に投稿した際や、画面写真ファイルを&nbsp;PC 上で画像の回転に対応したソフトウェアで表示した際に、回転を考慮した表示が行われます。</p>
  </div>
</div>
<h3 id="Anchor_232856843_h3_3">reportOption&nbsp;</h3>
<p>画面写真の保存の結果を自動的にユーザーに通知するかを選択します。既定値は <span class="ApiLink_nn__album__AlbumReportOption_ReportAlways">nn::album::AlbumReportOption_ReportAlways</span> です。</p>
<p>自動通知を有効にした場合、システムがユーザーに対して保存結果の通知を行います。行われる通知の内容は、保存 API の戻り値の Result と同等の内容です。自動通知の有効／無効によって保存 API の Result は変化しません。例えばアルバムが満杯で保存に失敗した場合、自動通知の有無に関わらずアプリケーションには <span class="ApiLink_nn__album__ResultAlbumFull">nn::album::ResultAlbumFull</span> が返ります。</p>
<h1 id="Anchor_232856843_h1_3">画面写真の保存＆投稿</h1>
<p>アプリケーションは ALBUM ライブラリを利用してアプリケーションが作成した画像を画面写真として保存し、 SNS に投稿できます。</p>
<p>画面写真の保存＆投稿には <span class="ApiLink_nn__album__SaveAndShareScreenshot">nn::album::SaveAndShareScreenshot</span>() 関数を使用します。引数として渡すことができる画像のフォーマットは <span class="ApiLink_nn__album__SaveScreenshot">nn::album::SaveScreenshot</span>() 関数と同様です。</p>
<p>&nbsp;</p>
<div class="warn_new">
  <div class="warn_new_left">警告：</div>
  <div class="warn_new_right">
    <p>投稿 API によって SNS の投稿を行った場合、開発機からの呼出しであってもアプリケーションの作成した画像が SNS に投稿されます。投稿に利用する SNS アカウントの設定によっては、投稿した画像を一般の SNS 利用者が閲覧可能になります。投稿機能のデバッグ時にはアプリケーション側で以下のような対策をして、開発中のアプリケーションの情報が意図せず公開されないようにしてください。</p>
    <ul style="list-style-type: square;">
      <li>投稿時に使用する SNS アカウントとして非公開設定のアカウントを利用する</li>
      <li>公開されても問題ない画像を用いてデバッグを行う&nbsp;</li>
    </ul>
  </div>
</div>
<div class="note_new">
  <div class="note_new_left">注意：</div>
  <div class="note_new_right">
    <p>投稿 API&nbsp;は SNS 投稿のためライブラリアプレットを呼び出します。このライブラリアプレットはアプリケーションが用いているのと同じ CPU コアで動作します。投稿 API の呼出しと並行してアプリケーションの処理を行っている場合、アプリケーションとライブラリアプレットの両方の実行速度が低下することがあります。</p>
  </div>
</div>
<h2 id="Anchor_232856843_h2_3">オプション</h2>
<p>画面写真の投稿を行う際には以下のオプションを指定できます。保存に関するオプションは「画面写真の保存&gt;オプション」を参照してください。</p>
<h3 id="Anchor_232856843_h3_4">uid</h3>
<p>SNS への投稿に使用するユーザーアカウント ID を指定します。既定値は <span class="ApiLink_nn__account__InvalidUid">nn::account::InvalidUid</span> です。</p>
<p>
  <span class="ApiLink_nn__account__InvalidUid">nn::account::InvalidUid</span> を指定した場合、投稿 API によってユーザー選択 UI が表示されます。</p>
<p>あらかじめ投稿に使用するユーザーアカウントが分かっている場合、 uid を指定して投稿 API を呼び出すことで投稿 API によるユーザー選択 UI の表示が省略されます。ユーザーアカウント ID については <a href="../Pages/Page_108531698.html">ACCOUNT ライブラリのリファレンス</a> を参照してください。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__album__SaveScreenshot', '../../../Api/HtmlNX/namespacenn_1_1album.html#a8e66e67ac82e65cf6b671db39e7539ae' )
SetUrl( 'ApiLink_nn__album__ImageSize', '../../../Api/HtmlNX/namespacenn_1_1album.html#a69fc07931e25a09d0446e29dbd22979e' )
SetUrl( 'ApiLink_nn__album__ImageSize_1280x720', '../../../Api/HtmlNX/namespacenn_1_1album.html#a69fc07931e25a09d0446e29dbd22979ea67c179cae778edb551f3edff73f9910c' )
SetUrl( 'ApiLink_nn__album__ImageOrientation_None', '../../../Api/HtmlNX/namespacenn_1_1album.html#a5ed8768ea50a1623474f1aa50da9faf2a1ff82a6c146e1fa5f0323269644962ea' )
SetUrl( 'ApiLink_nn__album__AlbumReportOption_ReportAlways', '../../../Api/HtmlNX/namespacenn_1_1album.html#a18eb9c794f7934e00c623461ab01ed6fa1b2784d0dfd80f5cf9e5d1486b050ad7' )
SetUrl( 'ApiLink_nn__album__ResultAlbumFull', '../../../Api/HtmlNX/classnn_1_1album_1_1_result_album_full.html' )
SetUrl( 'ApiLink_nn__album__SaveAndShareScreenshot', '../../../Api/HtmlNX/namespacenn_1_1album.html#a26767d2ef6b1d9deebca0efff601976b' )
SetUrl( 'ApiLink_nn__account__InvalidUid', '../../../Api/HtmlNX/namespacenn_1_1account.html#ae6d17c482c1a86531eb4fbbcc542ef6b' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
