<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>NfpDebugTool</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- NfpDebugTool -->
<div class="pagetitle" id="PageId_188809428">NfpDebugTool</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_188809428_h1_1">概要</a>
    </li>
    <li>
      <a href="#Anchor_188809428_h1_2">配置場所</a>
    </li>
    <li>
      <a href="#Anchor_188809428_h1_3">使用方法</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_188809428_h2_1">ツールの起動</a>
      </li>
      <li>
        <a href="#Anchor_188809428_h2_2">NFP タグに書き込まれたデータの表示、編集</a>
      </li>
      <li>
        <a href="#Anchor_188809428_h2_3">アプリ専用領域、および初期登録情報の削除</a>
      </li>
      <li>
        <a href="#Anchor_188809428_h2_4">NFP タグのデータ破壊</a>
      </li>
      <li>
        <a href="#Anchor_188809428_h2_5">本体ストレージに保存された amiibo のバックアップデータ初期化</a>
      </li>
      <li>
        <a href="#Anchor_188809428_h2_6">「amiibo設定」の呼び出し</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_188809428_h1_1">概要</h1>
<p>NfpDebugTool は、NFP ライブラリを使用するアプリケーションのデバッグや、ガイドライン項目の確認を補助するためのターゲット向けツールです。</p>
<p>以下の機能を使用できます。</p>
<ul>
  <li>NFP タグに書き込まれたデータの表示、編集</li>
  <li>アプリ専用領域、および初期登録情報の削除</li>
  <li>NFP タグのデータ破壊</li>
  <li>本体ストレージに保存された amiibo のバックアップデータ初期化</li>
  <li>「amiibo設定」の呼び出し</li>
</ul>
<h1 id="Anchor_188809428_h1_2">配置場所</h1>
<p>このツールは Nintendo SDK の NX Addon に含まれており、以下の場所に配置されています。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>TargetTools/NX-NXFP2-a64/NfpDebugTool/Release/NfpDebugTool.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_188809428_h1_3">使用方法</h1>
<h2 id="Anchor_188809428_h2_1">ツールの起動</h2>
<p>
  <a href="../Pages/Page_107320466.html">RunOnTarget</a>&nbsp;を使用してツールを起動します。</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ Tools/CommandLineTools/RunOnTarget.exe TargetTools/NX-NXFP2-a64/NfpDebugTool/Release/NfpDebugTool.nsp</pre>
  </div>
</div>
<p>nsp ファイルを開発機にインストールして使用することもできます。<br />nsp ファイルのインストール方法については、<a href="../Pages/Page_107779320.html">アプリケーションの開発機へのインストール</a>&nbsp;を参照してください。</p>
<p>ツールを起動すると、使用可能な操作一覧が Main menu に表示されますので、使用したい機能を選択してください。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_188809428/188809409.jpg" height="250" class="embedded-image" />
  </span>
</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>ツールの操作には、Joy-Con 左右セット、または Switch Pro コントローラーを使用してください。</p>
  </div>
</div>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>NFP タグの読み込み、書き込みを行う場合、タグはツールの操作に使用したコントローラーにかざしてください。</p>
  </div>
</div>
<h2 id="Anchor_188809428_h2_2">NFP タグに書き込まれたデータの表示、編集</h2>
<p>Main menu の「Edit tag data」を選択して A ボタンを押した後、NFP タグをコントローラーにかざしてください。</p>
<p>タグの読み込みが完了すると、利用可能な操作が Tag menu に表示されます。<br />Tag menu が表示された後は、NFP タグをコントローラーから離しても問題ありません。&nbsp;</p>
<h3 id="Anchor_188809428_h3_1">Display current data</h3>
<p>NFP タグに書き込まれたデータを表示します。</p>
<p>NFP タグ以外のタグを読み込ませた場合、または NFP タグの読み込みに失敗した場合は、TagInfo のみ表示されます。</p>
<div class="note_new">
  <div class="note_new_left">注意：</div>
  <div class="note_new_right">
    <p>英語、日本語以外のニックネームや、特殊な記号が含まれたニックネームは正常に表示できません。</p>
  </div>
</div>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>初期化後に一度も書き込んだことがない NFP タグの場合、Last write date や Write counter が正常に表示されません。これは NFP タグの仕様によるものですので、動作に問題はありません。</p>
  </div>
</div>
<p>
  <br /> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_188809428/188809410.jpg" height="250" class="embedded-image" /></span></p>
<h3 id="Anchor_188809428_h3_2">Edit admin info</h3>
<p>アプリ専用領域の Access ID を確認、変更します。</p>
<h3 id="Anchor_188809428_h3_3">Edit register info</h3>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>NX Addon 1.0.0 以降で使用可能です。</p>
  </div>
</div>
<p>amiibo に登録されているニックネームを変更します。</p>
<p>ニックネームは、英語、日本語、中国語 (繁体字・簡体字)、韓国語、ガイドラインチェック用から選択できます。各言語選択時に設定されるニックネームは固定です。ニックネームを変更すると、FontRegion も対応する値に変更されます。</p>
<p>For guideline check を選択すると、ニックネームを「ĈĉĔĕĜĝ」、FontRegion を <span class="ApiLink_nn__nfp__FontRegion_JpUsEu">nn::nfp::FontRegion_JpUsEu</span> に変更します。ガイドライン項目の確認にご利用ください。</p>
<h3 id="Anchor_188809428_h3_4">Set application area</h3>
<p>アプリ専用領域を、0x00 からインクリメントする系列、または全て 0xFF に書き換えます。</p>
<h3 id="Anchor_188809428_h3_5">Flush current data</h3>
<p>変更した内容を NFP タグに書き込みます。</p>
<p>「Flush current data」を選択した後、直前に読み込ませた NFP タグを再度コントローラーにかざしてください。</p>
<h2 id="Anchor_188809428_h2_3">アプリ専用領域、および初期登録情報の削除</h2>
<p>Main menu の「Delete info」では、NFP タグに書き込まれたアプリ専用領域、および初期登録情報を削除できます。</p>
<p>「Delete application area」はアプリ専用領域、「Delete register info」は初期登録情報を削除します。<br />いずれかを選択して A ボタンを押した後、NFP タグをコントローラーにかざしてください。</p>
<h2 id="Anchor_188809428_h2_4">NFP タグのデータ破壊</h2>
<p>Main menu の「Break amiibo」では、NFP タグに書き込まれた情報を破壊し、書き込みに失敗した場合と同等の状態を作り出せます。<br />データを破壊した NFP タグは、復旧または「amiibo設定」による初期化が必要な状態になります。</p>
<p>「Break amiibo」を選択して A ボタンを押した後、データを破壊したい NFP タグをコントローラーにかざしてください。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>共用領域のうち、書き換えることができないキャラクター ID 等の情報は破壊されません。</p>
  </div>
</div>
<h2 id="Anchor_188809428_h2_5">本体ストレージに保存された amiibo のバックアップデータ初期化</h2>
<p>Main menu の「Backup data」を選択すると表示される「Initialize backup data」では、本体ストレージに保存された amiibo 復旧のためのバックアップデータを全て削除できます。<br />バックアップデータを削除すると、データを破壊した NFP タグに対して、マウント時に <span class="ApiLink_nn__nfp__ResultNeedFormat">nn::nfp::ResultNeedFormat</span> が発生するようになります。&nbsp;</p>
<p>「Initialize backup data」を選択して A ボタンを押すと、すぐにデータが削除されます。</p>
<h2 id="Anchor_188809428_h2_6">「amiibo設定」の呼び出し</h2>
<p>Main menu の「Call amiibo settings」では、amiibo設定アプレットを呼び出せます。</p>
<p>呼び出したい機能を選択して A ボタンを押してください。</p>
<table class="table">
  <tbody>
    <tr>
      <th>メニュー項目</th>
      <th>呼び出す機能</th>
    </tr>
    <tr>
      <td>Nickname &amp; owner</td>
      <td>オーナーとニックネームの登録</td>
    </tr>
    <tr>
      <td>Erase gamedata</td>
      <td>ゲームデータの消去</td>
    </tr>
    <tr>
      <td>Restore</td>
      <td>データの復旧</td>
    </tr>
    <tr>
      <td>Format</td>
      <td>amiibo の初期化</td>
    </tr>
  </tbody>
</table>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__nfp__FontRegion_JpUsEu', '../../../Api/HtmlNX/namespacenn_1_1nfp.html#a65f419fccba515afa82b74447d1bc941ad4e570aa863c2b2ac6676a6f932119be' )
SetUrl( 'ApiLink_nn__nfp__ResultNeedFormat', '../../../Api/HtmlNX/classnn_1_1nfp_1_1_result_need_format.html' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
