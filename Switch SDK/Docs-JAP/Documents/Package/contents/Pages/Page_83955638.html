<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>シーケンスサウンド</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- シーケンスサウンド -->
<div class="pagetitle" id="PageId_83955638">シーケンスサウンド</div>
<div class="text_separate">
<h1 id="Anchor_83955638_h1_1">シーケンスサウンド</h1>
<p>プロジェクトツリーで、シーケンスサウンドのノードを選択することで、サウンドセットタブにシーケンスサウンドを表示することができます。<br />この時表示されるリストを、シーケンスサウンドリストと呼びます。</p>
<h2 id="Anchor_83955638_h2_1">シーケンスサウンドの新規作成と追加</h2>
<p>シーケンスサウンドを新規作成または追加する場合は、サウンドセットタブのリスト領域を選択して、[プロジェクト]&rarr;[アイテムの追加]&rarr;[シーケンスサウンド&hellip;] を実行します。</p>
<p>シーケンスサウンドリストで、右クリックを行うと現れるコンテキストメニューによる操作でも、シーケンスサウンドを新規作成または追加することができます。</p>
<h2 id="Anchor_83955638_h2_2">シーケンスサウンドの編集</h2>
<p>シーケンスサウンドの編集はシーケンスサウンドリストで行います。<br />シーケンスサウンドリストの各列はシーケンスサウンドに必要な定義要素で、サウンドアーカイブのシーケンスサウンドのデータに必要な各要素に対応しています。</p>
<h2 id="Anchor_83955638_h2_3">シーケンスサウンドリストの定義要素</h2>
<p>ここではシーケンスサウンドリストの各定義要素の意味を解説します。</p>
<h3 id="Anchor_83955638_h3_1">再生</h3>
<p>ボタンをクリックすると、プレビュープレイヤーに登録され、シーケンスサウンドがトリガ再生されます。</p>
<h3 id="Anchor_83955638_h3_2">名前</h3>
<p>シーケンスサウンドの名前を指定します。<br />この名前は最終的に作成されたサウンドアーカイブを利用して、プログラムが Atk ライブラリでシーケンスサウンドを鳴らす時の名前になります。</p>
<p>名前に使用できる文字には制限があり、以下の文字が使えます。</p>
<ul>
  <li>先頭は、半角英字とアンダーバー [a-zA-Z_]</li>
  <li>先頭以外は、半角英数字とアンダーバー [a-zA-Z0-9_]</li>
</ul>
<h3 id="Anchor_83955638_h3_3">ファイルタイプ</h3>
<p>参照ファイルのタイプを選択します。<br />標準 MIDI ファイルの場合には SMF を、テキストシーケンスファイルを利用する場合にはテキスト（ダイアログでは Text）を選択します。</p>
<h3 id="Anchor_83955638_h3_4">ファイルパス</h3>
<p>シーケンスサウンドを作成する際に参照するファイルを指定します。</p>
<p>ファイル名、およびパス名に使用できる文字には制限があり、以下の文字が使えます。</p>
<ul>
  <li>ファイル名の先頭は、半角英字とアンダーバー [a-zA-Z_]</li>
  <li>ファイル名の先頭以外およびパス名は、半角英数字とアンダーバー [a-zA-Z0-9_]</li>
</ul>
<p>シーケンスサウンドリスト上で、右クリックにより現れるコンテキストメニューの「参照ファイルを開く」から、ファイルパスに指定しているファイルを開くことができます。</p>
<h3 id="Anchor_83955638_h3_5">再生開始位置</h3>
<p>参照ファイルとしてテキストシーケンスファイルを利用する場合に、テキストシーケンスファイルの中で、シーケンスサウンドが再生するシーケンスのラベルを指定します。</p>
<p>この指定を行なわない場合には、テキストシーケンスファイルの中で、最も先頭にあるシーケンスを再生します。</p>
<h3 id="Anchor_83955638_h3_6">バンク</h3>
<p>シーケンスサウンドが再生時に使用するバンクを指定します。</p>
<p>シーケンスサウンドアイテムが参照しているバンクがシングルバンクの場合に、シーケンスサウンドリスト上で、右クリックにより現れるコンテキストメニューの「参照バンクを開く」から、参照しているバンクファイルをバンクタブで開くことができます。</p>
<h3 id="Anchor_83955638_h3_7">マルチバンクの設定</h3>
<p>シーケンスサウンドではマルチバンクの指定が可能です。<br />ひとつのシーケンスサウンドに対して、合計で最大 4 個のバンクを設定することができます。<br />バンク 1 〜 バンク 3 にバンクを指定することでマルチバンクを実現します。</p>
<h3 id="Anchor_83955638_h3_8">プレイヤー</h3>
<p>シーケンスサウンドが発音する際に使用するプレイヤーを指定します。</p>
<h3 id="Anchor_83955638_h3_9">音量</h3>
<p>シーケンスサウンドを Atk ライブラリが鳴らす時のボリュームを 0 〜 255 の範囲で指定します。</p>
<p>サウンドデータの音量を 127 にすると、元データと等倍の音量 (1.0 倍) で再生されます。</p>
<p>ただし、音量は、いろいろな場面 (データやプログラム) で設定されます。<br />すべての設定値が掛け合わされた結果、元音量から比べて、0.0 倍 〜 2.0 倍にクランプされます。<br />詳しくは、サウンドシステムマニュアルの「<a href="../Pages/Page_83955829.html">サウンドパラメータ制御の動作</a>」の章をご覧ください。</p>
<h3 id="Anchor_83955638_h3_10">平均ラウドネス値</h3>
<p>アイテムを選択し、コンテキストメニューの「平均ラウドネス値の計測」を実行することで平均ラウドネス値を表示することができます。</p>
<h3 id="Anchor_83955638_h3_11">チャンネル優先度</h3>
<p>シーケンスサウンドのチャンネルプライオリティを 0 〜 127 の範囲で指定します。<br />数値が大きい程優先順位が高く（強く）なります。</p>
<p>この値は参照するシーケンスファイルの各チャンネルに設定された発音プライオリティと足し合わされ、各ボイスを発音する際の最終的な発音プライオリティとなります。<br />シーケンスファイルに対する発音プライオリティの設定方法については、<a href="../Pages/Page_83956104.html">シーケンスデータマニュアル</a>&nbsp;を参照してください。</p>
<h3 id="Anchor_83955638_h3_12">プレイヤー優先度</h3>
<p>シーケンスサウンドのプレイヤープライオリティを 0 〜 127 の範囲で指定します。<br />数値が大きい程優先順位が高く（強く）なります。</p>
<p>プレイヤープライオリティは、プレイヤーのサウンドリミットの値を超えて再生しようとしたときや、サウンドやトラックなどについてシステムで設定した最大数を越えて再生しようとしたときに、再生を行う（止める）サウンドを選ぶ時に利用されます。<br />詳しくは <a href="../Pages/Page_83956106.html">サウンドシステムマニュアル</a> をご覧ください。</p>
<h3 id="Anchor_83955638_h3_13">アクタープレイヤー</h3>
<p>再生するアクタープレイヤーの 4 種類の番号を 0 〜 3 の値で指定します。</p>
<p>アクタープレイヤーは、実世界の音源、具体的にはボイスに対する声帯に相当し、アクタープレイヤーごとに同時に再生できるサウンド数を制限することができます。<br />プレイヤーと同様に、設定したサウンド数を超えた場合には、各サウンドに設定されたプレイヤープライオリティを比較して、最も優先度が低いサウンドが停止します。<br />各アクタープレイヤーのサウンド制限数の初期値は、0 番は無制限で、1 〜 3 番は 1 に設定されています。</p>
<p>アクタープレイヤーは、主に 3D サウンドのアクターと組み合わせて利用します。<br />例としては、同じサウンドを、3D サウンドの複数のアクターで同時に再生する可能性がある状況において、各アクター単位で、それらのサウンドの再生を制御したい場合などに有効です。</p>
<h3 id="Anchor_83955638_h3_14">単一再生</h3>
<p>単一再生の制御モードを指定します。</p>
<p>単一再生を利用すると、あるサウンドを同じプレイヤーで同時に 1 つだけ再生するように制御することができます。その制御方法として、あるサウンドを再生中にもう一度同じサウンドを再生したときの制御モードを以下の 5 つから指定します。</p>
<ul>
  <li>使用しない (デフォルト)<br />再生中のサウンドと後から再生したサウンドを共に再生します。</li>
  <li>後着優先<br />再生中のサウンドを停止し、後から再生したサウンドを再生します。</li>
  <li>時間内後着優先<br />再生中のサウンドの再生開始からの経過時間が「単一再生有効時間」カラムで設定した時間以内ならば、後着優先と同じ制御を行います。時間外ならば、単一再生を使用しない場合と同じ制御を行います。</li>
  <li>先着優先<br />再生中のサウンドを再生し続け、後から再生しようとしたサウンドの再生を失敗させます。</li>
  <li>時間内先着優先<br />再生中のサウンドの再生開始からの経過時間が「単一再生有効時間」カラムで設定した時間以内ならば、先着優先と同じ制御を行います。時間外ならば、単一再生を使用しない場合と同じ制御を行います。</li>
</ul>
<h3 id="Anchor_83955638_h3_15">単一再生有効時間</h3>
<p>単一再生に「時間内後着優先」か「時間内先着優先」を指定した場合に、単一再生の制御を有効化する時間をミリ秒で指定します。</p>
<h3 id="Anchor_83955638_h3_16">リリース時優先度固定</h3>
<p>チェックを入れたサウンドは、リリース中も、発音プライオリティが下がらなくなります。</p>
<h3 id="Anchor_83955638_h3_17">3D Vol</h3>
<p>3D サウンドによるボリュームの制御を受けるかどうかを設定します。<br />このチェックを外すことにより、サウンドに対する 3D サウンドのボリューム制御を無効にすることができます。</p>
<h3 id="Anchor_83955638_h3_18">3D Pan</h3>
<p>3D サウンドによるパンの制御を受けるかどうかを設定します。<br />このチェックを外すことにより、サウンドに対する 3D サウンドのパン制御を無効にすることができます。</p>
<h3 id="Anchor_83955638_h3_19">3D SPan</h3>
<p>3D サウンドによるサラウンドパンの制御を受けるかどうかを設定します。<br />このチェックを外すことにより、サウンドに対する 3D サウンドのサラウンドパン制御を無効にすることができます。</p>
<h3 id="Anchor_83955638_h3_20">3D Pri</h3>
<p>3D サウンドによるプレイヤープライオリティの制御を受けるかどうかを設定します。<br />このチェックを外すことにより、サウンドに対する 3D サウンドのプレイヤープライオリティ制御を無効にすることができます。</p>
<h3 id="Anchor_83955638_h3_21">3D Filter</h3>
<p>3D サウンドによる Biquad フィルタの制御を受けるかどうかを設定します。<br />このチェックを入れることにより、サウンドに対する 3D サウンドの Biquad フィルタ制御を有効にすることができます。</p>
<h3 id="Anchor_83955638_h3_22">3D 減衰カーブ</h3>
<p>3D サウンドによって行われる、ボリューム減衰の方式を選択します。</p>
<h3 id="Anchor_83955638_h3_23">3D 減衰率</h3>
<p>3D サウンドによって行われる、ボリューム減衰の減衰率を設定します。</p>
<h3 id="Anchor_83955638_h3_24">3D ドップラーファクター</h3>
<p>3D サウンドによって行われる、ドップラー効果を設定します。<br />ドップラー効果による音程の変化度合いを 0 〜 255 の範囲で設定します。<br />デフォルト値は 0 で、値が大きくなると音程の変化が急になり、0 の時は全く変化しません。</p>
<h3 id="Anchor_83955638_h3_25">最大発音数</h3>
<p>シーケンスサウンドの最大発音数を表示します。</p>
<p>表示内容は、シーケンスサウンドの最大発音数を計測することにより更新されます。</p>
<h3 id="Anchor_83955638_h3_26">ユーザーパラメータ</h3>
<p>ユーザーが自由に利用可能な 32bit の数値を設定します。</p>
<p>[プロジェクト] - [プロジェクトの設定] からプロジェクト設定ダイアログを開き、「ユーザーパラメータ」タブで各ビットの構成を設定できます。</p>
<h2 id="Anchor_83955638_h2_4">シーケンスサウンドの最大発音数の計測</h2>
<p>シーケンスサウンドの最大発音数を計測し、シーケンスサウンドリストの最大発音数の項目に一覧表示します。</p>
<p>[プレビュー] - [シーケンスサウンドの最大発音数を計測] を実行します。<br />「シーケンスサウンドの最大発音数の計測」ダイアログが表示されるので、最大計測時間を設定して計測ボタンを押します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955638/90146143.gif" class="embedded-image" />
  </span>
</p>
<p>計測は、各サウンドの再生開始位置から行われます。</p>
<p>また、発音数は最大 96 音までカウントされます。</p>
<h2 id="Anchor_83955638_h2_5">テキストシーケンスファイルの作成</h2>
<p>SMF ファイルから変換されたテキストシーケンスファイル (.fseq) を作成することができます。<br />テキストシーケンスを作成・編集したい場合は、こちらの機能を使用してください。</p>
<p>作成したいシーケンスサウンドリスト上で、右クリックにより現れるコンテキストメニューから、「テキストシーケンスファイルの作成」を実行します。</p>
<p>&nbsp;<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955638/83081236.gif" class="embedded-image" /></span></p>
<p>出力先フォルダを指定するダイアログが開くので、フォルダを設定しテキストシーケンスファイルを作成します。</p>
<p>出力ファイル名は、リストで選択されているファイルの拡張子のみが fseq に変更されたものとなります。</p>
<p>&nbsp;<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955638/83081237.gif" class="embedded-image" /></span></p>
<h2 id="Anchor_83955638_h2_6">テンプレートテキストシーケンスの書き出し</h2>
<p>テキストシーケンスファイル (.fseq) に存在しない「再生開始位置」のラベルを、テキストシーケンスファイルに書き出すことができます。</p>
<p>&nbsp;<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955638/83081233.gif" class="embedded-image" /></span></p>
<p>例えば、再生開始位置のラベルを &quot;abcd&quot; と新たに追加した場合、[テンプレートテキストシーケンスの書き出し] を実行すると、.fseq ファイルの最後に</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>abcd:<br />fin</p>
  </div>
</div>
<p>というテキストシーケンスが追記されます。</p>
<p>
  <br />
</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
