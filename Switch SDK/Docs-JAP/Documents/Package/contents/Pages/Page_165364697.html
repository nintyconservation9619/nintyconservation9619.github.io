<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>「ハートビート」タブ</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 「ハートビート」タブ -->
<div class="pagetitle" id="PageId_165364697">「ハートビート」タブ</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_165364697_h1_1">「ハートビート」タブの概要</a>
    </li>
    <li>
      <a href="#Anchor_165364697_h1_2">グループ選択</a>
    </li>
    <li>
      <a href="#Anchor_165364697_h1_3">ハートビートコア</a>
    </li>
  </ul>
</p>
<h1 id="Anchor_165364697_h1_1">「ハートビート」タブの概要</h1>
<p>
  <strong>「ハートビート」</strong>タブでは、コア単位で特定のハートビートでのプロファイルデータをフレーム分けできます。また、特定レートのフレームのサブセットもすばやく選択できます。</p>
<p>ハートビートとは、特定のコアでの周期的なリズムを表すために使用される用語です。ハートビートは、プロファイラの API を使用して直接記録できるほか、周期的に呼び出される関数に注目することによって、プロファイラで自動的に推測することもできます。例えば、音声割り込みが原因で一連の音声関数が 3ms ごとに呼び出されたり、何らかの分析を実行するために一連の AI 関数が 1/3 秒ごとに呼び出されたりすることがあります。プロファイラがこれらのハートビートを自動的に検出する場合、これらは推測ハートビートと呼ばれます。</p>
<h1 id="Anchor_165364697_h1_2">グループ選択</h1>
<p>グループ選択では、フレームレートに従って特定のフレームグループが自動的に選択されます。以下では、各ボタンの機能を説明します。</p>
<p>
  <strong>「60Hz」：</strong>60Hz 以上（16.6ms 以下）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「30Hz」：</strong>30Hz 以上、60Hz 未満（16.6〜33.3ms）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「20Hz」：</strong>20Hz 以上、30Hz 未満（33〜50ms）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「15Hz」：</strong>15Hz 以上、20Hz 未満（50〜66.6ms）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「12Hz」：</strong>12Hz 以上、15Hz 未満（66.6〜83.3ms）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「12Hz 未満」：</strong>12Hz 未満（83.3ms 超）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「30Hz 未満」：</strong>30Hz 未満（33.3ms 超）のフレームレートで実行されている、すべてのコア上のすべてのフレームを選択します。</p>
<p>
  <strong>「反転」：</strong>フレームの選択を反転します（選択されていたフレームは選択解除され、選択解除されていたフレームは選択されます）。</p>
<p>
  <strong>「すべて選択解除」：</strong>すべてのフレームが選択解除されます。</p>
<p>フレームの選択状態は<strong>「サンプルグラフ」</strong>タブで確認できます。<strong>「反転」</strong>および<strong>「すべて選択解除」</strong>以外のすべてのボタンではオンとオフの切り替えが可能です。特定のボタンをオンに切り替えると、レートと一致する該当フレームが選択されます（オレンジ色で強調表示されます）。ボタンをオフに切り替えると、そのレートと一致するフレームの選択が解除されます。この切り替え操作により、複数の範囲を個別に選択または選択解除できます。例えば、フレームレートの範囲を複数選択できます。<strong>「サンプルグラフ」</strong>ツールバーの<strong>「フレームの選択」</strong>モードを使用すると、<strong>サンプルグラフ</strong>で個々のフレームを直接選択または選択解除することにより、これらのグループの選択を手動で変更できます。</p>
<p>フレームを選択または選択解除すると、すべての表示中の値（例えば<strong>「関数」</strong>タブのパーセント値）が再計算され、選択したフレームのみが結果に反映されます。フレームが未選択の場合は、データセット全体が値に反映されます。</p>
<h1 id="Anchor_165364697_h1_3">ハートビートコア</h1>
<p>プロファイルで記録されたコアごとに、番号が割り当てられた<strong>コア</strong>グループが<strong>「ハートビート」</strong>タブに表示されます。この<strong>コア</strong>グループでは、そのコアに対するハートビートフレーム処理といくつかの切り替えボタンを選択して、そのフレーム処理がすべてのコアに適用されるようにしたり、マスターフレームレートとして適用されるようにしたりすることができます。</p>
<p>ドロップダウンボックスに以下の 3 種類の選択項目が表示されます。</p>
<ol>
  <li>固定間隔（<strong>「固定間隔 60Hz」</strong>、<strong>「固定間隔 1ms」</strong>）。</li>
  <li>ゲームで直接記録されたハートビート（例えば「<strong>MainHeartbeat</strong>」）。</li>
  <li>推測ハートビート（ゲームで自動的に検出された周期的なリズム）。</li>
</ol>
<p>固定間隔は、<strong>サンプルグラフ</strong>でそのコアの固定時間マーカを描画するために用意されています。設計上、これらの間隔をフレーム境界として使用したり、フレームを選択するために使用したりすることはできません。ゲームのプロファイルデータは、これらの固定間隔と同期しているわけではなく、得られる情報は誤解を招くものである可能性があるからです。</p>
<p>記録されたハートビートおよび推測ハートビートでは、詳しい分析や選択で使用できる便利なフレームマーキングが<strong>サンプルグラフ</strong>に表示されます。例えば、すべての <strong>30Hz</strong> フレームを<strong>「グループ選択」</strong>リボンバーグループから選択できます。記録されたハートビートは、API に記述された関数を使用して手動でゲームコードに記録します。推測ハートビートは周期的な関数の動作に基づいて自動検出されます。なお、サンプリングレートが低すぎたり、検出可能なパターンがなかったりする場合には、推測ハートビートがまったく存在しないことがあります。</p>
<p>注意：推測ハートビートは、検出された最も周期的な関数に基づく任意のフレーム境界を持つため、実際のフレームの開始位置と一致しない可能性もあります（正確なフレーム境界を必要とする場合は、コードにハートビートを明示的に記録することをお勧めします）。最後に、推測ハートビートは、プロファイルに記録された回数が最も多いものから順番に並べ替えられます。したがって、ドロップダウンボックスの上方に表示されている推測ハートビートほど重要です。</p>
<p>記録されたハートビートまたは推測ハートビートを選択し、<strong>「すべてのコアに適用」</strong>切り替えボタンをチェックすると、そのハートビートがすべてのコアで使用できるようになります。また、現在選択しているハートビートがマスターフレームレートとして使用されるようにすることもできます（<strong>「フレームレートとして使用」</strong>切り替えボタンをチェック）。<strong>サンプルグラフ</strong>下部のタイムラインにそのハートビートが描画されるようになります。デフォルトでは、記録されたハートビート（フレームマーカ）がマスターフレームレートとして使用され、<strong>サンプルグラフ</strong>のタイムラインに描画されます。</p>
<p> </p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
