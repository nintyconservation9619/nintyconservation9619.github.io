<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>デバッグ用動画保存機能</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- デバッグ用動画保存機能 -->
<div class="pagetitle" id="PageId_314462636">デバッグ用動画保存機能</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_314462636_h1_1">はじめに</a>
    </li>
    <li>
      <a href="#Anchor_314462636_h1_2">使用可能条件</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_314462636_h2_1">環境</a>
      </li>
      <li>
        <a href="#Anchor_314462636_h2_2">アプリケーションの設定</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_314462636_h1_3">機能</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_314462636_h2_3">例外発生時の自動動画保存</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_314462636_h3_1">注意</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_314462636_h2_4">動画撮影デバッグモード</a>
      </li>
    </ul>
  </ul>
</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>本機能は NX Addon 5.3.0 以降で使用することができます。</p>
  </div>
</div>
<h1 id="Anchor_314462636_h1_1">
  <span style="color: rgb(117,117,117);">はじめに</span>
</h1>
<p>開発時において、問題が発生した際の映像や音声を保存し、問題の解決をサポートする機能として、デバッグ用動画保存機能が用意されています。デバッグ用動画保存機能の各機能の有効化には、DevMenu や DevMenuCommand を使用します。詳しい操作方法は&nbsp;<a href="../Pages/Page_310879077.html">開発支援機能の設定</a>&nbsp;や&nbsp;<a href="../Pages/Page_107328760.html">DevMenuCommand</a>&nbsp;を参照してください。</p>
<p>なお、デバッグ用動画保存機能は開発時専用の機能であり、製品ではすべて無効化されます。</p>
<h1 id="Anchor_314462636_h1_2">使用可能条件</h1>
<h2 id="Anchor_314462636_h2_1">環境</h2>
<p>本機能を使用する環境は、以下の条件をすべて満たしていることが必要です。</p>
<ul style="list-style-type: square;">
  <li>開発機である</li>
  <li>
    <a href="../Pages/Page_109316216.html">InitializeSdev</a>&nbsp;または&nbsp;<a href="../Pages/Page_126578156.html">InitializeEdev</a>&nbsp;での初期化の際に「製品機に近いファームによる初期化」機能を使用していない</li>
</ul>
<h2 id="Anchor_314462636_h2_2">アプリケーションの設定</h2>
<p>
  <a href="../Pages/Page_166503043.html">nmeta ファイルでの設定</a>において以下の設定になっていることが必要です。</p>
<ul style="list-style-type: square;">
  <li>Application の設定項目のうち&nbsp;VideoCapture の項目を Enable に指定している<ul style="list-style-type: square;"><li>本項目が無指定の場合にも Enable として扱われる</li></ul></li>
</ul>
<h1 id="Anchor_314462636_h1_3">機能</h1>
<h2 id="Anchor_314462636_h2_3">例外発生時の自動動画保存</h2>
<p>プログラムで例外が発生して停止した場合に、どんなゲームプレイ状況で問題が起きたかを記録するために、例外発生時の自動動画保存機能を利用することができます。</p>
<p>この機能は、DevMenu の Debug タブにある &quot;Saves Movie On Exception&quot; の項目で有効化することができます。また、以下のように DevMenuCommand を使用して有効化することもできます。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ Tools\CommandLineTools\RunOnTarget.exe TargetTools\NX-NXFP2-a64\DevMenuCommand\Release\DevMenuCommand.nsp -- debug enable-saves-movie-on-exception</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>有効化時、プログラムの例外発生時に自動的に直前の動画が保存されます。なお、プログラムがデバッガアタッチされている場合には本機能はトリガされません。</p>
<p>本機能の動作や保存される動画は、<a href="../Pages/Page_258035870.html">キャプチャーボタンの長押し</a>によるものと比べて、以下のような点で同じです。</p>
<ul style="list-style-type: square;">
  <li>ストレージに十分な空きがなかったり、動画保存数の上限に達していた際には、保存されない</li>
  <li>動画ファイルの保存場所・フォーマット・品質</li>
  <li>本体機能の「アルバム」で閲覧できる</li>
</ul>
<p>また、以下のような点で異なります。</p>
<ul style="list-style-type: square;">
  <li>30 秒以上の動画が保存されることがある</li>
  <li>3 秒以下の動画が保存されることがある</li>
  <li>本機能で保存された動画に対して、本体機能の「アルバム」で、「切り出し」機能などの閲覧以外の機能が使用できないことがある</li>
</ul>
<h3 id="Anchor_314462636_h3_1">注意</h3>
<p>本機能は例外発生時に確実に動画を保存することを保証はしていません。特に以下のような場合には保存されません。</p>
<ul style="list-style-type: square;">
  <li>ストレージに十分な空きがないとき</li>
  <li>動画保存数の上限に達しているとき</li>
  <li>API によって動画保存が一時的に禁止されているとき<br /><ul style="list-style-type: square;"><li>後述の「動画撮影デバッグモード」を有効化していれば保存可能</li></ul></li>
</ul>
<p>問題解決のために長時間プログラムを回すような場合には、</p>
<ul style="list-style-type: square;">
  <li>ストレージに十分な空きを確保する</li>
  <li>保存されている動画の数を少なくする</li>
  <li>「動画撮影デバッグモード」を有効化する</li>
</ul>
<p>とすることを推奨します。</p>
<h2 id="Anchor_314462636_h2_4">動画撮影デバッグモード</h2>
<p>動画撮影デバッグモードを有効にすると、動画を撮影する際のシステムの動作がより多くの情報を残せるように変化します。</p>
<p>この機能は、DevMenu の Debug タブにある &quot;Movie Recording Debug Mode&quot; の項目で有効化することができます。また、以下のように DevMenuCommand を使用して有効化することができます。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ Tools\CommandLineTools\RunOnTarget.exe TargetTools\NX-NXFP2-a64\DevMenuCommand\Release\DevMenuCommand.nsp -- debug enable-movie-recording-debug-mode</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>動画撮影デバッグモードが有効なとき、以下のように動作が変化します。</p>
<ul style="list-style-type: square;">
  <li>アプリケーションが起動中常に撮影対象になる<ul style="list-style-type: square;"><li>アプリケーションが InFocus 状態でないときでも撮影対象になる</li><li>ただし、現実装においては、InFocus でない際にホームメニューなどの音声も録音される</li><li>API によって動画保存が一時的に禁止されている間も撮影対象になる</li></ul></li>
  <li>キャプチャーボタンの長押しの挙動が変化する<ul style="list-style-type: square;"><li>30 秒以上の動画が保存されることがある</li><li>キャプチャ対象が 3 秒以下であっても保存できる</li><li>API によって動画保存が一時的に禁止されているときにも保存ができる</li><li>本機能有効時に保存された動画に対して、本体機能の「アルバム」で、「切り出し」機能などの閲覧以外の機能が使用できないことがある</li></ul></li>
  <li>本機能有効時で、アプリケーションが起動中には、全ての動画に対して本体機能の「アルバム」で「切り出し」機能が使用できない</li>
</ul>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
