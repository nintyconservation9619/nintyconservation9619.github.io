<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>ビルドターゲットとビルドタイプ</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- ビルドターゲットとビルドタイプ -->
<div class="pagetitle" id="PageId_106361459">ビルドターゲットとビルドタイプ</div>
<div class="text_separate">
<h1 id="Anchor_106361459_h1_1">はじめに</h1>
<p>NintendoSDK のビルドシステムでは、提供する SDK ライブラリやアプリケーションのバイナリの種類を区別するために「ビルドターゲット」と「ビルドタイプ」という識別子を使用します。本ページでは、これらの識別子について説明します。</p>
<h1 id="Anchor_106361459_h1_2">ビルドターゲット</h1>
<h2 id="Anchor_106361459_h2_1">概要</h2>
<p>ビルドターゲットは、主にライブラリやアプリケーションが対象とする動作環境を表す識別子です。</p>
<p>例えば、開発機環境用のライブラリと Windows 環境用のライブラリは異なるバイナリファイルとして提供されるため、2 つのファイルを識別するための何らかの枠組みが必要となります。ここで、あるバイナリファイルがどのような動作環境向けにビルドされているかを表す識別子がビルドターゲットです。先の例では、前者は開発機環境のビルドターゲットのライブラリであり、後者は Windows 環境のビルドターゲットのライブラリです。</p>
<p>NintendoSDK が提供するビルドシステムを使用している場合、ビルドターゲットは Visual Studio のプロジェクト構成やプロパティの値に基づいて自動的に選択されるため、開発者が通常ビルドターゲットを意識する必要はありません。しかし、NintendoSDK が提供するビルドシステムを使用せずに独自のビルドシステムを構築する場合は、ビルドターゲットについて意識する必要があります。</p>
<p>ビルドターゲットは、実際には動作環境だけでなく ABI やコンパイラツールチェイン、提供する API セットなど様々な条件の組み合わせによって定義されます。後述する定義済みビルドターゲットの一覧に、各ビルドターゲットが表す条件が記載されていますので、それを元に適切なビルドターゲットを選択してください。</p>
<h2 id="Anchor_106361459_h2_2">定義済みビルドターゲット</h2>
<p>共通パッケージで使用可能なビルドターゲットは次の通りです。すべて汎用 API セットを使用したバイナリファイルを生成するビルドターゲットです。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>ビルドターゲット</th>
      <th>説明</th>
    </tr>
    <tr>
      <td>Win32-v140</td>
      <td>Visual Studio 2015 を使用して Windows 環境用の 32bit バイナリを生成する際に使用するビルドターゲットです。</td>
    </tr>
    <tr>
      <td>Win32-v141</td>
      <td>Visual Studio 2017 を使用して Windows 環境用の 32bit バイナリを生成する際に使用するビルドターゲットです。</td>
    </tr>
    <tr>
      <td>x64-v140</td>
      <td>Visual Studio 2015 を使用して Windows 環境用の 64bit バイナリを生成する際に使用するビルドターゲットです。</td>
    </tr>
    <tr>
      <td>x64-v141</td>
      <td>Visual Studio 2017 を使用して Windows 環境用の 64bit バイナリを生成する際に使用するビルドターゲットです。</td>
    </tr>
  </tbody>
</table>
<div class="platform_nx">
  <p>NX Addon パッケージを使用している場合、上記に加えて以下のビルドターゲットも使用可能です。すべて NX API セットを使用したバイナリファイルを生成するビルドターゲットです。</p>
  <table class="wrapped">
    <colgroup>
      <col />
      <col />
    </colgroup>
    <thead>
      <tr>
        <th>
          <div class="tablesorter-header-inner">ビルドターゲット</div>
        </th>
        <th>
          <div class="tablesorter-header-inner">説明</div>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>NX-Win32-v140</td>
        <td>Visual Studio 2015 を使用して Windows 環境用の 32bit バイナリを生成する際に使用するビルドターゲットです。</td>
      </tr>
      <tr>
        <td>NX-Win32-v141</td>
        <td>Visual Studio 2017 を使用して Windows 環境用の 32bit バイナリを生成する際に使用するビルドターゲットです。</td>
      </tr>
      <tr>
        <td>NX-x64-v140</td>
        <td>Visual Studio 2015 を使用して Windows 環境用の 64bit バイナリを生成する際に使用するビルドターゲットです。</td>
      </tr>
      <tr>
        <td>NX-x64-v141</td>
        <td>Visual Studio 2017 を使用して Windows 環境用の 64bit バイナリを生成する際に使用するビルドターゲットです。</td>
      </tr>
      <tr>
        <td>NX-NXFP2-a32</td>
        <td>NX 開発機環境用の 32bit バイナリを生成する際に使用するビルドターゲットです。</td>
      </tr>
      <tr>
        <td>NX-NXFP2-a64</td>
        <td>NX 開発機環境用の 64bit バイナリを生成する際に使用するビルドターゲットです。</td>
      </tr>
    </tbody>
  </table>
</div>
<h1 id="Anchor_106361459_h1_3">ビルドタイプ</h1>
<h2 id="Anchor_106361459_h2_3">概要</h2>
<p>ビルドタイプは、主にライブラリやアプリケーションの最適化オプション、及びデバッグオプションを表す識別子です。</p>
<p>例えば、NintendoSDK のライブラリは内部アサートの有無をビルドタイプごとに設定しており、同じライブラリであってもアサートの有効なライブラリファイルとアサートが無効化されたライブラリファイルが存在します。アプリケーションのデバッグを行う際はアサートが有効なビルドタイプのライブラリをリンクし、製品版のアプリケーションでは高速化のためにアサートが無効化されたビルドタイプのライブラリをリンクする、といった使い分けを行うことができます。</p>
<p>NintendoSDK の新規プロジェクト作成ウィザードを使用して作成されたプロジェクトの場合、ビルドタイプはプロジェクトの構成により選択されます。</p>
<h2 id="Anchor_106361459_h2_4">定義済みビルドタイプ</h2>
<p>NintendoSDK で使用されるビルドタイプは次の 3 つです。</p>
<ul>
  <li>Debug</li>
  <li>Develop</li>
  <li>Release</li>
</ul>
<p>ビルドタイプごとの特性は以下のようになっています。</p>
<table class="wrapped">
  <thead>
    <tr>
      <th>
        <br />
      </th>
      <th>
        <div class="tablesorter-header-inner">
          <div class="tablesorter-header-inner">Debug</div>
        </div>
      </th>
      <th>
        <div class="tablesorter-header-inner">
          <div class="tablesorter-header-inner">Develop</div>
        </div>
      </th>
      <th>
        <div class="tablesorter-header-inner">
          <div class="tablesorter-header-inner">Release</div>
        </div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>動作保証</th>
      <td style="text-align: center;">対象外</td>
      <td class="highlight-green" colspan="2" style="text-align: center;">対象</td>
    </tr>
    <tr>
      <th>ライブラリ内部の最適化</th>
      <td style="text-align: center;">無効</td>
      <td class="highlight-green" colspan="2" style="text-align: center;">有効</td>
    </tr>
    <tr>
      <th>ライブラリ内部のデバッグログ出力</th>
      <td class="highlight-green" colspan="2" style="text-align: center;">有効</td>
      <td style="text-align: center;">無効</td>
    </tr>
    <tr>
      <th>ライブラリ内部のアサート</th>
      <td class="highlight-green" colspan="2" style="text-align: center;">有効</td>
      <td style="text-align: center;">無効</td>
    </tr>
    <tr>
      <th>ライブラリ内部のデバッグ情報</th>
      <td colspan="3" style="text-align: center;">なし</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_106361459_h2_5">ビルドタイプ Debug について</h2>
<p>NintendoSDK は、後述する Visual C++ 向けのバイナリを除いてビルドタイプ Debug のバイナリを提供しません。NintendoSDK のプロパティシートを使用してビルドタイプ Debug のバイナリをリンクするとき、もしビルドタイプ Debug のバイナリが存在しなければ、代わりにビルドタイプ Develop のバイナリが自動的にリンクされます。</p>
<p>ライブラリやアプリケーションのソースコードが提供されている場合は、ソースコードからビルドすることによりビルドタイプ Debug のバイナリを生成することができます。</p>
<h2 id="Anchor_106361459_h2_6">ライブラリ内部のデバッグ情報について</h2>
<p>NintendoSDK が提供するビルド済みのバイナリには、デバッグ情報は付加されていません。ただし、ライブラリやアプリケーションのソースコードが提供されている場合は、開発者がリビルドすることによりデバッグ情報を付加することができます。</p>
<div class="platform_nx">
  <div class="info_new">
    <div class="info_new_left">参考：</div>
    <div class="info_new_right">
      <p>&nbsp;一部のライブラリにはデバッグ情報が付加されていることがあります。現在、NX 開発機環境用の静的ライブラリファイルにはデバッグ情報が付加されています。</p>
    </div>
  </div>
</div>
<h2 id="Anchor_106361459_h2_7">Visual C++ 向け固有の情報</h2>
<p>Visual C++&nbsp;向けのバイナリについては、ビルドタイプ Debug のバイナリも提供されます。ただし、動作は保証されません。</p>
<p>ビルドタイプごとの特性の違いは以下の通りです。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th>
        <br />
      </th>
      <th>
        <div class="tablesorter-header-inner">
          <div class="tablesorter-header-inner">Debug</div>
        </div>
      </th>
      <th>Develop</th>
      <th>Release</th>
    </tr>
    <tr>
      <th>使用する&nbsp;Visual C++ ランタイム</th>
      <td>MultiThreadedDebugDLL (/MDd)</td>
      <td colspan="2">MultiThreadedDLL (/MD)</td>
    </tr>
  </tbody>
</table>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
