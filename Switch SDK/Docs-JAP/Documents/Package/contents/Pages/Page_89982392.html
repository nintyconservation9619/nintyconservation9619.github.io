<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>シェーダーコンバーター (.exe)</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- シェーダーコンバーター (.exe) -->
<div class="pagetitle" id="PageId_89982392">シェーダーコンバーター (.exe)</div>
<div class="text_separate">
<h1 id="Anchor_89982392_h1_1">概要</h1>
<h2 id="Anchor_89982392_h2_1">目的</h2>
<p>GFX ShaderConverter (.exe) は、GFX ShaderConverter (.dll) を実行するツールです。<br />GFX ShaderConverter (.dll) が提供しない、ファイル入出力の機能を提供します。</p>
<p>また、.dll を呼び出す処理を記述することなく、直接 .exe として使うことができます。</p>
<h2 id="Anchor_89982392_h2_2">方針</h2>
<p>.dll から呼び出す場合と機能に差を作らないように、ファイル入出力の機能のみを提供する薄いレイヤーとしています。</p>
<h2 id="Anchor_89982392_h2_3">提供形態</h2>
<p>.exe として提供されており、また、対応する .pdb も提供されています。</p>
<p>現在は 32bit 版のみ提供されていますが、将来的には 64bit 版も提供予定です。<br />低レベルのターゲットによっては、ランタイムが 32bit 版であれば 32bit 版を、64bit 版であれば 64bit 版を使う必要があります。&nbsp;</p>
<h3 id="Anchor_89982392_h3_1">利用方法</h3>
<p>下記の<a href="#Anchor_89982392_cmdline">コマンドラインオプション</a>とともに .exe を実行してください。</p>
<h2 id="Anchor_89982392_h2_4">配置</h2>
<h3 id="Anchor_89982392_h3_2">32bit 版バイナリー</h3>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Tools/Graphics/GraphicsTools/ShaderConverter32.pdb
Tools/Graphics/GraphicsTools/ShaderConverter32.exe</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_89982392_h2_5">コマンドラインオプション<a name="Anchor_89982392_cmdline"></a></h2>
<p>入力ファイルはなく、すべてオプションにより指定します。</p>
<h3 id="Anchor_89982392_h3_3">必須のコマンドラインオプション一覧</h3>
<p>&nbsp;以下はコンバートするのに必須のオプションです。</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>オプション名</th>
      <th>短縮形</th>
      <th>可能な値</th>
      <th>複数指定</th>
      <th>説明</th>
    </tr>
    <tr>
      <td>--output-path</td>
      <td>-o</td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>
        <p>出力パスを指定します</p>
        <p>gfx で定めるシェーダーリソースファイルの標準の拡張子は .bnsh です</p>
      </td>
    </tr>
    <tr>
      <td>--source-format</td>
      <td>-s</td>
      <td>
        <p>&quot;Glsl&quot;</p>
        <p>&quot;SpirV&quot;</p>
      </td>
      <td>
        <br />
      </td>
      <td>シェーダーのソースフォーマットを指定します</td>
    </tr>
    <tr>
      <td>--code-type</td>
      <td>-c</td>
      <td>
        <p>&quot;Source&quot;<br />&quot;Binary&quot;</p>
        <p>&quot;Binary_Source&quot;&nbsp;</p>
        <p>&quot;Binary_Ir&quot;</p>
      </td>
      <td>
        <br />
      </td>
      <td>
        <p>出力するシェーダーバイナリーのコードタイプを指定します&nbsp;</p>
        <p>たとえば &quot;Binary_Source&quot; はバイナリとソース両方を含むことを意味します</p>
      </td>
    </tr>
    <tr>
      <td>--api-type</td>
      <td>-a</td>
      <td>&quot;Gl&quot;</td>
      <td>
        <br />
      </td>
      <td>対象の低レベルグラフィックス API の種類を指定します</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_89982392_h3_4">任意のコマンドラインオプション一覧</h3>
<p>以下は任意で追加するオプションです。</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>オプション名</th>
      <th>短縮形</th>
      <th>可能な値</th>
      <th>複数指定</th>
      <th>説明</th>
    </tr>
    <tr>
      <td>--args-file</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>指定されたファイルの内容をコマンドラインオプションとして解釈します</td>
    </tr>
    <tr>
      <td>--help</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>ヘルプを表示します</td>
    </tr>
    <tr>
      <td>--version</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>ShaderConverter のバージョンを表示します</td>
    </tr>
    <tr>
      <td>--silent</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>標準出力のログを抑制します</td>
    </tr>
    <tr>
      <td>--vertex-shader</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>頂点シェーダーのソースコードを指定します</td>
    </tr>
    <tr>
      <td>--hull-shader</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>ハルシェーダーのソースコードを指定します</td>
    </tr>
    <tr>
      <td>--domain-shader</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>ドメインシェーダーのソースコードを指定します</td>
    </tr>
    <tr>
      <td>--geometry-shader</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>ジオメトリーシェーダーのソースコードを指定します</td>
    </tr>
    <tr>
      <td>--pixel-shader</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>ピクセルシェーダーのソースコードを指定します</td>
    </tr>
    <tr>
      <td>--compute-shader</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>演算シェーダーのソースコードを指定します</td>
    </tr>
    <tr>
      <td>--variation</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>
        <a href="../Pages/Page_236829010.html">バリエーションファイル</a>を指定します</td>
    </tr>
    <tr>
      <td>--dump-directory</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>コンパイル直前のソースを指定されるディレクトリーにダンプします</td>
    </tr>
    <tr>
      <td>--print-progress</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>コンパイル中に進捗を表示します</td>
    </tr>
    <tr>
      <td>--include-directory</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>可</td>
      <td>インクルードディレクトリーを追加します</td>
    </tr>
    <tr>
      <td>--glsl-version</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>
        <p>ソースコードの先頭に記述する GLSL のバージョンを指定します</p>
        <p>&quot;#version &quot; に続く文字列を指定します<br />ソースコードに直接記述するのではなく、このオプションでバージョンを指定するようにしてください</p>
      </td>
    </tr>
    <tr>
      <td>--glsl-extension</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>可</td>
      <td>
        <p>ソースコードの先頭に記述する GLSL の拡張文字列を指定します</p>
        <p>&quot;#extension &quot; に続く文字列を指定します</p>
        <p>ソースコードに直接記述するのではなく、このオプションで拡張文字列を指定するようにしてください</p>
      </td>
    </tr>
    <tr>
      <td>--preprocessor-definition</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>可</td>
      <td>全バリエーションに適用されるプリプロセッサー定義を追加します</td>
    </tr>
    <tr>
      <td>--output-name</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>出力バイナリーの名前を指定します</td>
    </tr>
    <tr>
      <td>--jobs</td>
      <td>-j</td>
      <td>符号なし整数</td>
      <td>
        <br />
      </td>
      <td>並列処理の最大スレッド数を指定します<br />1 を指定した場合はシングルスレッドで動作します&nbsp;</td>
    </tr>
    <tr>
      <td>--max-thread</td>
      <td>
        <br />
      </td>
      <td>符号なし整数</td>
      <td>
        <br />
      </td>
      <td>
        <p>--jobs と同様です</p>
        <p>同時に指定された場合は --jobs が優先されます</p>
      </td>
    </tr>
    <tr>
      <td>--code-page</td>
      <td>
        <br />
      </td>
      <td>符号なし整数</td>
      <td>
        <br />
      </td>
      <td>シェーダーソースコードの文字コードを表すコードページを指定します</td>
    </tr>
    <tr>
      <td>--separable</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>ステージごとに別のシェーダーとしてコンパイルします</td>
    </tr>
    <tr>
      <td>--reflection</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>リフレクション情報を追加します</td>
    </tr>
    <tr>
      <td>--reflection-full</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>完全なリフレクション情報を追加します<br />GL 版では実際とは異なるかもしれない点にご注意ください</td>
    </tr>
    <tr>
      <td>--disable-memory-pool</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>リソース内部にメモリープールを含めないようにします</td>
    </tr>
    <tr>
      <td>--preprocess</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>低レベルコンパイラーに渡す前にシェーダーソースをプリプロセスします</td>
    </tr>
    <tr>
      <td>--debug-info-level</td>
      <td>
        <br />
      </td>
      <td>
        <p>&quot;None&quot;</p>
        <p>&quot;Debug&quot;</p>
        <p>&quot;High&quot;<br />&quot;Full&quot;&nbsp;</p>
      </td>
      <td>
        <br />
      </td>
      <td>付加するデバッグ情報のレベルを指定します</td>
    </tr>
    <tr>
      <td>--debug-info-directory</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>デバッグ情報を出力するディレクトリーを指定します</td>
    </tr>
    <tr>
      <td>--shader-cache-directory</td>
      <td>
        <br />
      </td>
      <td>文字列</td>
      <td>
        <br />
      </td>
      <td>シェーダーコンパイル結果をキャッシュとして入出力するディレクトリーを指定します</td>
    </tr>
    <tr>
      <td>--disable-merge-program</td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>
        <br />
      </td>
      <td>バリエーション間で等しいコンパイル結果をマージする処理を無効化します</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_89982392_h2_6">サンプル</h2>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Samples/Sources/Applications/GfxShaderFile/GfxShaderFileConvert.csproj
Samples/Sources/Applications/GfxShaderFile/Resources/convert_sahder.bat</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_89982392_h2_7">具体例</h2>
<p>&quot;sample.vs&quot; という名前の頂点シェーダーと、&quot;sample.ps&quot; という名前のピクセルシェーダーと、&quot;sample.xml&quot; という名前のバリエーションファイルから、&quot;sample.bnsh&quot; という名前のバイナリーを出力する例です。&nbsp;</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>ShaderConverter32.exe -o=&quot;sample.bnsh&quot; -sGlsl -cBinary_Source -aGl --glsl-version=430 --vertex-shader=&quot;sample.vs&quot; --pixel-shader=&quot;sample.ps&quot; --variation=&quot;sample.xml&quot; --print-progress </pre></div>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
