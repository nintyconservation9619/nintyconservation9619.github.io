<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>パイプライン</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- パイプライン -->
<div class="pagetitle" id="PageId_83955991">パイプライン</div>
<div class="text_separate">
<h1 id="Anchor_83955991_h1_1">パイプライン</h1>
<h2 id="Anchor_83955991_h2_1">概要</h2>
<p>パイプラインは、GPU におけるレンダリングパイプラインを表現します。プログラマブルなステージについてシェーダーをもち、固定機能ステージについてステートをもっています。</p>
<p>2 種類のパイプライン―グラフィックスパイプラインと演算パイプライン―があり、それらはどちらも GFX において <a href="../../../Api/HtmlNX/namespacenn_1_1gfx.html#a9b1b88662ab5da7d22b22add9834b6ec">nn::gfx::Pipeline</a>&nbsp;クラスとして表現されます。</p>
<p>
  <a href="../Pages/Page_83955534.html">実行モデル</a>において、パイプラインを使う実行モデルを利用する際にパイプラインが必要です。パイプラインを使わない実行モデルを利用する際はパイプラインは不要です。</p>
<h3 id="Anchor_83955991_h3_1">グラフィックスパイプライン</h3>
<p>グラフィックスパイプラインは、ドローコールによるグラフィックス処理を行うために利用でき、それは最終的に、グラフィックス機能性を含むキューに提出される必要があります。グラフィックスパイプラインとしてパイプラインを初期化する場合は、グラフィックスパイプライン用の情報を初期化時の引数として指定します。</p>
<p>グラフィックスパイプラインは、シェーダーとしていくつかのプログラマブルステージを、ステートとしていくつかの固定機能ステージを含んでいます。以下にそのリストを示します。</p>
<table class="table">
  <tbody>
    <tr>
      <th>ステージ特性</th>
      <th>ステージ名</th>
    </tr>
    <tr>
      <td rowspan="5">プログラマブルステージ</td>
      <td>頂点シェーダー</td>
    </tr>
    <tr>
      <td>ハルシェーダー</td>
    </tr>
    <tr>
      <td>ドメインシェーダー</td>
    </tr>
    <tr>
      <td>ジオメトリシェーダー</td>
    </tr>
    <tr>
      <td>ピクセルシェーダー</td>
    </tr>
    <tr>
      <td rowspan="5">固定機能ステージ</td>
      <td>ラスタライザーステート</td>
    </tr>
    <tr>
      <td>ブレンドステート</td>
    </tr>
    <tr>
      <td>深度ステンシルステート</td>
    </tr>
    <tr>
      <td>頂点ステート</td>
    </tr>
    <tr>
      <td>レンダーターゲットステート</td>
    </tr>
  </tbody>
</table>
<p>頂点シェーダー以外のシェーダーはオプションです。頂点シェーダーはグラフィックスパイプラインの初期化のために要求されます。</p>
<p>ビューポートシザーステートはレンダリングに関わるステートですが、パイプラインに含まれません。それはパイプラインの外側で個別にセットされます。</p>
<h3 id="Anchor_83955991_h3_2">演算パイプライン</h3>
<p>演算パイプラインは、ディスパッチコールによる汎用演算処理を行うために利用でき、それは最終的に、演算機能性を含むキューに提出される必要があります。<br />演算パイプラインとしてパイプラインを初期化する場合は、演算パイプライン用の情報を初期化時の引数として指定します。</p>
<p>演算パイプラインは、プログラマブルステージとして唯一演算シェーダーを含んでおり、固定機能ステージ用のステートは含んでいません。演算シェーダーは演算パイプラインの初期化のために要求されます。</p>
<h2 id="Anchor_83955991_h2_2">情報</h2>
<h3 id="Anchor_83955991_h3_3">グラフィックスパイプライン用の情報</h3>
<p>グラフィックスパイプライン用の情報は <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html">nn::gfx::GraphicsPipelineInfo</a>&nbsp;として定義されています。</p>
<h4 id="Anchor_83955991_h4_1">シェーダー</h4>
<p>
  <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#aa4129a4d7c0b2630b39f5cca6f3f12c4">SetShaderPtr</a>&nbsp;によりグラフィックスパイプラインで用いるシェーダーをセットします。このシェーダーは演算シェーダステージ以外のステージを含めることができます。</p>
<h4 id="Anchor_83955991_h4_2">ステート</h4>
<p>それぞれのステートについての情報は、Set*StateInfo 関数により編集します。引数はポインターですが、パイプラインを初期化すればすぐに破棄できます。</p>
<p>以下にステート名と関数名の対応表を示します。</p>
<table class="table">
  <tbody>
    <tr>
      <th>ステート名</th>
      <th>関数名</th>
    </tr>
    <tr>
      <td>ラスタライザーステート</td>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#ad789e89559f2485ec3d3308b6b946c2f">SetRasterizerStateInfo</a>
      </td>
    </tr>
    <tr>
      <td>ブレンドステート</td>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a3d6238fc0ee30fb862c805efcaf8478b">SetBlendStateInfo</a>
      </td>
    </tr>
    <tr>
      <td>深度ステンシルステート</td>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a1a68093e73403fab220d6e0e0e6526e1">SetDepthStencilStateInfo</a>
      </td>
    </tr>
    <tr>
      <td>頂点ステート</td>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a435eefb44e6ab55079cc6eae93521971">SetVertexStateInfo</a>
      </td>
    </tr>
    <tr>
      <td>レンダーターゲットステート</td>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_graphics_pipeline_info.html#a318bcb4fbc5fbcc509f19ef90f5fad29">SetRenderTargetStateInfo</a>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955991_h3_4">演算パイプライン用の情報</h3>
<p>演算パイプライン用の情報は <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_compute_pipeline_info.html">nn::gfx::ComputePipelineInfo</a>&nbsp;として定義されています。</p>
<h4 id="Anchor_83955991_h4_3">シェーダー</h4>
<p>
  <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_compute_pipeline_info.html#abceb21b615ceabc84791207235985f64">SetShaderPtr</a>&nbsp;により演算パイプラインで用いるシェーダーをセットします。このシェーダーは演算ステージのみ含めることができます。</p>
<h2 id="Anchor_83955991_h2_3">オブジェクト</h2>
<p>パイプラインのオブジェクトは <a href="../../../Api/HtmlNX/namespacenn_1_1gfx.html#a9b1b88662ab5da7d22b22add9834b6ec">nn::gfx::Pipeline</a>&nbsp;として定義されています。</p>
<p>オブジェクト側では、グラフィックスパイプラインと演算パイプラインはどちらも単にパイプラインとして扱われます。</p>
<h3 id="Anchor_83955991_h3_5">初期化と破棄</h3>
<p>他のほとんどのオブジェクトと異なり、パイプラインの初期化に使う情報は 2 種類あり、Initialize 関数は 2 種類にオーバーロードされています。</p>
<table class="table">
  <tbody>
    <tr>
      <th>初期化関数</th>
      <th>初期化されるパイプラインの種類</th>
    </tr>
    <tr>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_pipeline.html#a991fb6795efdffe730224d6bce8a4a92">Initialize( Device* pDevice, GraphicsPipelineInfo&amp; info )</a>
      </td>
      <td>グラフィックスパイプライン</td>
    </tr>
    <tr>
      <td>
        <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_pipeline.html#ab67773bf4084a2d440bb508a90da1702">Initialize( Device* pDevice, ComputePipelineInfo&amp; info )</a>
      </td>
      <td>演算パイプライン</td>
    </tr>
  </tbody>
</table>
<p>破棄は通常の<a href="../Pages/Page_83955654.html">オブジェクト</a>の規則に従います。</p>
<h2 id="Anchor_83955991_h2_4">パイプラインのセット</h2>
<p>グラフィックスパイプラインか演算パイプラインかにかかわらず、<a href="../../../Api/HtmlNX/namespacenn_1_1gfx.html#af719859a76c249a182d878f0cffd47c5">nn::gfx::CommandBuffer</a> クラスの <a href="../../../Api/HtmlNX/classnn_1_1gfx_1_1_t_command_buffer.html#a42e5b9f3411f240c6c06433e60dbbcad">SetPipeline</a>&nbsp;に渡すことでコマンドバッファーにパイプラインをセットするコマンドが追加されます。後にドローコールを行う場合にはグラフィックスパイプラインを、ディスパッチコールを行う場合には演算パイプラインをセットする必要があります。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
