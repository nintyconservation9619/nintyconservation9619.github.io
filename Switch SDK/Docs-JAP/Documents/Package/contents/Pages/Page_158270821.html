<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>動作モード</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 動作モード -->
<div class="pagetitle" id="PageId_158270821">動作モード</div>
<div class="text_separate">
<h1 id="Anchor_158270821_h1_1">動作モードとは？</h1>
<p>NX には、ゲームのプレイスタイルに対応する下記の２つのモードがあります。これらのモードの総称を動作モードと呼びます。</p>
<h2 id="Anchor_158270821_h2_1">携帯モード</h2>
<ul>
  <li>本体を携帯してゲームをプレイする「携帯スタイル」で動作するモードです。</li>
  <li>本体 LCD から映像が出力されます。</li>
  <li>本体スピーカー音声が出力されます。<ul><li>ヘッドフォンが本体に接続されている場合は、ヘッドフォンのみから音声が出力されます。</li></ul></li>
</ul>
<h2 id="Anchor_158270821_h2_2">据置モード</h2>
<ul>
  <li>本体をドックに設置して、ドックが接続されたテレビを使用してゲームをプレイする「TV スタイル」で動作するモードです。</li>
  <li>テレビから映像が出力されます。</li>
  <li>テレビから音声が出力されます。<ul><li>ヘッドフォンが本体に接続されている場合は、テレビおよびヘッドフォンの両方から音声が出力されます。</li></ul></li>
</ul>
<h1 id="Anchor_158270821_h1_2">動作モードの切替</h1>
<p>NX の動作モードは、本体のドック設置状態に応じて自動的に切り替わります。</p>
<p>ドックに設定されていないと、携帯モードになります。</p>
<p>ドックに設置されていると、据置モードになります。ただし、ドックには規定を満たす AC 電源が接続されている必要があります。</p>
<p>アプリケーションは動作モードの切替をハンドリングするために下記の機能を使用できます。これらの使用方法については、<a href="../Pages/Page_166065886.html">プログラムへの通知メッセージ</a> を参照して下さい。</p>
<ul>
  <li>現在の動作モードの取得<ul><li><span class="ApiLink_nn__oe__GetOperationMode">nn::oe::GetOperationMode</span></li></ul></li>
  <li>動作モードの切替通知の取得<ul><li><span class="ApiLink_nn__oe__MessageOperationModeChanged">nn::oe::MessageOperationModeChanged</span></li><li><span class="ApiLink_nn__oe__PopNotificationMessage">nn::oe::PopNotificationMessage</span></li><li><span class="ApiLink_nn__oe__TryPopNotificationMessage">nn::oe::TryPopNotificationMessage</span></li><li><span class="ApiLink_nn__oe__GetNotificationMessageEvent">nn::oe::GetNotificationMessageEvent</span></li></ul></li>
</ul>
<p>動作モードの切替に応じて表現を変更したい場合などに使用してください。</p>
<p>アプリケーションが出力する映像および音声の出力先は自動的に切り替わります。動作モードの切替に応じて出力先を選択する必要はありません。</p>
<p>詳しくは oe ライブラリの API リファレンスを参照してください。</p>
<h1 id="Anchor_158270821_h1_3">動作モードと性能モードの関係</h1>
<p>NX の性能モードは自動的に切り替わります。</p>
<p>性能モードがブーストモードに切り替わる条件は以下になります。</p>
<ul>
  <li>動作モードが据置モードであること</li>
  <li>電池残量が一定以上であること</li>
</ul>
<p>動作モードと性能モードのあり得る組み合わせは下表の通りです。</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">&nbsp;</th>
      <th style="text-align: center;">OperationMode_Handheld （携帯モード）</th>
      <th style="text-align: center;">OperationMode_Console （据置モード）</th>
    </tr>
    <tr>
      <th style="text-align: center;">PerformanceMode_Normal （ノーマルモード）</th>
      <td>ドックからの抜去時にはこの組み合わせになります</td>
      <td>ドックへの挿入時、電池残量が不十分であるとこの組み合わせになります</td>
    </tr>
    <tr>
      <th style="text-align: center;">PerformanceMode_Boost （ブーストモード）</th>
      <td class="highlight-grey">発生しません</td>
      <td>ドックへの挿入時、電池残量が十分であるとこの組み合わせになります</td>
    </tr>
  </tbody>
</table>
<p>
  <a href="../Pages/Page_107339250.html">性能選択</a>も合わせて参照してください。</p>
<p>これらの可能な組み合わせのすべてを、開発環境で容易に再現することができるよう支援機能を用意しています。次節の「動作モードと性能モードに関する開発支援機能」を参照してください。</p>
<h1 id="Anchor_158270821_h1_4">動作モードと性能モードに関する開発支援機能</h1>
<p>開発環境でのみ使用できる、動作モード関連の開発支援機能について説明します。</p>
<h2 id="Anchor_158270821_h2_3">動作モードを固定する</h2>
<p>
  <a href="../Pages/Page_107328760.html">DevMenuCommand</a> の開発支援機能を使用して、動作モードの制御ポリシーを設定することができます。</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ Tools\CommandLineTools\RunOnTarget.exe TargetTools\NX-NXFP2-a64\DevMenuCommand\Release\DevMenuCommand.nsp -- debug 	set-operation-mode-policy handheld		
[SUCCESS]</pre>
  </div>
</div>
<p>制御ポリシーが auto の場合は、製品と同様にドックの着脱に応じて動作モードが変化します。</p>
<p>動作モードポリシーが handheld の場合は、動作モードが携帯機モードに固定されます。ドックに接続された有線 LAN を使用しつつ携帯スタイルの開発をしたい時などに有用です。</p>
<p>動作モードポリシーが console の場合は、動作モードが据え置きモードに固定されます。</p>
<p>NX Addon 3.2.0 以降では&nbsp;<a href="../Pages/Page_107328771.html">開発機の制御／DevMenu</a>&nbsp;の開発支援機能（Debug）に動作モードの制御ポリシーの設定機能（Operation Mode Policy）が追加されました。</p>
<h2 id="Anchor_158270821_h2_4">ブーストモードに移行できない低電池残量状態をエミュレートする (SDEV のみ)</h2>
<p>
  <a href="../Pages/Page_107334824.html">ControlTarget</a> の「set-battery-level」コマンドを使用して、電池残量が少ない状態をエミュレートし、据置モードかつノーマルモードの状態を再現することができます。</p>
<div style="border-width: 1px;" class="preformatted panel">
  <div class="preformattedContent panelContent">
    <pre>$ Tools\CommandLineTools\ControlTarget.exe set-battery-level no-boost</pre>
  </div>
</div>
<p>&quot;set-battery-level enough&quot; で元の状態に戻ります。</p>
<p>詳しくは<a href="../Pages/Page_107334824.html"> 開発機の制御／ControlTarget</a> を参照してください。</p>
<p>この機能は、SDEV でのみ使用可能です。</p>
<p>なお、前述の <a href="../Pages/Page_107328760.html">DevMenuCommand</a>&nbsp;の「set-performance-mode-policy」でも据置モードかつノーマルモードの状態をエミュレートできますが、NX の動作中に状態を変更することはできません。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__oe__GetOperationMode', '../../../Api/HtmlNX/namespacenn_1_1oe.html#ab500f9a7dfae3fbe8d44e7fb1c961cf7' )
SetUrl( 'ApiLink_nn__oe__MessageOperationModeChanged', '../../../Api/HtmlNX/namespacenn_1_1oe.html#ac95d8f7712a09e591e806fe2d29c66ee' )
SetUrl( 'ApiLink_nn__oe__PopNotificationMessage', '../../../Api/HtmlNX/namespacenn_1_1oe.html#a312f487c9d48472d900d6ba36db0a0d0' )
SetUrl( 'ApiLink_nn__oe__TryPopNotificationMessage', '../../../Api/HtmlNX/namespacenn_1_1oe.html#a9faa774fd40d37a007e0ba967e8b1788' )
SetUrl( 'ApiLink_nn__oe__GetNotificationMessageEvent', '../../../Api/HtmlNX/namespacenn_1_1oe.html#afef8c76a5d56c2f9457a90cc0bad5dda' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
