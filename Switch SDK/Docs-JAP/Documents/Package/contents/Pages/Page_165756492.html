<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>ビルド・デバッグに関するトラブルシューティング</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- ビルド・デバッグに関するトラブルシューティング -->
<div class="pagetitle" id="PageId_165756492">ビルド・デバッグに関するトラブルシューティング</div>
<div class="text_separate">
<h1 id="Anchor_165756492_h1_1">
  <span style="color: rgb(67,67,67);">目次</span>
</h1>
<p>
  <span style="color: rgb(67,67,67);">
    <ul class="macro_toc">
      <li>
        <a href="#Anchor_165756492_h1_1">目次</a>
      </li>
      <li>
        <a href="#Anchor_165756492_h1_2">はじめに</a>
      </li>
      <li>
        <a href="#Anchor_165756492_h1_3">アプリケーションのビルド</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_165756492_h2_1">Visual Studio から、NX ツールチェーンのディレクトリが見つからないことが報告される  </a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_2">アプリケーションのファイルをビルドできない</a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_3">ビルドしたアプリケーションを実行できない。</a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_4">ビルドしたアプリケーションのファイルが見つからない</a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_5">複数のコンパイラをインストールしてありますが、別のバージョンを使用したいと思っています</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_165756492_h1_4">アプリケーションの実行</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_165756492_h2_6">Target Manager または RunOnTarget でプログラムを実行できない</a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_7">Visual Studio でプログラムを実行できない</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_165756492_h1_5">アプリケーションのデバッグ</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_165756492_h2_8">デバッグセッションを開始できない。</a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_9">アタッチのデバッグセッションでシンボルが得られず、逆アセンブリのみが取得される</a>
        </li>
        <li>
          <a href="#Anchor_165756492_h2_10">デバッグセッションでシンボルが得られず、逆アセンブリのみが取得される</a>
        </li>
      </ul>
    </ul>
  </span>
</p>
<h1 id="Anchor_165756492_h1_2">
  <span style="color: rgb(67,67,67);">はじめに</span>
</h1>
<p>
  <span style="color: rgb(67,67,67);">このページは、NX 開発で Oasis の問題を診断できるようにすることを目的としています。 NX 開発で Oasis に発生することが多い問題とその解決に向けて実行できる手順を以下に示します。 この問題は 3 種類に分類できます。 このページの手順でも問題を解決できない場合は、弊社サポート窓口までご相談ください。</span>
</p>
<h1 id="Anchor_165756492_h1_3">
  <span style="color: rgb(67,67,67);">アプリケーションのビルド</span>
</h1>
<h2 id="Anchor_165756492_h2_1">Visual Studio から、NX ツールチェーンのディレクトリが見つからないことが報告される  </h2>
<ul>
  <li style="margin-left: 6.0px;">ツールチェーンのディレクトリを見つけます。  このディレクトリは [インストール先ディレクトリ]Compilers\NX であることが普通です。</li>
  <li style="margin-left: 6.0px;">ツールチェーンのディレクトリが見つからない場合は、そのツールチェーンを再インストールします。</li>
  <li style="margin-left: 6.0px;">ツールチェーンのディレクトリが見つかる場合は、プロジェクトのプロパティページを修正する必要があります。 </li>
</ul>
<h2 id="Anchor_165756492_h2_2">アプリケーションのファイルをビルドできない</h2>
<ul>
  <li style="margin-left: 6.0px;">サンプルアプリケーションのビルドが可能かどうかを確認します。</li>
  <li style="margin-left: 36.0px;">それが不可能な場合：<ul><li style="margin-left: 6.0px;">再インストールします。</li></ul></li>
  <li style="margin-left: 36.0px;">それが可能な場合：  </li>
  <li style="margin-left: 66.0px;">目的のアプリケーションのコンパイルとリンクが可能かどうかを確認します。</li>
  <li style="margin-left: 96.0px;">それが不可能な場合は、問題なく可能になるまでコードの書式を調整します。</li>
  <li style="margin-left: 96.0px;">それが可能な場合： </li>
  <li style="margin-left: 126.0px;">プロジェクトのプロパティページで「リンカー」-&gt;「全般」を選択します。  Echo コマンドラインを有効にしてビルドしてみます。</li>
  <li style="margin-left: 126.0px;">終了処理手順のどの時点で処理が失敗しているかをビルド出力で確認します。<ul><li style="margin-left: 6.0px;">NSO の作成- 適切なリンクスクリプトを使用してリンクしているかどうかを確認します。</li><li style="margin-left: 6.0px;">Meta の作成- 適切な .meta スクリプトと .desc スクリプトを使用しているかどうかを確認します。</li><li style="margin-left: 6.0px;">オーサリングツール- 適切な .meta スクリプトと .desc スクリプトを使用しているかどうかを確認します。</li></ul></li>
  <li style="margin-left: 126.0px;">使用しているスクリプトがすべて正しいことを確認できた場合は、弊社サポート窓口までご相談ください。</li>
</ul>
<h2 id="Anchor_165756492_h2_3">ビルドしたアプリケーションを実行できない。</h2>
<ul>
  <li style="margin-left: 6.0px;">サンプルアプリケーションのビルドと実行が可能かどうかを確認します。</li>
  <li style="margin-left: 36.0px;">それが不可能な場合</li>
  <li style="margin-left: 66.0px;">「error MSB6006: &quot;clang.exe&quot; exited with code -1073741515」と表示された場合は、NintendoSDK\Installers\VcRuntime\v141\vc_redist.x64.exe および vc_redist.x86.exe が実行されているかどうかを確認してください。</li>
  <li style="margin-left: 66.0px;">実行されていない場合は、VSI と Target Manager を再インストールします。 詳しい手順については、<a href="../Pages/Page_107342563.html">マニュアル</a> を参照してください。</li>
  <li style="margin-left: 36.0px;">それが可能な場合：  </li>
  <li style="margin-left: 66.0px;">どの時点でアプリケーションを実行できなくなるのかを確認します。</li>
  <li style="margin-left: 96.0px;">作成プロセスが失敗したことが Target Manager から報告される場合は、適切なリンクスクリプトと適切なバージョンの SDK ライブラリを使用してリンクしているかどうかを確認します。</li>
  <li style="margin-left: 96.0px;">読み込みがタイムアウトしたことが Target Manager から報告される場合は、ハードウェアが応答しているかどうかを確認します。  ハードウェアをリブートして再接続します。</li>
  <li style="margin-left: 96.0px;">処理に成功したことが Target Manager から報告されても、スタックダンプのような現象の発生がログウィンドウで認められる場合は、適切な desc ファイルと meta ファイルをビルドプロセスで使用しているかどうかを確認します。この状況は、API のパーミッションの問題またはスタックが小さすぎることによる問題です。</li>
</ul>
<p style="margin-left: 120.0px;">
  <br />
</p>
<h2 id="Anchor_165756492_h2_4">ビルドしたアプリケーションのファイルが見つからない</h2>
<ul>
  <li style="margin-left: 6.0px;">ビルドしたアプリケーションの種類を確認します。</li>
  <li style="margin-left: 36.0px;">NCA や NSP などのファイルである場合、そのアプリケーションのファイルは $(Output) ディレクトリにあります。</li>
  <li style="margin-left: 36.0px;">「生データ」である場合、アプリケーションのファイルは main という名前となり、$(Output)\$(ProjectName).nspd\program0.ncd\code ディレクトリに置かれています。  また、ドラッグアンドドロップ操作に使用できる $(ProjectName).nspd_root ファイルが $(Output) ディレクトリに置かれています。</li>
</ul>
<p>
  <br />
</p>
<p> </p>
<h2 id="Anchor_165756492_h2_5">複数のコンパイラをインストールしてありますが、別のバージョンを使用したいと思っています</h2>
<p> </p>
<ul>
  <li>例えば、&quot;clang-for-nx.1.2.4&quot; と &quot;clang-for-nx.1.3.0&quot; の両方が $SIGLO_TOOLCHAINS_ROOT にあり、既定では Oasis で &quot;1.3.0&quot; が選択されるものの、&quot;1.2.4&quot; を使用したいものとします。</li>
  <li>これを変更するには、「<code>*.props</code>」ファイルを編集して、&quot;<code>NXToolchainVersion</code>&quot; 変数を変更します。 このファイルは、以下の場所にあります。<ul><li>&quot;<code>&lt;SDK_src&gt;/Build/Vc/ForApplication/NintendoSdkVcProjectSettings.Package.NX.Application.props</code>&quot;</li><li>(作成しているものの内容によっては、別の &quot;<code>*.Package.*.props</code>&quot;の編集が必要になることもあります。)</li></ul></li>
</ul>
<p>
  <br />
</p>
<h1 id="Anchor_165756492_h1_4">
  <span style="color: rgb(67,67,67);">アプリケーションの実行</span>
</h1>
<h2 id="Anchor_165756492_h2_6">Target Manager または RunOnTarget でプログラムを実行できない</h2>
<ul>
  <li style="margin-left: 6.0px;">サンプルプログラムを起動してみます。  </li>
  <li style="margin-left: 36.0px;">正常に起動できる場合はビルドに問題があります。  アプリケーションのビルドを参照してください。</li>
  <li style="margin-left: 36.0px;">正常に起動できない場合は再インストールします。</li>
</ul>
<h2 id="Anchor_165756492_h2_7">Visual Studio でプログラムを実行できない</h2>
<ul>
  <li style="margin-left: 6.0px;">Target Manager または RunOnTarget で起動してみます。  </li>
  <li style="margin-left: 36.0px;">正常に起動できない場合はビルドに問題があります。 See アプリケーションのビルドを参照してください。</li>
  <li style="margin-left: 36.0px;">正常に起動できる場合は以下の手順に従います。</li>
  <li style="margin-left: 66.0px;">Oasis VSI をインストール済みであるかどうかを確認します。  Visual Studio で「ツール」-&gt;「拡張機能と更新」を選択し、表示されたダイアログで「NX Visual Studio Integration」という拡張機能を探します。</li>
  <li style="margin-left: 96.0px;">「NX と Visual Studio の統合」が見つからない場合は再インストールします。</li>
  <li style="margin-left: 96.0px;">「NX と Visual Studio の統合」が見つかった場合は以下の手順に従います。<ol><li><p>Visual Studio で「出力」ウィンドウを開きます。</p></li><li><p>「出力」ウィンドウのドロップダウンメニューで「VSI-NX の出力」を選択します。</p></li><li><p>このドロップダウンウィンドウに「Oasis 出力」がない場合は再インストールします。</p></li><li><p>このドロップダウンウィンドウに「Oasis 出力」がある場合は、現在「出力」ウィンドウに表示されているテキストをすべてコピーして弊社サポート窓口までお送りください。</p></li></ol></li>
</ul>
<h1 id="Anchor_165756492_h1_5">
  <span style="color: rgb(67,67,67);">アプリケーションのデバッグ</span>
</h1>
<h2 id="Anchor_165756492_h2_8">デバッグセッションを開始できない。</h2>
<ul>
  <li style="margin-left: 6.0px;">Target Manager または RunOnTarget で起動してみます。  </li>
  <li style="margin-left: 36.0px;">正常に起動できない場合はビルドに問題があります。 アプリケーションのビルドを参照してください。</li>
  <li style="margin-left: 36.0px;">正常に起動できる場合は以下の手順に従います。</li>
  <li style="margin-left: 66.0px;">Oasis VSI をインストール済みであるかどうかを確認します。  Visual Studio で「ツール」-&gt;「拡張機能と更新」を選択し、表示されたダイアログで「NX Visual Studio Integration」という拡張機能を探します。</li>
  <li style="margin-left: 96.0px;">「NX Visual Studio Integration」が見つからない場合は再インストールします。</li>
  <li style="margin-left: 96.0px;">「NX Visual Studio Integration」が見つかった場合は以下の手順に従います。</li>
  <li style="margin-left: 126.0px;">デバッグセッションの種類を確認します。  プロジェクトのプロパティページで、「デバッグ」-&gt;「デバッグ手法」を選択します。  この手法を「起動しつつデバッグを開始」に設定してデバッグしてみます。  </li>
  <li style="margin-left: 126.0px;">何が起きるかを確認します。</li>
  <li style="margin-left: 156.0px;">何も起こらない場合（またはビルド以降何も起こらない場合）は再インストールします。</li>
  <li style="margin-left: 156.0px;">NCA を読み込めないことが報告される場合はビルドに問題があります。  アプリケーションのビルドを参照してください。</li>
  <li style="margin-left: 156.0px;">「読み込み中」ダイアログボックスが表示されたままになる場合は以下の手順に従います。</li>
  <li style="margin-left: 186.0px;">デバッグセッションの種類を確認します。  プロジェクトのプロパティページで、「デバッグ」-&gt;「デバッグ手法」を選択します。  これが「起動時」に設定しているかどうかを確認します。</li>
  <li style="margin-left: 186.0px;">ハードウェアが応答しているかどうかを確認します。  ハードウェアをリブートして再接続します。  </li>
  <li style="margin-left: 186.0px;">ここまでの手順で問題が解決しない場合は以下の手順に従います。<ol><li><p>Visual Studio で「出力」ウィンドウを開きます。</p></li><li><p>「出力」ウィンドウのドロップダウンメニューで「VSI-NX の出力」を選択します。</p></li><li><p>このドロップダウンウィンドウに「Oasis 出力」がない場合は再インストールします。</p></li><li><p>このドロップダウンウィンドウに「Oasis 出力」がある場合は、現在「出力」ウィンドウに表示されているテキストをすべてコピーして弊社サポート窓口までお送りください。</p></li></ol></li>
</ul>
<h2 id="Anchor_165756492_h2_9">アタッチのデバッグセッションでシンボルが得られず、逆アセンブリのみが取得される</h2>
<ul>
  <li style="margin-left: 6.0px;">アタッチ先にしようとしているアプリケーションのビルドを確認します。  プロジェクトのプロパティページで「C/C++」-&gt;「全般」-&gt;「デバッグ情報の生成」を選択します。  </li>
  <li style="margin-left: 36.0px;">このプロパティが「はい（-g）」に設定されていない場合は「はい（-g）」に設定してビルドし直します。  </li>
  <li style="margin-left: 36.0px;">これが「はい（-g）」に設定されている場合は以下の手順に従います。</li>
  <li style="margin-left: 66.0px;">Visual Studio の「ツール」-&gt;「オプション」-&gt;「デバッグ」-&gt;「シンボル」のリストに NintendoSDK ライブラリのパスを追加します。 これにより、この SDK ライブラリがデバッグエンジンで検出され、より詳しいレポートが得られるようになります。  </li>
  <li style="margin-left: 66.0px;">Visual Studio のデバッグセッションで、「モジュール」ウィンドウ（「デバッグ」-&gt;「ウィンドウ」-&gt;「モジュール」）を開きます。  このウィンドウで、シンボルが読み込まれていないモジュール（「シンボルの状態」列が「シンボルが読み込まれていません」であるモジュール）を探します。  当該モジュールを右クリックして「シンボルの読み込み情報」を選択します。表示されたダイアログボックスで、当該アプリケーションまたはオブジェクトの NSS ファイル（または NRS ファイル）に移動し、そのファイルを選択します。  </li>
</ul>
<h2 id="Anchor_165756492_h2_10">デバッグセッションでシンボルが得られず、逆アセンブリのみが取得される</h2>
<ul>
  <li style="margin-left: 6.0px;">ビルドを確認します。  プロジェクトのプロパティページで「C/C++」-&gt;「全般」-&gt;「デバッグ情報の生成」を選択します。  </li>
  <li style="margin-left: 36.0px;">このプロパティが「はい（-g）」に設定されていない場合は「はい（-g）」に設定してビルドし直します。  </li>
  <li style="margin-left: 36.0px;">これが「はい（-g）」に設定されている場合は以下の手順に従います。</li>
  <li style="margin-left: 66.0px;">Visual Studio の「ツール」-&gt;「オプション」-&gt;「デバッグ」-&gt;「シンボル」のリストに NintendoSDK ライブラリのパスを追加します。 これにより、この SDK ライブラリがデバッグエンジンで検出され、より詳しいレポートが得られるようになります。  </li>
  <li style="margin-left: 66.0px;">デバッガを再起動します。  </li>
  <li style="margin-left: 66.0px;">ここまでの手順を実行してもシンボルが得られない場合は以下の手順に従います。  </li>
  <li style="margin-left: 96.0px;">デバッグセッションにシンボルのパスを追加します。  プロジェクトのプロパティページで「VC++ ディレクトリ」を選択し、「ライブラリ ディレクトリ」でプロジェクトの出力ディレクトリを指定します。  </li>
  <li style="margin-left: 96.0px;">デバッガを再起動します。  </li>
</ul>
<p style="margin-left: 120.0px;">
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
