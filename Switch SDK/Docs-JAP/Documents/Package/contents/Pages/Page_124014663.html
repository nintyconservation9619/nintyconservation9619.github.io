<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>泡を作る</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 泡を作る -->
<div class="pagetitle" id="PageId_124014663">泡を作る</div>
<div class="text_separate">
<h1 id="Anchor_124014663_h1_1">泡を作る</h1>
<p>「正弦波」をアニメーションに利用した機能として「揺らぎ設定」と フィールド「GPUノイズ」があります。<br />ここではこれら機能を使用して、以下の様な泡のエフェクトを作成する手順について説明します。</p>
<p>
  <strong>申し訳ありません、本バージョンではサンプルと本チュートリアルの内容が若干異なっています。</strong>
</p>
<p>&nbsp;<br /> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955557/174230654.gif" height="250" class="embedded-image" /></span></p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>完成データは以下の場所にあります。<br /> <strong>\Samples\Applications\Nw4f\eft\SimpleDemo\Resources\Eset\Bubble.eset</strong></p>
  </div>
</div>
<h2 id="Anchor_124014663_h2_1">エフェクト作成の準備</h2>
<p>あらかじめ EffectMaker と EffectViewer を起動した状態から、エフェクト作成にあたっての準備を行います。</p>
<p>
  <strong>   <span class="status_macro_base status_macro_Blue">関連リンク</span>   </strong> EffectMaker と EffectViewer の起動方法については<strong> <a href="../Pages/Page_83956096.html">「作業の流れ」</a> </strong>を参照してください。</p>
<h3 id="Anchor_124014663_h3_1">エミッタセットの読み込み</h3>
<p>以下の手順でとなるエフェクトを EffectMaker に読み込みます。</p>
<table class="table">
  <tbody>
    <tr>
      <th>1</th>
      <td>メインメニュー項目 [ファイル]&rarr;[<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079802.png" class="embedded-image" /></span> 開く]を選択します。</td>
    </tr>
    <tr>
      <th>2</th>
      <td>
        <p>ウィンドウが開きますので、以下の場所からエミッタセットファイル（.eset）を選択し、ファイルを開きます。<br /> <strong>   \Samples\Sources\Resources\Vfx \Eset\Bubble_Template.eset </strong></p>
      </td>
    </tr>
    <tr>
      <th>3</th>
      <td>ワークスペースに「<strong><span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span> Bubble_Template」</strong>が読み込まれます。</td>
    </tr>
  </tbody>
</table>
<p>  <span class="status-macro aui-lozenge aui-lozenge-complete">関連リンク</span> 以下は関連ページへのリンクです。 </p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_93356878.html">ワークスペース</a>
      </th>
      <td>
        <p>エフェクトを構成する各ノードを階層構造で表示する「ワークスペース」について説明します。</p>
      </td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_92116275.html">プロパティウィンドウ</a>
      </th>
      <td>ノードの操作やプレビューができる「ワークスペース」とノードの機能設定ができる UI から構成される「プロパティウィンドウ」について説明します。</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_124014663_h3_2">ビューアを確認する</h3>
<p>以下の様に、垂直方向に上昇する泡がビューアに転送されていることを確認します。<br />このエフェクトにフィールドを追加し、水圧の影響を受けてゆらゆらと上昇するエフェクトに変更します。<br />以降はビューアで変化を確認しながらエフェクトを編集します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/173225701.gif" height="250" class="embedded-image" />
  </span>
</p>
<p>&nbsp;</p>
<h2 id="Anchor_124014663_h2_2">エミッタの設定</h2>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Bubble」のパーティクルをスケールと回転によって変形させます。</p>
<h3 id="Anchor_124014663_h3_3">エミッタノードの選択</h3>
<p>ワークスペースからエミッタセット「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span> <strong>Bubble_Template</strong>」の階層下にある「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_124014663/174068862.png" class="embedded-image" /></span> Bubble」をマウス左ボタンクリックで選択します。</p>
<h3 id="Anchor_124014663_h3_4">「パーティクル」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="embedded-file-wrapper "><img src="../Attachments/Attach_124014663/174068842.png" width="40" class="embedded-image" /></span></span> タブ」から「パーティクル」を選択します。パーティクルに関する設定項目が表示されます。</p>
<h3 id="Anchor_124014663_h3_5">「パーティクル」タブを設定する</h3>
<p>「<span class="confluence-embedded-file-wrapper confluence-embedded-manual-size">&nbsp;</span><span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" class="embedded-image" /></span> パーティクル設定」の以下の項目を設定し、泡パーティクルをアニメーションさせます。</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">&nbsp;項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>パーティクルの中心(&plusmn;)</strong>
      </td>
      <td>
        <strong>X,Y = 0,0.5</strong>
      </td>
      <td>パーティクルが回転する中心をずらし、垂直に上昇しようとする泡の移動軌道に変化を与えます。</td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" class="embedded-image" /></span> 揺らぎ設定」の以下の項目を設定します。</p>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 揺らぎの適用」の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520244.png" class="embedded-image" /></span> スケール」を ON に設定します。<br />「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326318.png" class="embedded-image" /></span> 揺らぎの適用」が表示されますので、以下の項目を設定します。</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>振幅</strong>
      </td>
      <td>
        <strong>0.3</strong>
      </td>
      <td>水圧の影響による拡縮量の幅を設定します。</td>
    </tr>
    <tr>
      <td>
        <strong>周期</strong>
      </td>
      <td>
        <strong>50</strong>
      </td>
      <td>水圧の影響による拡縮アニメーションの 1 周期を50フレームに設定します。</td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_124014663/174230370.png" width="40" class="embedded-image" /></span> スケールYを個別に設定」の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520244.png" class="embedded-image" /></span> チェックボックス」を ON に設定します。<br />この設定により、泡のスケール Y（縦方向）が個別にアニメーションできます。<br />「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326318.png" class="embedded-image" /></span> スケールYを個別に設定」が表示されますので、以下の項目を設定します。</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">&nbsp;項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>振幅</strong>
      </td>
      <td>
        <strong>0.3</strong>
      </td>
      <td>スケール X（横方向）と同じ振幅を設定します。</td>
    </tr>
    <tr>
      <td>
        <strong>周期</strong>
      </td>
      <td>
        <strong>50</strong>
      </td>
      <td>スケール X（横方向）と同じ周期を設定します。</td>
    </tr>
    <tr>
      <td>
        <strong>初期位相</strong>
      </td>
      <td>
        <strong>20</strong>
      </td>
      <td>位相をスケール Y（縦方向）より 20 フレームずらし、縦横個別にアニメーションさせます。<br />泡は体積を維持したやわらかな拡縮アニメーションになります。</td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span>&nbsp;以下は関連ページへのリンクです。</p>
<table class="table">
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_94754652.html">揺らぎの適用</a>
      </th>
      <td>パーティクルのアルファやスケールに対して「揺らぎ」を与える機能「揺らぎ設定」について説明します。</td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_94759559.html">正弦波</a>
      </th>
      <td>
        <strong>「振幅」</strong>や<strong>「周期」</strong>について説明します。</td>
    </tr>
  </tbody>
</table>
<p>
  <a name="Anchor_124014663_add_noise"></a>
</p>
<h2 id="Anchor_124014663_h2_3">階層下に「GPUノイズ」を追加する</h2>
<p>エミッタ「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span> Bubble_Template」の階層下にフィールド「GPUノイズ」を追加します。</p>
<h3 id="Anchor_124014663_h3_6">プリセットから階層下にエミッタを追加する</h3>
<p>以下の手順で「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span> Bubble_Template」直下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079867.png" class="embedded-image" /></span> Bubble」階層下にフィールド「GPUノイズ」を追加します。</p>
<table class="table">
  <tbody>
    <tr>
      <th>1</th>
      <td>ワークスペースからエミッタセット「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079870.png" class="embedded-image" /></span> Bubble」の階層下にある「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079867.png" class="embedded-image" /></span> Bubble」をマウス右ボタンクリックで選択します。</td>
    </tr>
    <tr>
      <th>2</th>
      <td>表示されるメニューから「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/90147351.png" class="embedded-image" /></span>フィールドを追加」&rarr;「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/90147358.png" class="embedded-image" /></span>「GPUノイズ」を追加」の順で選択します。</td>
    </tr>
    <tr>
      <th>3</th>
      <td>
        <p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079867.png" class="embedded-image" /></span> Bubble」階層下に「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/90147358.png" class="embedded-image" /></span> GPUノイズ」が追加され、選択状態になります。</p>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <a name="Anchor_124014663_change"></a>
</p>
<h2 id="Anchor_124014663_h2_4">GPUノイズの設定</h2>
<p>フィールド「GPUノイズ」を設定することで「正弦波」による泡の移動軌道を作成します。</p>
<h3 id="Anchor_124014663_h3_7">「GPUノイズ」タブを設定する</h3>
<p>ワークスペースで「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_124014663/174068744.png" class="embedded-image" /></span> GPUノイズ」が選択状態にあることを確認します。<br />「GPUノイズ」の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" class="embedded-image" /></span> 基本設定」で以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="table">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>ノイズの強さ</strong>
      </td>
      <td>
        <strong>X,Y,Z = 0.4,0.1,0.4</strong>
      </td>
      <td>泡が横方向に大きくゆれながら上昇するよう振幅値を調整します。<br />振幅値を小さくすることで、小刻みにゆれながら上昇する小さな泡が表現できます。</td>
    </tr>
    <tr>
      <td>
        <strong>基本周期</strong>
      </td>
      <td>
        <strong>300</strong>
      </td>
      <td>
        <p>大きめの泡が水中でややゆっくりと移動するよう1 周期を調整します。</p>
        <p>周期を小さくすることで、高速に上昇する小さな泡が表現できます。</p>
      </td>
    </tr>
  </tbody>
</table>
<p>以下は「ノイズの強さ」と「基本周期」の値による比較画像です。</p>
<table class="table">
  <tbody>
    <tr>
      <td colspan="2">
        <span class="embedded-file-wrapper image-center-wrapper">
          <img src="../Attachments/Attach_83955557/174230804.gif" height="250" class="embedded-image image-center" />
        </span>
      </td>
    </tr>
    <tr>
      <td>
        <span style="color: rgb(255,0,0);">
          <strong>A</strong>
        </span> ：大きな泡のアニメーション</td>
      <td>
        <span style="color: rgb(255,0,0);">
          <strong>B</strong>
        </span>：小さな泡のアニメーション</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_124014663_h2_5">完成イメージ</h2>
<p>以下は完成した泡のエフェクトです。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/174230654.gif" height="250" class="embedded-image" />
  </span>
</p>
<p>以下は作成した泡のエフェクトを魚のモデルと連携させたサンプルです。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/174230655.gif" height="250" class="embedded-image" />
  </span>
</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>完成データは以下の場所にあります。<br /> <strong>\Samples\Applications\Nw4f\eft\SimpleDemo\Resources\Eset\Bubble.work</strong></p>
    <strong>  &nbsp;<span class="status_macro_base status_macro_Blue">関連リンク</span> 「.work」 はワークスペースファイルです。ワークスペースファイルについては <a href="../Pages/Page_126564723.html">こちら</a> を参照してください。 </strong>
  </div>
</div>
<p>
  <strong>  <br />  </strong>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
