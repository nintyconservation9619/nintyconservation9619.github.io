<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>用語</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 用語 -->
<div class="pagetitle" id="PageId_164351105">用語</div>
<div class="text_separate">
<h1 id="Anchor_164351105_h1_1">レイアウトとは</h1>
<p>ペイン（後述）を組合わせた配置データのことを<strong>レイアウト</strong>と呼びます。</p>
<h1 id="Anchor_164351105_h1_2">ペインとは</h1>
<p>レイアウトで最も基本的な概念は、四角形ポリゴン一つ(もしくはその集合)を表す、<strong>ペイン</strong>です。ペインを組合わせた配置データのことを<strong>レイアウト</strong>と呼びます。</p>
<p>ペインは、<strong>ペインツリー</strong>と呼ばれる親子階層を持っています。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080059.png" width="500" class="embedded-image" />
  </span>
</p>
<p>ペインは、それぞれが<strong>位置、スケール、回転、透明度</strong>等のパラメータを保持しています。<br />これらのパラメータは、そのペイ ン自身だけではなく、子供のペインにも影響を及ぼします。<br />親を動かすと、子供も一緒に動くということです。<br />この仕組みを使うことによって、複数の画像で構 成された複雑なペインの配置を、まとめて動かしたり拡大・縮小したりすることができます。</p>
<p>ペインには、6 つの種類があります。</p>
<h2 id="Anchor_164351105_h2_1">ピクチャペイン</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080061.png" class="embedded-image" />
  </span>
</p>
<p>単純に画像を表示するペインです。<br />基本的には 1 枚の画像を表示しますが、<strong>マルチテクスチャ</strong>と呼ばれる機能で、複数の画像を乗算や加算などで合成して表示することもできます。</p>
<h2 id="Anchor_164351105_h2_2">テキストボックスペイン</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080060.png" class="embedded-image" />
  </span>
</p>
<p>
  <strong>文字を表示するペイン</strong>です。<br />表示するフォントは、フォントコンバータ呼ばれるツールで、PC にインストールされたフォントや画像ファイルをコンバートして使うことができます。<br />一つ一つの文字は別個の四角形ポリゴンで表示されますが、ペインの位置やスケールはまとめて適用されます。</p>
<p>文字の中央寄せ、斜体、影を付けるなど、様々な表現に対応しています。</p>
<h2 id="Anchor_164351105_h2_3">ウィンドウペイン</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080057.png" class="embedded-image" />
  </span>
</p>
<p>ピクチャペインと似ていますが、<strong>フチの部分の画像と内部にある画像を組合わせて表示する</strong>ことのできるペインです。<br />ウィンドウペインのサイズを変更した場合、フチの部分のサイズはそのままで、内部の画像が引き延ばされて表示されます。<br />これによって、<strong>サイズを変更してもフチの部分がぼけないペインを作成する</strong>ことができます。</p>
<h2 id="Anchor_164351105_h2_4">ヌルペイン</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080056.png" class="embedded-image" />
  </span>
</p>
<p>その名の通り、<strong>何も表示しないペイン</strong>です。<br />このペインから複数の子ペインをぶら下げることによってそれらをまとめて動かすなど、様々な用途があります。</p>
<h2 id="Anchor_164351105_h2_5">境界ペイン</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080058.png" class="embedded-image" />
  </span>
</p>
<p>何も表示しないという意味ではヌルペインに似ていますが、<strong>タッチしたりポインティングしたりするときの範囲を指定する</strong>ときはこちらのペインを使用します。</p>
<h2 id="Anchor_164351105_h2_6">部品ペイン</h2>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080052.png" class="embedded-image" />
  </span>
</p>
<p>これまでのペインとは少し働きが異なる、特殊なペインです。部品ペインは、<strong>ペインを組み合わせたレイアウトをさらに別のレイアウトに配置する</strong>ときに使用します。</p>
<p>例えば、上の画像の部品ペインは、さらに上で説明したウィンドウペイン、テキストボックスペイン、ヌルペイン、境界ペインを組み合わせたレイアウトを部品ペインとして配置したものです。</p>
<p>また部品には、<strong>コントロール</strong>と呼ばれる機能を使うことで、ボタンとしての働きを持たせることができます。</p>
<h1 id="Anchor_164351105_h1_3">グループ</h1>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080055.png" width="500" class="embedded-image" />
  </span>
</p>
<p>グループとは、<strong>複数のペインをまとめて扱うための仕組み</strong>です。<br />グループを作成するには、グループしたいペインを複数選択して、右クリックメニューから「グループを作成」を選択します。<br />グループは、主にアニメーションを設定する際に、動かしたいペインを指定するために使用します。</p>
<h1 id="Anchor_164351105_h1_4">アニメーション</h1>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/83080054.png" width="500" class="embedded-image" />
  </span>
</p>
<p>ペインの各パラメータは、アニメーションさせることができます。<br />アニメーションを付けるには、上図の左下にある<strong>カーブエディタ</strong>と呼ばれるウィンドウを使用します。</p>
<p>カーブエディタ内のカーブの中にある黒い点が<strong>キー</strong>と呼ばれ、ある<strong>時系列におけるアニメーション対象の値</strong>を表します。<br />時系列をどのように扱うかはゲームでの実装しだいなのですが、通常は1が<strong>1ゲームフレーム</strong>( 60fps のゲームであれば 1/60 秒、30fps のゲームであれば 1/30 秒)と考えます。</p>
<p>例えば上図では、0の時点ではXスケールは 1.0 ですが、2 のところで 1.1 にキーが打たれています。これにより、N_NormalBtn_00 は 0 から 2 の間でスケールが 1.0 から 1.1 まで変化することになります。</p>
<p>例のレイアウトでは、親子階層として、<strong>N_NormalBtn_00</strong>　という名前のヌルペインの子ペインとして　<strong>W_Base_00</strong>　と、<strong>T_TextShoot_00</strong>　というペインが配置されていおり、親ペイン のスケールをアニメーションさせることにより、子ペインも一緒に大きくなります。</p>
<h1 id="Anchor_164351105_h1_5">アニメーション区間タグ</h1>
<p>ペインに付けたアニメーションカーブは、<strong>アニメーション区間タグ</strong>と呼ばれるタグで区切って、名前を付けます。</p>
<p>例えば上図では、<strong>OnOff</strong> というアニメタグを時系列 0 から 2 に設定していますので、0 から 2 の(スケールが1.0 から 1.1に大きくなる)アニメーションが OnOff という名前のアニメタグとして登録されます。</p>
<p>このとき、<strong>関連グループ</strong>を指定することで、そのアニメタグで制御したいペインを選択することができます。関連グループを設定しないと、そのアニメは全てのペインをアニメーション対象と見なすことになりますので、<strong>関連グループは必ず設定する</strong>ようにしてください。</p>
<p>プログラム側では、Layout クラスの <strong>CreateGroupAnimatorAuto </strong>メソッド等でアニメタグ名を指定することよって、アニメーションを管理する Animator クラスを作成し、再生することができます。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
