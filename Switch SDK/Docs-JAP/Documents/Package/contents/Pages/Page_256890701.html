<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>振動図鑑</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 振動図鑑 -->
<div class="pagetitle" id="PageId_256890701">振動図鑑</div>
<div class="text_separate">
<h1 id="Anchor_256890701_h1_1">目次</h1>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_256890701_h1_1">目次</a>
    </li>
    <li>
      <a href="#Anchor_256890701_h1_2">概要</a>
    </li>
    <li>
      <a href="#Anchor_256890701_h1_3">ゲーム制作での使い方</a>
    </li>
    <li>
      <a href="#Anchor_256890701_h1_4">配置場所</a>
    </li>
    <li>
      <a href="#Anchor_256890701_h1_5">使用方法</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_256890701_h2_1">準備</a>
      </li>
      <li>
        <a href="#Anchor_256890701_h2_2">操作方法</a>
      </li>
      <li>
        <a href="#Anchor_256890701_h2_3">再生時パラメータの設定</a>
      </li>
      <li>
        <a href="#Anchor_256890701_h2_4">ループ再生機能の設定</a>
      </li>
      <li>
        <a href="#Anchor_256890701_h2_5">振動ファイル出力機能</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_256890701_h1_6">ファイル構成</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_256890701_h2_6">SDカードを利用する場合</a>
      </li>
      <li>
        <a href="#Anchor_256890701_h2_7">SDカードを利用しない場合 (PC上のデータを読み込み)</a>
      </li>
      <li>
        <a href="#Anchor_256890701_h2_8">引数指定</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_256890701_h1_2">概要</h1>
<p>振動図鑑は、振動と音声を同時に再生できる EDEV / SDEV 上で動作するプレビューツールです。</p>
<p>
  <br />
</p>
<p>振動図鑑にはプリセットとして振動ファイルと音声ファイルが用意されています。</p>
<p>メニューに表示された振動と音声を選択することで、</p>
<p>両者を組み合わせたときにどのような感触になるのか、簡単に試すことが可能です。</p>
<p>
  <br />
</p>
<p>振動の印象は同時に再生する音声に強く影響するため、</p>
<p>ひとつの振動パターンに対して様々な音声を試すことでその変化を感じることが出来ます。</p>
<p>
  <br />
</p>
<p>このツールは、はじめて振動機能を使ってみる際や、音声に対してとりあえず振動をつけてみるという時に最適です。</p>
<h1 id="Anchor_256890701_h1_3">ゲーム制作での使い方</h1>
<p>振動図鑑は SD カードもしくは Host PC の指定されたフォルダにある、振動ファイルと音声ファイルをメニュー上に表示します。</p>
<p>
  <br />
</p>
<p>ゲームで使用する音声ファイルをインポートすれば、</p>
<p>その音声に対してどのような振動が合っているのか探索することが可能です。</p>
<p>例えば、銃声や爆発のような減衰していく音声波形の場合、振動も同じく減衰する波形が適しています。</p>
<p>その場合、プリセットの中から減衰するタイプの振動を選びます。</p>
<p>（ Gun1.wav に対しては、P01_Damped1.bnvib が適しています。）</p>
<p>
  <br />
</p>
<p>ツール上では振動ファイルの選択だけでなく、再生速度、ピッチ、ゲイン、オフセットといった再生パラメータを変更して再生することができます。</p>
<p>このパラメータを使うことで、<span style="color: rgb(51,51,51);">今よりちょっと弱い振動ファイル、ちょっとピッチを上げた振動ファイルを簡単に作ることが可能です。</span></p>
<p>パラメータ変更後の振動波形は、新規の振動ファイルとして保存できます。</p>
<p>例えば、音声に対して振動が強すぎる場合、ゲインを下げることで調整可能です。</p>
<p>（ Gun1.wav に対しては、P01_Damped1.bnvib に対して、Gain-Low を 0.5 にするとより感触がよくなります）</p>
<p>ファイルとパラメータを組み合わせることで、1つの音に対して様々な振動の感触を確認できます。</p>
<p>
  <br />
</p>
<p>振動の感触は同時に再生する音声ファイルに強く影響されます。</p>
<p>例えば、P02_Damped2.bnvib に対して、Metal1.wav、Metal2.wav、Metal3.wav を順に再生してみてください。</p>
<p>同じ金属にものが当たった感覚でも、同時に再生される音声が変わるだけで、異なる感触に感じられます。</p>
<p>さらに音声をミュートした時の感触も併せて体験すると、音声と振動の関係性に理解が深まると思います。</p>
<p>このように必ずしもすべての音声ファイルに、別々の振動ファイルを用意する必要はありません。</p>
<p>こだわりのシーン以外は汎用的な振動ファイルを使い回すという方法を採ることで、開発コストを抑えることができます。</p>
<p>
  <br />
</p>
<p>提供しているプリセットの振動ファイルだけで、すべての音声に対して網羅できる訳ではありません。</p>
<p>こだわりのシーンや感触が悪い場合は、新規に振動ファイルを作ることをおすすめします。</p>
<p>振動ファイルは、<a href="../Pages/Page_104490352.html">振動コンバータ</a>を使って音声ファイルから変換することができます。</p>
<p>
  <br />
</p>
<p>振動の感触を言語化することは簡単ではありません。</p>
<p>複数人で振動の調整をするとき、もしくは振動の感触を確認してもらうときに、</p>
<p>簡単にプレビューができる本ツールはコミュニケーションツールとして役に立ちます。</p>
<h1 id="Anchor_256890701_h1_4">配置場所</h1>
<p>このツールは Nintendo SDK の NX Addon に含まれており、以下の場所に配置されています。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>TargetTools/NX-NXFP2-a64/VibrationCollection/Release/VibrationCollection.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<p>プリセットの音声ファイルと振動ファイルは以下の場所に配置されています。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>TargetTools/NX-NXFP2-a64/VibrationCollection/Release/Resources</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>注意事項</p>
    <p>
      <span style="color: rgb(255,0,0);">
        <strong>本ツールで提供する振動ファイルおよび、それを編集して生成した振動ファイルは Switch 向けのゲームアプリでお使いいただけます。</strong>
      </span>
    </p>
    <p>
      <strong style="color: rgb(255,0,0);">ただし、音声ファイルは本ツールでの利用に限らせていただきます。</strong>
    </p>
  </div>
</div>
<p>
  <br />
</p>
<h1 id="Anchor_256890701_h1_5">使用方法</h1>
<p>本ツールでは下記の機能を提供します</p>
<ol>
  <li>振動ファイル、および音声ファイルの読み込み</li>
  <li>振動ファイルと音声ファイルの同時再生</li>
  <li>
    <p>再生時パラメータ（再生速度、ピッチ、ゲイン）を調整して振動ファイルを再生</p>
  </li>
  <li>振動ファイルのループ設定の編集</li>
  <li>
    <span style="color: rgb(51,51,51);">再生時パラメータ変更後の振動ファイルの書き出し</span>
  </li>
</ol>
<h2 id="Anchor_256890701_h2_1">準備</h2>
<p>以下にあるスクリプトを実行することで、振動図鑑が起動します。初回は「0」を押して Enter Key を押してください。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>TargetTools/NX-NXFP2-a64/VibrationCollection/Release/RunVibrationCollection.bat</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<h2 id="Anchor_256890701_h2_2">操作方法</h2>
<p>起動すると NX の画面に下図のような画面が表示されます。</p>
<p>画面中央の振動ファイルが並び、画面右側に音声ファイルが並びます。</p>
<p>
  <strong>
    <u>
      <br />
    </u>
  </strong>
</p>
<p>
  <strong>
    <u>
      <span class="embedded-file-wrapper ">
        <img src="../Attachments/Attach_256890701/256892092.png" width="709" height="400" class="embedded-image" />
      </span>
    </u>
  </strong>
</p>
<p>
  <strong>
    <u>
      <br />
    </u>
  </strong>
</p>
<p>本ツールはコントローラ操作に加え、タッチスクリーン操作にも対応しています。</p>
<p>再生したいファイルをクリックもしくは A ボタンで選択してください。</p>
<p>選択された振動ファイルは緑色、選択された音声ファイルは赤色で表示されます。</p>
<p>
  <br />
</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/256892093.png" height="400" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>X ボタンを押すことで振動と音声が再生されます。（もしくは、画面左下の「Play Vibration」をクリック）</p>
<p>再生されている振動は画面左側に波形が表示されます。</p>
<p>上段で振幅の時系列の変化、下段で現在の振幅と周波数の値を確認することができます。</p>
<p>
  <br />
</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/277355309.png" height="400" class="embedded-image" />
  </span>
</p>
<p>
  <br />
</p>
<p>振動ファイルおよび、効果音ファイルの読み込み先を変更するには、画面右上の「Open」をクリックします。</p>
<p>読み込み先は NX に挿入された SD カードもしくは HostPC から選択することができます。</p>
<p>読込先に設定するパスの制約は&nbsp;<a href="../Pages/Page_107320200.html">機能説明</a> を参照してください。</p>
<p>
  <br />
</p>
<p>読み込み先の変更後は「Reload and close the file」をクリックするか、</p>
<p>画面右上の「Reload」をクリックすることでファイルの再読み込みを実行します。</p>
<p>
  <br />
</p>
<h2 id="Anchor_256890701_h2_3">再生時パラメータの設定</h2>
<p>
  <br />
</p>
<p>
  <strong>
    <u>
      <span class="embedded-file-wrapper ">
        <img src="../Attachments/Attach_256890701/256892094.png" height="400" class="embedded-image" />
      </span>
    </u>
  </strong>
</p>
<p>振動の再生時のパラメータを変更したい場合 + ボタンもしくは ｰ ボタンを押してください。</p>
<p>（もしくは、画面左下の「Vibration Setting」をクリック）</p>
<p>
  <br />
</p>
<p>以下の設定値変更することで、振動再生時のパラメータを変更できます。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">パラメータ名</th>
      <th style="text-align: center;">説明</th>
      <th style="text-align: center;">設定範囲</th>
      <th style="text-align: center;">備考</th>
    </tr>
    <tr>
      <td>Gain-Low</td>
      <td>低周波帯のゲイン</td>
      <td>0.00 - 5.00</td>
      <td>1.0を超えると、振幅が強くなります</td>
    </tr>
    <tr>
      <td>Gain-High</td>
      <td>高周波帯のゲイン</td>
      <td>0.00 - 5.00</td>
      <td>
        <br />
      </td>
    </tr>
    <tr>
      <td>Pitch-Low</td>
      <td>低周波帯のピッチ</td>
      <td>0.00 - 5.00</td>
      <td>1.0を超えると、周波数が高くなります</td>
    </tr>
    <tr>
      <td>Pitch-High</td>
      <td>高周波帯のピッチ</td>
      <td>0.00 - 5.00</td>
      <td>
        <br />
      </td>
    </tr>
    <tr>
      <td>Speed</td>
      <td>振動の再生速度</td>
      <td>0.01 - 5.00</td>
      <td>0.5 にすると再生時間が 2 倍になります</td>
    </tr>
    <tr>
      <td>Offset&nbsp;</td>
      <td>音声の再生から振動の再生までの時間</td>
      <td>0.00 - 2.50 sec</td>
      <td>0.5 にすると、音声の再生の 0.5 秒後に振動の再生が始まります</td>
    </tr>
  </tbody>
</table>
<p>パラメータは Y ボタンを押すことでリセット可能です。</p>
<p>
  <br />
</p>
<p>パラメータ設定画面で X ボタンを押すことで設定したパラメータで振動が再生されます。</p>
<p>音声の再生のパラメータは変わりません。本体のボリュームを変更することで音量の調整は可能です。</p>
<p>
  <br />
</p>
<p>もう一度、&nbsp;+ ボタンもしくは ｰ ボタンを押すことで、パラメータ設定画面を閉じることが可能です。</p>
<p>
  <br />
</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>注意事項</p>
    <p>
      <span style="color: rgb(255,0,0);">
        <strong>振動図鑑に含まれている振動ファイルはデータを正規化しています。そのため、そのままゲームで使用すると振動が強すぎる場合があります。</strong>
      </span>
    </p>
    <p>
      <span style="color: rgb(255,0,0);">
        <strong>その場合は、ゲインを0.2から0.5程度に調整して使用ください。</strong>
      </span>
    </p>
  </div>
</div>
<h2 id="Anchor_256890701_h2_4">ループ再生機能の設定</h2>
<p>
  <br />
</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/277354456.png" height="400" class="embedded-image" />
  </span>
</p>
<p>パラメータ設定画面中の以下の設定値を変更する事で、振動のループ再生の設定を変更できます。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">パラメータ名</th>
      <th style="text-align: center;">説明</th>
      <th style="text-align: center;">備考</th>
    </tr>
    <tr>
      <td>LoopInterval&nbsp;</td>
      <td>ループ範囲の終端から再び振動が再生されるまでの間隔</td>
      <td>1 サンプル ( 5 msec ) 単位で編集できます</td>
    </tr>
    <tr>
      <td>LoopFlag&nbsp;</td>
      <td>ループ再生の有効/無効</td>
      <td>
        <br />
      </td>
    </tr>
  </tbody>
</table>
<p>ループ再生が有効な場合、ループ範囲がパラメータ設定画面の振動波形の上に表示されます。</p>
<p>ループ範囲は振動波形を選択した状態でスティック操作を行うか、タッチスクリーン操作で編集することが出来ます。</p>
<p>
  <br />
</p>
<p>ループ再生の設定は Y ボタンを押すことでリセット可能です。</p>
<h2 id="Anchor_256890701_h2_5">振動ファイル出力機能</h2>
<p>
  <br />
</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/277354553.png" height="400" class="embedded-image" />
  </span>
</p>
<p>パラメータ設定画面の「Export」ボタンをクリックする事で、</p>
<p>パラメータ設定画面で設定した振動パラメータを適用した振動ファイルを出力することが出来ます。</p>
<p>
  <br />
</p>
<p>振動ファイルの出力先を変更する場合、以下の設定値を変更して下さい</p>
<ul>
  <li>OutputDir : 出力先のディレクトリ名</li>
  <li>FileName : 出力ファイル名</li>
</ul>
<p>(出力先に設定できるパスの制約は&nbsp;<a href="../Pages/Page_107320200.html">機能説明</a> を参照してください)</p>
<p>
  <br />
</p>
<p>「Export Bnvib File」ボタンをクリックするとファイルの出力を実行します。</p>
<h1 id="Anchor_256890701_h1_6">ファイル構成</h1>
<p>本ツールで利用できる振動、音声ファイルのファイル形式は下記の通りです。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <td class="highlight-grey">
        <strong>振動ファイル</strong>
      </td>
      <td style="text-align: right;">*.bnvib</td>
    </tr>
    <tr>
      <td class="highlight-grey">
        <strong>音声ファイル</strong>
      </td>
      <td style="text-align: right;">*.wav</td>
    </tr>
  </tbody>
</table>
<p>本ツールを使用して振動ファイルや、効果音の再生を行う場合</p>
<p>ツールの起動前に所定のディレクトリに振動ファイルと、効果音ファイルを含めておく必要があります。</p>
<p>振動ファイルは bnvib 、音声ファイルは se の中に入れる必要があります。</p>
<h2 style="margin-left: 0.5em;" id="Anchor_256890701_h2_6">SDカードを利用する場合</h2>
<p>(Root)</p>
<p style="margin-left: 60.0px;">
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
  </span>&nbsp;Nintendo</p>
<p style="margin-left: 120.0px;">
  <span style="color: rgb(255,0,0);">
    <span class="embedded-file-wrapper ">
      <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
    </span>&nbsp;Resources</span>
</p>
<p style="margin-left: 180.0px;">
  <span style="color: rgb(255,0,0);">
    <u>
      <strong>
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
        </span>
      </strong>
    </u>
    <strong>&nbsp;</strong>
    <u>
      <strong>bnvib</strong>
    </u>
  </span>
</p>
<p style="margin-left: 180.0px;">
  <span style="color: rgb(255,0,0);">
    <u>
      <strong>
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
        </span>
      </strong>
    </u>
    <strong>&nbsp;</strong>
    <u>
      <strong>se</strong>
    </u>
  </span>
</p>
<p>
  <span style="color: rgb(255,0,0);">
    <br />
  </span>
</p>
<p>
  <sub>
    <span style="color: rgb(255,0,0);">赤字</span>： 振動・効果音ファイルを配置するディレクトリ</sub>
</p>
<h2 style="margin-left: 0.5em;" id="Anchor_256890701_h2_7">SDカードを利用しない場合 (PC上のデータを読み込み)</h2>
<p>(NINTENDO_SDK_ROOT)</p>
<p style="margin-left: 60.0px;">
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
  </span>&nbsp;TargetTools</p>
<p style="margin-left: 120.0px;">
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
  </span>&nbsp;NX-NXFP2-a64</p>
<p style="margin-left: 180.0px;">
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
  </span>&nbsp;VibrationCollection</p>
<p style="margin-left: 240.0px;">
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
  </span>&nbsp;Release</p>
<p style="margin-left: 300.0px;">
  <span style="color: rgb(255,0,0);">
    <span class="embedded-file-wrapper ">
      <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
    </span>&nbsp;Resources<br /></span>
</p>
<p style="margin-left: 360.0px;">
  <span style="color: rgb(255,0,0);">
    <u>
      <strong>
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
        </span>
      </strong>
    </u>
    <strong>&nbsp;</strong>
    <u>
      <strong>bnvib</strong>
    </u>
  </span>
</p>
<p style="margin-left: 360.0px;">
  <span style="color: rgb(255,0,0);">
    <u>
      <strong>
        <span class="embedded-file-wrapper ">
          <img src="../Attachments/Attach_256890701/256892095.png" width="24" class="embedded-image" />
        </span>
      </strong>
    </u>
    <strong>&nbsp;</strong>
    <u>
      <strong>se</strong>
    </u>
  </span>
</p>
<p>
  <br />
</p>
<p>
  <sub>
    <span style="color: rgb(255,0,0);">赤字</span>：&nbsp;振動・効果音ファイルを配置するディレクトリ<br /></sub>
</p>
<h2 style="margin-left: 0.5em;" id="Anchor_256890701_h2_8">引数指定</h2>
<p>
  <strong>起動時に引数を指定することにより、読み込み先を変更することが可能です。</strong>
</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <td>SDカードの参照先を変更</td>
      <td>-sd *****</td>
    </tr>
    <tr>
      <td>Hostの参照先を変更</td>
      <td>-host *****</td>
    </tr>
  </tbody>
</table>
<p>
  <sup>
    <span style="color: rgb(255,0,0);">例)&nbsp;-host D:/Test/Test &nbsp; &nbsp;&rarr; &nbsp; &nbsp;「D:/Test/Test/bnvib」と「D:/Test/Test/se」にあるファイルを読み込みます</span>
  </sup>
</p>
<p>
  <br />
</p>
<p>ツールの起動の例</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$ Tools/CommandLineTools/RunOnTarget.exe TargetTools/NX-NXFP2-a64/VibrationCollection/Release/VibrationCollection.nsp -- -host D:/test</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<p>nsp ファイルを開発機にインストールして使用することもできます。nsp ファイルのインストール方法については、<a href="../Pages/Page_107779320.html">アプリケーションの開発機へのインストール</a>&nbsp;を参照してください。</p>
<pre>-- -host D:/test の部分はプリセットファイルをコピーした場所に変更ください。</pre>
<p>
  <br />
</p>
<p>
  <br />
</p>
<hr />
<p>
  <br />
</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
