<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>シーンアニメーション</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- シーンアニメーション -->
<div class="pagetitle" id="PageId_83955538">シーンアニメーション</div>
<div class="text_separate">
<h1 id="Anchor_83955538_h1_1">シーンアニメーション</h1>
<p>シーンアニメーションはカメラ／ライトのアトリビュートをアニメーションさせて設定します。</p>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_83955538_h2_1">カメラ</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_83955538_h3_1">カメラの種類</a>
      </li>
      <li>
        <a href="#Anchor_83955538_h3_2">カメラのスケール（Camera Scale）</a>
      </li>
      <li>
        <a href="#Anchor_83955538_h3_3">アスペクト比</a>
      </li>
      <li>
        <a href="#Anchor_83955538_h3_4">画角</a>
      </li>
      <li>
        <a href="#Anchor_83955538_h3_5">正射影カメラの視体積</a>
      </li>
      <li>
        <a href="#Anchor_83955538_h3_6">アニメーションを設定できるアトリビュート </a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_83955538_h2_2">ライト</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_83955538_h3_7">ライトの種類</a>
      </li>
      <li>
        <a href="#Anchor_83955538_h3_8">アニメーションを設定できるアトリビュート</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_83955538_h2_3">関連リンク</a>
    </li>
  </ul>
</p>
<h2 id="Anchor_83955538_h2_1">カメラ</h2>
<p>シーンアニメのカメラについて説明します。</p>
<h3 id="Anchor_83955538_h3_1">カメラの種類</h3>
<p>3ds Max のフリーカメラ、ターゲットカメラに対応しています。<br />  中間ファイルのカメラの回転モードは、フリーカメラが euler_zxy、ターゲットカメラが aim となります。<br />  中間ファイルのカメラの投影モードは、カメラパラメータパネルの<strong>直交投影</strong>パラメータが ON なら<strong>正射影</strong>（ortho）、OFF なら<strong>透視射影</strong>（persp）となります。</p>
<h3 id="Anchor_83955538_h3_2">カメラのスケール（Camera Scale）</h3>
<p>カメラのスケールは 1.0 にしてください。</p>
<h3 id="Anchor_83955538_h3_3">アスペクト比</h3>
<p>アスペクト比はレンダリング設定の出力サイズから計算して出力します。</p>
<h3 id="Anchor_83955538_h3_4">画角</h3>
<p>画角は カメラパラメータパネルの<strong>視野</strong>で設定します。 中間ファイルには縦方向の画角に変換して出力しています。</p>
<h3 id="Anchor_83955538_h3_5">正射影カメラの視体積</h3>
<p>正射影カメラの場合は、&quot;ターゲットまでの距離&quot; から以下の手順で正射投影の高さを算出しています。</p>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>tdist = ターゲットまでの距離<br />fovY = 垂直方向の視野角<br />ortho_height = tan( fovY / 2) * tdist * 2</p>
  </div>
</div>
<h3 id="Anchor_83955538_h3_6">アニメーションを設定できるアトリビュート<br class="_mce_tagged_br" /> </h3>
<p>アニメーションを設定できるアトリビュートをまとめると次のようになります。</p>
<ul>
  <li>共通<ul><li>カメラの<strong>位置</strong></li><li>クリッピング平面（ <strong>近接クリップ</strong> / <strong>遠方クリップ</strong> ）</li><li>カメラの<strong>視野</strong>（&nbsp;正射投影カメラの場合は、視野角を正射投影の高さに変換して出力します&nbsp;）</li></ul></li>
  <li>フリーカメラ<ul><li>カメラの<strong>回転</strong></li></ul></li>
  <li>ターゲットカメラ<ul><li>ターゲットの<strong>位置</strong></li><li>カメラの<strong>ロール角度</strong></li></ul></li>
</ul>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>カメラの位置と回転は<strong>グローバル座標</strong>の値が出力されます。カメラ、ターゲット（Aimに相当）ノードに親ノードがあれば、親ノードの位置、回転、スケールも反映されます。</p>
  </div>
</div>
<h2 id="Anchor_83955538_h2_2">ライト</h2>
<p>シーンアニメのライトを説明します。</p>
<h3 id="Anchor_83955538_h3_7">ライトの種類</h3>
<p>以下の標準ライトの出力に対応しています。</p>
<ul>
  <li>アンビエントライト（環境ダイアログの周囲光）</li>
  <li>ディレクショナルライト（指向性ライト、もしくはターゲット指向性ライト）</li>
  <li>ポイントライト</li>
  <li>スポットライト（ターゲットスポットライト、もしくはフリースポットライト）</li>
</ul>
<h3 id="Anchor_83955538_h3_8">アニメーションを設定できるアトリビュート</h3>
<p>アニメーションを設定できるアトリビュートをまとめると次のようになります。</p>
<ul>
  <li>ライトの<strong>位置</strong>、<strong>回転（Rotate）</strong>、<strong>マルチプライヤ（強度）<br /></strong>（移動はポイントライト、スポットライトの場合のみ）<br />（回転はディレクショナルライト、スポットライトの場合のみ）<br />（マルチプライヤはポイントライト、ディレクショナルライト、スポットライトの場合のみ）<br />（遠方減衰はポイントライト、スポットライトの場合のみ）<br />マルチプライヤは有効状態として出力されます（0.0 の場合は無効、それ以外は有効）</li>
  <li>ライトの<strong>カラー<br /></strong>（カラーの値がそのまま出力されます）</li>
  <li>ライトのスポットライトパラメータの<strong>ホットスポット</strong>、<strong>フォールオフ</strong></li>
  <li>ライトの遠方減衰の<strong>使用</strong>、<strong>開始フレーム</strong>、<strong>終了フレーム<br /></strong>（開始フレーム、終了フレームのアニメーションは使用が ON の時だけ出力されます）</li>
</ul>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>ライトの位置と方向は<strong>グローバル座標</strong>の値が出力されます。ライトに親ノードがあれば、親ノードの移動・回転・スケールも反映されます。</p>
  </div>
</div>
<h2 id="Anchor_83955538_h2_3">関連リンク</h2>
<p>
  <a href="../Pages/Page_83956255.html">アニメーション</a>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
