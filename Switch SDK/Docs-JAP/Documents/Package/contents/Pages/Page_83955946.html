<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>3D コマンドラインツール</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 3D コマンドラインツール -->
<div class="pagetitle" id="PageId_83955946">3D コマンドラインツール</div>
<div class="text_separate">
<h1 id="Anchor_83955946_h1_1">コマンドラインツール</h1>
<p>ここでは、NintendoWare の 3D コマンドラインツールについて説明します。</p>
<p> <ul class="macro_toc"><li><a href="#Anchor_83955946_h2_1">概要</a></li><ul><li><a href="#Anchor_83955946_h3_1">表記について</a></li></ul><li><a href="#Anchor_83955946_h2_2">動作環境</a></li><li><a href="#Anchor_83955946_h2_3">コマンドラインツール一覧</a></li><li><a href="#Anchor_83955946_h2_4">コマンドラインオプションの表記</a></li><ul><li><a href="#Anchor_83955946_h3_2">引数ファイル</a></li></ul><li><a href="#Anchor_83955946_h2_5">快適に利用するために</a></li><ul><li><a href="#Anchor_83955946_h3_3">ショートカット</a></li><li><a href="#Anchor_83955946_h3_4">処理の高速化</a></li></ul><li><a href="#Anchor_83955946_h2_6">制限事項</a></li><ul><li><a href="#Anchor_83955946_h3_5">バイナリーファイルの同一性</a></li></ul></ul> <br /> </p>
<h2 id="Anchor_83955946_h2_1">概要</h2>
<p>コマンドラインツールは Tools/Graphics/3dTools にあります。<br /> コマンドラインツールにパスを通す場合は、上記フォルダにパスを通してください。</p>
<p>32 ビット版のツールはツール名の末尾に 32 がついています。ついていないものは&nbsp;64&nbsp;ビット版のツールになります。</p>
<h3 id="Anchor_83955946_h3_1">表記について</h3>
<p>以降の記述において、次の簡略化表記を使用します。</p>
<table class="wrapped">
  <thead>
    <tr>
      <th>正式名称</th>
      <th>簡略表記</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>3D 中間ファイル</td>
      <td>中間ファイル</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955946_h2_2">動作環境</h2>
<p>コマンドラインツールは以下の環境で動作を確認しています。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th>オペレーティング<br />システム</th>
      <td>Microsoft Windows 7 Professional 64bit 版</td>
    </tr>
    <tr>
      <th>.NET Framework</th>
      <td>Microsoft .NET Framework 4.5 Full 版<ul><li><a href="http://www.microsoft.com/ja-jp/download/details.aspx?id=30653"> Web インストーラ版の配布ページ</a></li><li><a href="http://go.microsoft.com/fwlink/?LinkId=225702"> スタンドアロンインストーラ版の配布ページ</a></li></ul></td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955946_h2_3">コマンドラインツール一覧</h2>
<p>NintendoWare で用意されているグラフィックス用コマンドラインツールは以下になります。</p>
<table class="wrapped" style="margin-left: 1.5em;">
  <colgroup>
    <col />
    <col />
    <col />
  </colgroup>
  <thead>
    <tr>
      <th>アイコン</th>
      <th>実行ファイル名</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <br />
      </td>
      <td>3dIntermediateFileOptimizer.exe</td>
      <td>
        <strong> 中間ファイルオプティマイザー</strong> <br /> 中間ファイルに各種最適化を施します。</td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dIntermediateFileConverter.exe</td>
      <td>
        <strong> 中間ファイルコンバーター </strong> <br /> 一般的なフォーマットのファイルを中間ファイルに変換します。</td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dBinaryConverter.exe</td>
      <td>
        <strong> 3D バイナリーコンバーター </strong> <br /> 中間ファイルをランタイム用のバイナリーファイル (.bfres) に変換します。</td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dShaderConverter.exe</td>
      <td>
        <strong> 3D シェーダーコンバーター </strong> <br /> シェーダー設定中間ファイル (.fsca) とシェーダーソースコード (.glsl) をシェーダー定義中間ファイル (.fsdb) に変換します。<br /> また、シェーダー定義中間ファイルをランタイム用のシェーダーアーカイブファイル (.bfsha) に変換します。</td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dIntermediateFileAssignUtility.exe</td>
      <td>
        <strong> アサインユーティリティー </strong> <br /> モデル中間ファイルにシェーダーの割り当てなどを行います。</td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dTextureConverter.exe</td>
      <td>
        <p>
          <strong>3D テクスチャーコンバーター</strong>
        </p>
        <p>画像ファイル (.tga、.png、.dds、.exr) からテクスチャー中間ファイル (.ftxb、.ftxa) を作成します。<br />1 つまたは複数のテクスチャー中間ファイルをテクスチャーバイナリーファイルに変換します。</p>
      </td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dTexturePresetConverter.bat</td>
      <td>
        <p>
          <strong>3D テクスチャープリセットコンバーター</strong>
        </p>
        <p>XML 形式のプリセットファイルを利用して、画像ファイルをテクスチャー中間ファイルに変換します。</p>
      </td>
    </tr>
    <tr>
      <td>
        <br />
      </td>
      <td>3dCmdlConverter.exe</td>
      <td>
        <p>
          <strong> cmdl コンバータ</strong>
          <br /> NW4C 用のグラフィックス中間ファイルを NintendoSDK 用の中間ファイルに変換します。</p>
      </td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704457.png" class="embedded-image" />
          </span>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704460.png" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>3dIntermediateFileUpdater.exe</td>
      <td>
        <p>
          <strong>中間ファイルアップデーター</strong>
        </p>
        <p>中間ファイルのバージョンを最新にします。</p>
      </td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704462.png" class="embedded-image" />
          </span>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704463.png" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>3dIntermediateFileChecker.exe</td>
      <td>
        <p>
          <strong>中間ファイルチェッカー</strong>
        </p>
        <p>正しい中間ファイルかどうかをチェックします。</p>
      </td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704464.png" class="embedded-image" />
          </span>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704465.png" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>3dIntermediateFileBinaryToAscii.exe</td>
      <td>
        <p>
          <strong>テキスト中間ファイルコンバーター</strong>
        </p>
        <p>バイナリー中間ファイルをテキスト中間ファイルに変換します。</p>
      </td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704466.png" class="embedded-image" />
          </span>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704467.png" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>3dIntermediateFileAsciiToBinary.exe</td>
      <td>
        <p>
          <strong>バイナリー中間ファイルコンバーター</strong>
        </p>
        <p>テキスト中間ファイルをバイナリー中間ファイルに変換します。</p>
      </td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704468.png" class="embedded-image" />
          </span>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704471.png" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>3dIntermediateFileFormatter.exe</td>
      <td>
        <p>
          <strong>中間ファイルフォーマッター</strong>
        </p>
        <p>中間ファイルを読み易くフォーマットします。</p>
      </td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704472.png" class="embedded-image" />
          </span>
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83955946/86704473.png" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>3dIntermediateFileFilter.exe</td>
      <td>
        <p>
          <strong>中間ファイルフィルター</strong>
        </p>
        <p>中間ファイルをスクリプトで処理します。</p>
      </td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955946_h2_4">コマンドラインオプションの表記</h2>
<p>本ドキュメントでは、コマンドラインオプションを以下のルールで表記します。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>Example.exe [--args-file &quot;&quot;] [-v] [-h] [-s] [-j &quot;&quot;] [--search-path &quot;&quot;] [ファイル|フォルダ]...</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<ul>
  <li>コマンドラインオプションに &nbsp;&quot;&quot; が付いている場合は、オプション引数を指定できます。</li>
  <li>[ ] は省略可能なコマンドラインオプションです。</li>
  <li>[ ]... となっている箇所は [ ] の内容を複数回指定できます。</li>
</ul>
<h3 id="Anchor_83955946_h3_2">引数ファイル</h3>
<p>グラフィックスのコマンドラインツールは、オプションに --args-file ファイル名 を指定すると、ファイルに記述した内容を、引数として指定できます。</p>
<p>この引数ファイルの中では複数行に渡って各オプションを記述できます。<br /> ただし、ダブルクォーテーションによるエスケープ中に改行を含めることはできません。</p>
<p>引数ファイル内で行頭に # がある行は、コメントとして扱います。</p>
<h2 id="Anchor_83955946_h2_5">快適に利用するために</h2>
<p>コマンドラインツールを利用するさいに知っておくと便利な利用方法を説明します。</p>
<h3 id="Anchor_83955946_h3_3">ショートカット</h3>
<p>以下のツールはデスクトップ等にショートカットを作成することにより、ドラッグ＆ドロップで簡単に利用することができます。</p>
<ul>
  <li>
    <a href="../Pages/Page_83956006.html">中間ファイルコンバーター</a>
  </li>
  <li>
    <a href="../Pages/Page_83956125.html">中間ファイルアップデーター</a>
  </li>
  <li>
    <a href="../Pages/Page_83955623.html">中間ファイルチェッカー</a>
  </li>
  <li>
    <a href="../Pages/Page_83955699.html">テキスト中間ファイルコンバーター</a>
  </li>
  <li>
    <a href="../Pages/Page_83955925.html">バイナリー中間ファイルコンバータ</a>
  </li>
  <li>
    <a href="../Pages/Page_83955891.html">中間ファイルフォーマッター</a>
  </li>
  <li>
    <a href="../Pages/Page_83955970.html">中間ファイルフィルター</a>
  </li>
</ul>
<h3 id="Anchor_83955946_h3_4">処理の高速化</h3>
<p>--job-list オプションをサポートするコマンドラインツールは --job-list オプションで渡すテキストファイルに複数ファイルを記述すると、一回のプロセス起動で各ファイルを処理するため、処理が高速になります。</p>
<p>例えば、アサインユーティリティで inputA.fmdb、inputB.fmdb に対して shader.fsdb の simple シェーディングモデルの割り当てを行い、それぞれ inputA_out.fmdb、inputB_out.fmdb に出力する場合は以下のように記述します。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>3dIntermediateFileAssignUtility.exe --shader shader.fsdb --shading-model simple --job-list jobList.txt</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>--job-list オプションで指定している jotList.txt は以下のように記述します。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>inputA.fmdb -o inputA_out.fmdb
inputB.fmdb -o inputB_out.fmdb</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p class="note">このファイルには、実行処理毎に異なるオプションを指定することが可能です。また、--job-list の外で指定されたオプションについては共通のオプションとして処理が実行されます。</p>
<p class="note">並列処理をサポートしているコマンドラインツールでは --job-list で指定した複数ファイル分の処理は並列で実行されます。</p>
<p class="note">ゲーム用リソースのビルドシステムからコマンドラインツールを呼び出す場合には、ある程度まとまった単位で呼び出すようにすると、処理時間を削減することができます。</p>
<h2 id="Anchor_83955946_h2_6">制限事項</h2>
<p>コマンドラインツールを使用する際の制限事項を以下になります。</p>
<h3 id="Anchor_83955946_h3_5">バイナリーファイルの同一性</h3>
<p>バイナリーコンバータやシェーダーコンバータが出力するリソースファイルは 32 ビット版と 64 ビット版で異なります。 これは浮動小数計算の誤差によるものです。64 ビット版の使用を推奨します。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
