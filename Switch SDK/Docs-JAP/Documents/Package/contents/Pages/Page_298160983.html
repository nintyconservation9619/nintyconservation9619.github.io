<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>オンカード追加コンテンツ</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- オンカード追加コンテンツ -->
<div class="pagetitle" id="PageId_298160983">オンカード追加コンテンツ</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_298160983_h1_1">概要</a>
    </li>
    <li>
      <a href="#Anchor_298160983_h1_2">注意事項</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_298160983_h2_1">オンカード追加コンテンツの更新は配信できません</a>
      </li>
      <li>
        <a href="#Anchor_298160983_h2_2">意図しないカードサイズ・動作周波数の変更</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_298160983_h1_3">オンカード追加コンテンツの作成に必要なもの</a>
    </li>
    <li>
      <a href="#Anchor_298160983_h1_4">開発環境での動作確認手順</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_298160983_h2_3">オンカード追加コンテンツの nsp ファイルへの変換</a>
      </li>
      <li>
        <a href="#Anchor_298160983_h2_4">ゲームカードへの書き込み</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_298160983_h1_5">提出について</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_298160983_h2_5">提出用の nsp ファイル</a>
      </li>
      <li>
        <a href="#Anchor_298160983_h2_6">提出可能時期</a>
      </li>
    </ul>
  </ul>
</p>
<h1 id="Anchor_298160983_h1_1">概要</h1>
<p>オンカード追加コンテンツとは、追加コンテンツの格納先がゲームカードになっている追加コンテンツです。</p>
<p>ゲームカードに、アプリケーション本体と一緒に書き込まれています。</p>
<p>ゲームプログラムからは、通常の追加コンテンツと同じ API でアクセスすることが可能です。アプリケーション側で特別な処理を行う必要はありません。</p>
<p>
  <br />
</p>
<p>オンカード追加コンテンツは、通常の追加コンテンツと比較して下記の点が異なります。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>
        <br />
      </th>
      <th>通常の追加コンテンツ</th>
      <th>オンカード追加コンテンツ</th>
    </tr>
    <tr>
      <td>格納先</td>
      <td>Nand or microSD</td>
      <td>ゲームカード</td>
    </tr>
    <tr>
      <td>更新</td>
      <td>可能</td>
      <td>不可能</td>
    </tr>
    <tr>
      <td>使用可能性</td>
      <td>追加コンテンツを購入したアカウントが連携している本体</td>
      <td>ゲームカードが挿入されている本体</td>
    </tr>
    <tr>
      <td>アクセス速度</td>
      <td>Nand or microSD 依存</td>
      <td>ゲームカード依存</td>
    </tr>
  </tbody>
</table>
<p>追加コンテンツを使用するゲームの完全版などで、ゲーム本体と追加コンテンツをセットにしたゲームカードを販売するようなケースでの使用を想定しています。</p>
<p>
  <br />
</p>
<h1 id="Anchor_298160983_h1_2">注意事項</h1>
<h2 id="Anchor_298160983_h2_1">オンカード追加コンテンツの更新は配信できません</h2>
<p>オンカード追加コンテンツは、カードが挿入されている本体であればニンテンドーeショップでの購入権利などに関わらず使用できます。</p>
<p>一方で、通常の追加コンテンツはニンテンドーeショップで購入した権利を持つニンテンドーアカウントが機器認証されている本体でしか使用できません。</p>
<p>このため、オンカード追加コンテンツの更新版を ニンテンドーeショップで配信することはできませんので注意してください。</p>
<p>どうしても何らかの更新を行いたい場合、アプリケーションパッチの配信で対応していただく必要があります。</p>
<p>
  <br />
</p>
<h2 id="Anchor_298160983_h2_2">意図しないカードサイズ・動作周波数の変更</h2>
<p>アプリケーション・パッチ・追加コンテンツが1つのカードに含まれることになるので、アプリケーション単体の場合と比べてカードサイズと動作周波数が異なる可能性があります。</p>
<p>カードサイズと動作周波数の関係については&nbsp;<a href="../Pages/Page_177655843.html">NX 開発カード</a>&nbsp;を参照してください。</p>
<p>
  <br />
</p>
<p>オンカード追加コンテンツの nsp ファイルを作成するときに自動的に必要なカードサイズが計算されますが、後でサイズが変わることが予想される場合や動作周波数を指定したい場合など、自分でカードサイズや動作周波数を指定したい場合には<a href="../Pages/Page_107320233.html">AuthoringTool</a>&nbsp;のオプションで指定することができます。</p>
<p>提出されたオンカード追加コンテンツの nsp ファイル設定を基に生産される NX カードの容量と動作周波数が決定されます。必ず適切な設定をした上で動作確認・提出を行ってください。</p>
<h1 id="Anchor_298160983_h1_3">オンカード追加コンテンツの作成に必要なもの</h1>
<p>オンカード追加コンテンツを作成するために下記の nsp&nbsp;ファイルが必要です。</p>
<ul style="list-style-type: square;">
  <li>ゲームカードに含める追加コンテンツ</li>
  <li>前述の追加コンテンツを使用するアプリケーション</li>
  <li>（必要に応じて）前述のアプリケーションのパッチ</li>
</ul>
<p>
  <br />
</p>
<p>Nintendo Developer Portal で提出するためのデータを作成する場合は、これらの nsp ファイルは全てロットチェック合格済みのものでなければなりません。<br />提出せずに開発環境で動作確認を行う場合であれば、これらの nsp ファイルはロットチェックの合否を問いません。</p>
<p>
  <br />
</p>
<h1 id="Anchor_298160983_h1_4">開発環境での動作確認手順</h1>
<p>オンカード追加コンテンツを開発環境で動作確認するためには、オンカード追加コンテンツが書き込まれたゲームカードを作成する必要があります。</p>
<p>オンカード追加コンテンツが書き込まれたゲームカードを挿入すると、アプリケーションからは通常の追加コンテンツがインストールされている状態に見えるので、通常の追加コンテンツがインストールされていることと同様に動作確認を行うことができます。</p>
<p>
  <br />
</p>
<p>オンカード追加コンテンツが書き込まれたゲームカードは下記の手順で作成します。</p>
<p>
  <br />
</p>
<ul style="list-style-type: square;">
  <li>追加コンテンツの nsp ファイルと、アプリケーション・パッチの nsp ファイルから、オンカード追加コンテンツの nsp ファイルへの変換。</li>
  <li>オンカード追加コンテンツの nsp ファイルとアプリケーション・パッチの nsp ファイルをゲームカードへ書き込む。</li>
</ul>
<p>詳細を以下に記載します。</p>
<h2 id="Anchor_298160983_h2_3">オンカード追加コンテンツの nsp ファイルへの変換</h2>
<p>追加コンテンツの nsp ファイルは、そのままではゲームカードに書き込むことができません。</p>
<p>AuthoringTool を使用することで、ゲームカードへの書き込みが可能になるオンカード追加コンテンツの nsp ファイルを作成することができます。</p>
<p>この際、追加コンテンツを扱うアプリケーション・パッチの nsp ファイルも必要です。</p>
<p>例えば下記のコマンドでコンバートが可能です。このコマンドでは OutputDir に output.nsp というファイル名でオンカード追加コンテンツの nsp&nbsp;ファイルが生成されます。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre># App.nsp は追加コンテンツを扱うアプリの nsp ファイル
# Aoc.nsp は追加コンテンツの nsp ファイル


$ AuthoringTool.exe convertaoc -o OutputDir --base App.nsp Aoc.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<p>ここで指定する追加コンテンツやアプリケーションは、NX Addon 5.2.0 以前の SDK で作成したものを指定することも可能です。</p>
<p>より詳細なオプションは AuthroingTool のリファレンスを参照してください。</p>
<p>
  <br />
</p>
<h2 id="Anchor_298160983_h2_4">ゲームカードへの書き込み</h2>
<p>追加コンテンツを扱うアプリケーション・パッチの nsp ファイルと、オンカード追加コンテンツの nsp ファイルをゲームカードに書き込みます。</p>
<p>
  <span style="color: rgb(51,51,51);">RunOnTarget で DevMenuCommand に下記のようなコマンドを渡すことで、追加コンテンツを扱うアプリケーションの nsp ファイルと、オンカード追加コンテンツの nsp ファイルを書き込むことができます。</span>
</p>
<p>パッチやアプリケーションは NX Addon 5.2.0 以前の SDK で作成したものを指定することも可能です。</p>
<p>
  <br />
</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre># D:\App.nsp 追加コンテンツを扱うアプリの nsp ファイル
# D:\Aoc.nsp オンカード追加コンテンツの nsp ファイル
# D:\Patch.nsp パッチの nsp ファイル


$ RunOnTarget. DevMenuCommand.nsp -- gamecard write D:\App.nsp --on-card-patch D:\Patch.nsp --on-card-aoc D:\Aoc.nsp</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <br />
</p>
<p>必要に応じて下記のページも参照して下さい。</p>
<p>
  <a href="../Pages/Page_166051528.html">NX 開発カードへの書き込み</a>
</p>
<h1 id="Anchor_298160983_h1_5">提出について</h1>
<h2 id="Anchor_298160983_h2_5">提出用の nsp ファイル</h2>
<p>前述した「オンカード追加コンテンツの nsp ファイルへの変換」の手順で作成したオンカード追加コンテンツの nsp ファイルを提出できます。</p>
<p>ただし、この nsp ファイルを作成する際に AuthroingTool に渡すアプリケーション・パッチ・追加コンテンツの nsp ファイルは、ロットチェック合格済みのものを指定する必要があることに注意してください。ロットチェック未合格の nsp ファイルを指定して作成したオンカード追加コンテンツの nsp ファイルは提出時にエラーとなります。</p>
<h2 id="Anchor_298160983_h2_6">提出可能時期</h2>
<p>NX Addon 5.2.0 の時点では、オンカード追加コンテンツの提出はできません。</p>
<p>
  <span style="color: rgb(51,51,51);">具体的な提出可能時期が決まり次第、Nintendo Developer Portal の 「マスター提出関連情報」に、提出可能時期を掲載する予定です。</span>
</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
