<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>プロジェクトで指定できるパラメータ</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- プロジェクトで指定できるパラメータ -->
<div class="pagetitle" id="PageId_107320422">プロジェクトで指定できるパラメータ</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_107320422_h1_1">はじめに</a>
    </li>
    <li>
      <a href="#Anchor_107320422_h1_2">構成プロパティ</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_107320422_h2_1">全般</a>
      </li>
      <li>
        <a href="#Anchor_107320422_h2_2">デバッグ</a>
      </li>
      <li>
        <a href="#Anchor_107320422_h2_3">C / C++</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_107320422_h3_1">全般</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_2">最適化</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_3">コード生成</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_4">言語</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_5">プリコンパイル済みヘッダー</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_6">詳細設定</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_107320422_h2_4">リンカー</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_107320422_h3_7">全般</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_8">入力</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_107320422_h2_5">オーサリング</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_107320422_h3_9">全般</a>
        </li>
        <li>
          <a href="#Anchor_107320422_h3_10">Patch</a>
        </li>
      </ul>
    </ul>
  </ul>
</p>
<h1 id="Anchor_107320422_h1_1">はじめに</h1>
<p>NX VSI においてビルド・デバッグのパラメータを指定する際は、プロジェクトの構成プロパティから設定を行います。</p>
<p>構成プロパティの設定には、Windows アプリケーションと共通の項目に加え、NX VSI 固有の項目も存在します。</p>
<p>ここでは、NX VSI 固有の項目のうち、特に重要な設定項目について説明を行います。</p>
<h1 id="Anchor_107320422_h1_2">構成プロパティ</h1>
<h2 id="Anchor_107320422_h2_1">全般</h2>
<h4 id="Anchor_107320422_h4_1">構成の種類</h4>
<p>ビルドするプログラムの種類を、以下から選択します。</p>
<ul>
  <li>実行可能ファイル (.nsp)<ul><li>開発機で実行コードを生成する場合に指定します</li></ul></li>
  <li>静的ライブラリ (.a)<ul><li>静的ライブラリを生成する場合に指定します</li></ul></li>
  <li>動的ライブラリ (.nro)<ul><li>動的ライブラリを生成する場合に指定します</li><li>動的ライブラリの使用方法については、<a href="../Pages/Page_170692715.html">動的ライブラリの使用方法</a>&nbsp;を参照してください</li></ul></li>
  <li>Makefile<ul><li>外部のビルドシステムを使用する場合に指定します</li><li>詳細は <a href="../Pages/Page_163289165.html">Makefile の使用方法</a>&nbsp;を参照してください</li></ul></li>
</ul>
<h4 id="Anchor_107320422_h4_2">アプリケーションプログラムフォーマット</h4>
<h5 id="Anchor_107320422_h5_1">Raw</h5>
<p>実行コードのみを生成し、RomFs はホスト PC 上のファイルを直接使用します。<br />通常は、こちらを使用してください。</p>
<h5 id="Anchor_107320422_h5_2">NCA</h5>
<p>NCA ファイルが生成されます。<br />NCA ファイルには実行に必要なファイル全てが含まれるため、アプリを実行するためにはこのファイルのみを共有すればよいことになります。<br />アーカイブ処理などが必要なので、先述の Raw モードに比較すると生成に時間がかかります。<br />実行に必要なデータを1つのファイルにまとめたい場合は、こちらを使用してください。</p>
<div class="note_new">
  <div class="note_new_left">注意：</div>
  <div class="note_new_right">
    <p>NX Addon 1.0.0 から .nca でのアプリケーションの実行をサポートしていません。アプリケーションの実行には .nsp を使用してください。&nbsp;&nbsp;</p>
  </div>
</div>
<h5 id="Anchor_107320422_h5_3">NSP</h5>
<p>NSP ファイルが生成されます。<br />NSP ファイルは、開発機にアプリケーションをインストールする際に用いるファイル形式です。<br />開発機にビルドしたアプリケーションをインストールしたい場合は、こちらを使用してください。<br />インストールしたアプリケーションを VSI でデバッグする場合は&nbsp;<a href="../Pages/Page_126569850.html#Anchor_126569850_AttachAfterLaunch">VSI／ビルド済プログラムをデバッグする-既に起動しているアプリをデバッグする</a>&nbsp;を参照してください。</p>
<p>
  <br />
</p>
<div>
  <h4 id="Anchor_107320422_h4_3">desc ファイル</h4>
  <p>アプリの権限やパラメータを指定するためのファイルです。</p>
  <p>このファイルは署名されているため、修正することは出来ません。ここに指定されたパスは基本的に変更しないでください。</p>
  <h4 id="Anchor_107320422_h4_4">nmeta ファイル</h4>
  <p>アプリの権限やパラメータを指定するファイルです。</p>
  <p>ファイルは XML 形式のフォーマットで書かれており、以下のパラメータをアプリごとに変更することが出来ます。</p>
  <table class="wrapped" style="margin-left: 1.5em;">
    <thead>
      <tr>
        <th>
          <div class="tablesorter-header-inner">パラメータ名</div>
        </th>
        <th>
          <div class="tablesorter-header-inner">パラメータの意味</div>
        </th>
        <th>
          <div class="tablesorter-header-inner">パラメータの例</div>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Meta/Core/ApplicationId</td>
        <td>
          <p>任天堂から割り当てられる、アプリ固有の ID です。</p>
          <p>現在はまだ ID 割り当てを行っていないので、変更する必要はありません。</p>
          <p>将来 ID が割り当てられたら、この項目を変更してください。</p>
        </td>
        <td>0x0100000000000000</td>
      </tr>
      <tr>
        <td>Meta/Core/MainThreadStackSize</td>
        <td>メインスレッドのスタックサイズです。（単位：バイト）</td>
        <td>0x100000</td>
      </tr>
    </tbody>
  </table>
  <p>NintendoSDK では、Authoring Editor で nmeta ファイルの編集をサポートしています。<br />VSI 上で nmeta を開くと Authoring Editor が起動します。</p>
</div>
<h2 id="Anchor_107320422_h2_2">デバッグ</h2>
<h4 id="Anchor_107320422_h4_5">デバッグ前コマンド</h4>
<p>デバッグセッションを開始する前に実行する任意のコマンドを指定します。<br />デバッグなし実行の際にも実行されます。&nbsp;</p>
<h4 id="Anchor_107320422_h4_6">リモートコマンド引数</h4>
<p>アプリケーションに渡すコマンドライン引数を指定します。<br />ここで渡したコマンドライン引数の情報は &lt;nn/os/os_Argument.h&gt; で定義されている <span class="ApiLink_nn__os__GetHostArgc">nn::os::GetHostArgc</span>() / <span class="ApiLink_nn__os__GetHostArgv">nn::os::GetHostArgv</span>() で取得できます。</p>
<h4 id="Anchor_107320422_h4_7">デバッグ手法</h4>
<p>デバッグを開始する手段を指定します。</p>
<ul>
  <li>ローンチ<ul><li>アプリの起動を行いつつ、デバッグを開始します。一般的な開発にはこちらをお使いください。</li></ul></li>
  <li>ローンチ時にアタッチ<ul><li>アプリの起動は行わず、アプリの起動を待つ状態になります。アプリが他の手段で起動されると、起動直後に自動でアタッチされます。</li><li>HomeMenu から開始した状態をデバッグしたい場合などに使用します。</li></ul></li>
</ul>
<h4 id="Anchor_107320422_h4_8">ターゲット環境変数ファイル</h4>
<p>ターゲット環境変数定義ファイルのパスを指定します。詳しくは、<a href="../Pages/Page_124021418.html">ターゲット環境変数（NX Addon）</a>&nbsp;をご覧ください。</p>
<h2 id="Anchor_107320422_h2_3">C / C++</h2>
<h3 id="Anchor_107320422_h3_1">全般</h3>
<h4 id="Anchor_107320422_h4_9">すべてのビルドコマンドをログに出力する</h4>
<p>この項目で「はい」を選択した場合、コンパイル時に実行したコマンドを出力ウィンドウに表示します。</p>
<h4 id="Anchor_107320422_h4_10">マルチプロセッサのコンパイル</h4>
<p>この項目で「はい」を選択した場合、並列コンパイルが有効になります。</p>
<h4 id="Anchor_107320422_h4_11">同時にコンパイル出来る最大数</h4>
<p>並列コンパイルを有効にした場合の、最大並列実行数を設定します。</p>
<h4 id="Anchor_107320422_h4_12">その他</h4>
<p>以下の項目で、コンパイルオプションを変更することができます。NX では clang ベースのコンパイラを使用しているので、コンパイルオプションも clang に準拠したものとなっています。 コンパイラの詳細は <a href="../Pages/Page_92338147.html">コンパイラ</a> をご覧ください。</p>
<ul>
  <li>デバッグ情報の生成 (-g)</li>
  <li>警告 (-Wall, -w)</li>
  <li>警告をエラーとして扱う (-Werror)</li>
  <li>他の警告 (-Wextra)</li>
  <li>特定の警告を無効にする</li>
  <li>拡張診断メッセージ (-fcaret-diagnostics, -fno-caret-diagnostics)</li>
</ul>
<h3 id="Anchor_107320422_h3_2">最適化</h3>
<p>以下の項目で、コンパイルオプションを変更することができます。NX では clang ベースのコンパイラを使用しているので、コンパイルオプションも clang に準拠したものとなっています。 コンパイラの詳細は <a href="../Pages/Page_92338147.html">コンパイラ</a> をご覧ください。</p>
<ul>
  <li>最適化 (-O0, -O1, -O2, -O3, -Os)</li>
  <li>厳密なエイリアシング (-fstrict-aliasing, -fno-strict-aliasing)</li>
  <li>フレームポインターなし (-fomit-frame-pointer, -fno-omit-frame-pointer)</li>
  <li>強力な浮動小数点の最適化 (-ffast-math)</li>
  <li>ループのアンロール (-funroll-loops)</li>
  <li>ベクター化 (-fvectorize, -fno-vectorize)</li>
  <li>インライン関数 (-fno-inline-functions)</li>
  <li>暗黙的な浮動小数点命令の生成&nbsp;(-mno-implicit-float)</li>
</ul>
<h3 id="Anchor_107320422_h3_3">コード生成</h3>
<p>以下の項目で、コンパイルオプションを変更することができます。NX では clang ベースのコンパイラを使用しているので、コンパイルオプションも clang に準拠したものとなっています。 コンパイラの詳細は <a href="../Pages/Page_92338147.html">コンパイラ</a> をご覧ください。</p>
<ul>
  <li>C++ の例外を有効にする (-fexceptions, -fno-exceptions)</li>
  <li>スタック保護 (-fstack-protector)</li>
  <li>組み込み関数は使用しない (-fno-builtin)</li>
</ul>
<h3 id="Anchor_107320422_h3_4">言語</h3>
<p>以下の項目で、コンパイルオプションを変更することができます。NX では clang ベースのコンパイラを使用しているので、コンパイルオプションも clang に準拠したものとなっています。 コンパイラの詳細は <a href="../Pages/Page_92338147.html">コンパイラ</a> をご覧ください。</p>
<ul>
  <li>ランタイム型情報を有効にする (-frtti, -fno-rtti)</li>
  <li>ANSI 準拠を確認する (-ansi)</li>
  <li>char 型を既定で unsigned にする (-fsigned-char, -funsigned-char)</li>
  <li>MS 拡張子を有効にする (-fms-extensions)</li>
</ul>
<h3 id="Anchor_107320422_h3_5">プリコンパイル済みヘッダー</h3>
<p>NX 向けのビルドでも、Windows 向けのビルドと同じように、プリコンパイルヘッダを利用することができます。<br /> 具体的な手順は以下の通りです。</p>
<ol>
  <li>ソースコードとヘッダを用意する(仮に pch.cpp と pch.h とする)</li>
  <li>プリコンパイルヘッダにしたいヘッダを pch.h からインクルードする</li>
  <li>pch.cpp から pch.h のみをインクルードする</li>
  <li>プロジェクトのプロパティ &gt; C/C++ &gt; プリコンパイル済みヘッダ &gt; プリコンパイル済みヘッダファイル&nbsp;に pch.h を指定する</li>
  <li>プロジェクトのプロパティ &gt; C/C++ &gt; プリコンパイル済みヘッダ &gt; プリコンパイル済みヘッダー に 「使用する」を指定する（プロジェクトに登録されているすべてのファイルに適用されます）</li>
  <li>pch.cpp のプロパティ &gt; プリコンパイル済みヘッダ &gt;&nbsp; プリコンパイル済みヘッダー に「作成する」を指定する</li>
</ol>
<h3 id="Anchor_107320422_h3_6">詳細設定</h3>
<p>以下の項目で、コンパイルオプションを変更することができます。NX では clang ベースのコンパイラを使用しているので、コンパイルオプションも clang に準拠したものとなっています。 コンパイラの詳細は <a href="../Pages/Page_92338147.html">コンパイラ</a> をご覧ください。</p>
<ul>
  <li>コンパイル言語の選択 (-x c, -x c++, -x assembler-with-cpp)</li>
</ul>
<p>
  <br />
</p>
<h2 id="Anchor_107320422_h2_4">リンカー</h2>
<h3 id="Anchor_107320422_h3_7">全般</h3>
<h4 id="Anchor_107320422_h4_13">リンカースクリプト</h4>
<p>リンカースクリプトファイルを指定します。</p>
<p>ここに指定されたパスは変更しないでください。</p>
<h4 id="Anchor_107320422_h4_14">ライブラリ依存関係のリンク</h4>
<p>ライブラリを生成するプロジェクトが依存するプロジェクトとして指定されている場合、そのプロジェクトが生成するライブラリを自動でリンクするかどうかを切り替えます。<br />この項目で「はい」を選択した場合、依存しているプロジェクトのライブラリが自動でリンクされます。</p>
<h4 id="Anchor_107320422_h4_15">すべてのビルドコマンドをログに出力する</h4>
<p>この項目で「はい」を選択した場合、リンク時に実行したコマンドを出力ウィンドウに表示します。</p>
<h4 id="Anchor_107320422_h4_16">gold リンカーを使用</h4>
<p>この項目で「はい」を選択した場合、リンカとして ld の代わりにより高速な gold を使用します。</p>
<h4 id="Anchor_107320422_h4_17">Map ファイルを生成</h4>
<p>この項目で「はい」を選択した場合、リンク時に map ファイルを作成します。</p>
<h4 id="Anchor_107320422_h4_18">Map ファイル名</h4>
<p>map ファイルを作成する場合のパスを指定します。</p>
<h4 id="Anchor_107320422_h4_19">デッドストリップを行う</h4>
<p>使用されないシンボルを最終成果物から取り除きます。<br />デッドストリップを行う場合、<span class="ApiLink_nn__diag__GetSymbolName">nn::diag::GetSymbolName</span> が機能しなくなることにご注意ください。<br />詳細については、<a href="../Pages/Page_104492354.html">トラブルシューティング (NX Addon)</a> をご参照ください。</p>
<p>また、デッドストリップを行わない場合、不要な情報が残り ROM 提出時に問題が出る可能性があるため、製品では行うようにしてください。</p>
<h4 id="Anchor_107320422_h4_20">ビルド識別子の生成</h4>
<p>生成物に対して一意に定まる識別子をどのように生成するかを選択します。<br />この識別子はデバッグ情報との対応付けの際に使用されます。<br />詳細は&nbsp;<a href="../Pages/Page_92338147.html">コンパイラ</a>&nbsp;&gt;&nbsp;Toolchain for NX の、「Toolchain for NX 固有の機能 - ビルド ID の使用」をご参照ください。</p>
<h3 id="Anchor_107320422_h3_8">入力</h3>
<h4 id="Anchor_107320422_h4_21">追加の依存ファイル</h4>
<p>依存する静的ライブラリファイル (.a) を指定します。</p>
<h4 id="Anchor_107320422_h4_22">追加 NSO ファイル</h4>
<p>依存する動的ライブラリファイル (.nso) を指定します。</p>
<h4 id="Anchor_107320422_h4_23">追加 NRO ファイル</h4>
<p>追加で使用する動的ライブラリファイル (.nro) を指定します。<br />このファイルはアプリが実行時に手動で読み込む必要があります。<br />詳細は <a href="../Pages/Page_170692715.html">動的ライブラリの使用方法</a>&nbsp;をご参照ください。&nbsp;</p>
<h4 id="Anchor_107320422_h4_24">NRO 配置パス</h4>
<p>「追加 NRO ファイル」で指定したファイルを、ビルド時にコピーする際のコピー先ディレクトリを指定します。<br />一般的にはアプリケーションデータディレクトリ以下のパスを指定します。<br />アプリケーションデータディレクトリ以下のファイルは ROM に含まれることになるため、このファイルを実行時にロードすることになります。<br />詳細は <a href="../Pages/Page_170692715.html">動的ライブラリの使用方法</a>&nbsp;をご参照ください。&nbsp;</p>
<h4 id="Anchor_107320422_h4_25">NRR ファイル名</h4>
<p>NRO ファイルに付随するメタデータの場所を指定します。<br />指定されたパスにメタデータが生成されるので、このファイルを実行時にアプリから読み込むことになります。<br />詳細は <a href="../Pages/Page_170692715.html">動的ライブラリの使用方法</a>&nbsp;をご参照ください。&nbsp;</p>
<h2 id="Anchor_107320422_h2_5">オーサリング</h2>
<h3 id="Anchor_107320422_h3_9">全般</h3>
<h4 id="Anchor_107320422_h4_26">アプリケーションデータディレクトリ</h4>
<p>ここに指定されたディレクトリのパスが、アプリケーションのリソースデータのルートディレクトリとして扱われます。<a href="../Pages/Page_107338701.html">リソースデータの参照</a>も併せて参照してください。<br />相対パスを指定した場合、vcxproj ファイルからの相対パスとして扱われます。</p>
<h4 id="Anchor_107320422_h4_27">追加オプション</h4>
<p>手動で AuthoringTool に指定するコマンドを指定する場合に使用します。<br />基本的には変更しないでください。&nbsp;</p>
<h4 id="Anchor_107320422_h4_28">常に AuthoringTool を実行</h4>
<p>nsp をビルドする際に、かならず Authoring Tool を実行するかどうかを切り替えます。<br />アプリケーションデータディレクトリに含まれるファイルの変更を nsp に反映させるためには Authoring Tool を実行する必要がありますが、現在 Authoring Tool はこれらファイルの更新はチェックしていないため、プログラムに変更を加えずに Authoring Tool を実行するためには、このパラメータを「はい」にしておく必要があります。</p>
<h4 id="Anchor_107320422_h4_29">ROM 提出不可能な場合、ビルドエラーにする</h4>
<p>生成された ROM が提出可能でない場合、ビルドエラーとします。</p>
<h3 id="Anchor_107320422_h3_10">Patch</h3>
<p>パッチの作成方法については、<a href="../Pages/Page_193046193.html">パッチの作成方法</a>&nbsp;をご参照ください。</p>
<h4 id="Anchor_107320422_h4_30">パッチを生成</h4>
<p>パッチファイルを生成するか否かを指定します。</p>
<h4 id="Anchor_107320422_h4_31">初版の NSP ファイル</h4>
<p>初版のアプリの nsp ファイルを指定します。<br />＊パッチファイル生成時には、中間ファイルとして今回の版に対応する nsp が&nbsp;<span style="color: rgb(51,51,51);">$(OutDir)$(ターゲット名) .nsp として</span>出力されるため、同パスを指定してしまうと正しいパッチファイルが生成されません。</p>
<h4 id="Anchor_107320422_h4_32">直前のパッチファイル</h4>
<p>直前の版のパッチファイルを指定します。<br />今回のパッチが初めてのパッチである場合は、指定する必要はありません。&nbsp;</p>
<h4 id="Anchor_107320422_h4_33">Cache Directory</h4>
<p>パッチ作成時に生成される中間生成物を保存するディレクトリを指定します。<br />この中間生成物があると、次にパッチを生成するのに必要な時間が短縮されます。</p>
<h4 id="Anchor_107320422_h4_34">Additional Options</h4>
<p>パッチ生成時に追加でオプション指定する場合に使用します。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__os__GetHostArgc', '../../../Api/HtmlNX/namespacenn_1_1os.html#acf2fa6b7b7074a51d0b2de1664cc7bb5' )
SetUrl( 'ApiLink_nn__os__GetHostArgv', '../../../Api/HtmlNX/namespacenn_1_1os.html#abd77e6bf19be140867869cc759fa492c' )
SetUrl( 'ApiLink_nn__diag__GetSymbolName', '../../../Api/HtmlNX/namespacenn_1_1diag.html#a31d8138e18547e55274febb0b7447b57' )

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
