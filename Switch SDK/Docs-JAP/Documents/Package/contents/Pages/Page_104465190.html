<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>NIFM ライブラリ</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- NIFM ライブラリ -->
<div class="pagetitle" id="PageId_104465190">NIFM ライブラリ</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_104465190_h1_1">はじめに</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104465190_h2_1">本ドキュメントの目的</a>
      </li>
      <li>
        <a href="#Anchor_104465190_h2_2">対象読者</a>
      </li>
      <li>
        <a href="#Anchor_104465190_h2_3">関連資料</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_104465190_h1_2">NIFM ライブラリの機能</a>
    </li>
    <li>
      <a href="#Anchor_104465190_h1_3">NIFM ライブラリの提供形態</a>
    </li>
    <li>
      <a href="#Anchor_104465190_h1_4">利用上の注意・制限等</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_104465190_h2_4">共通</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_104465190_h3_1">ネットワーク接続設定の登録</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_104465190_h2_5">Windows 版</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_104465190_h3_2">ネットワーク利用要求提出時の挙動</a>
        </li>
      </ul>
    </ul>
  </ul>
</p>
<h1 id="Anchor_104465190_h1_1">はじめに</h1>
<h2 id="Anchor_104465190_h2_1">本ドキュメントの目的</h2>
<p>本ドキュメントでは、NintendoSDK に収録されているネットワーク接続管理（以降 NIFM）ライブラリの機能について説明します。</p>
<h2 id="Anchor_104465190_h2_2">対象読者</h2>
<p>NintendoSDK を使って、インフラ通信またはローカル通信を必要とするアプリケーションを開発される方を対象とします。</p>
<h2 id="Anchor_104465190_h2_3">関連資料</h2>
<p>
  <a href="../../../Api/HtmlNX/namespacenn_1_1nifm.html">NIFM の関数リファレンス</a> と併せて参照してください。</p>
<h1 id="Anchor_104465190_h1_2">NIFM ライブラリの機能</h1>
<p>NIFM ライブラリは、NintendoSDK 環境におけるネットワーク接続管理のための API を提供します。</p>
<p>ネットワーク接続管理ライブラリは、アプリケーションやシステムの要求を調停し、使用するネットワークインターフェースの選択やネットワーク接続の確立、利用の可否判断機能などを提供します。<br />アプリケーションがネットワーク接続を利用する場合は、このライブラリを通じて利用要求を提出することにより、アプリケーションの利用に適した接続を確立したり、利用ができなかった場合はその理由を取得したりすることができます。</p>
<h1 id="Anchor_104465190_h1_3">NIFM ライブラリの提供形態</h1>
<p>以下のページを参照してください。</p>
<ul>
  <li>
    <a href="../Pages/Page_95685382.html">ライブラリの提供形態と利用方法</a>
  </li>
</ul>
<h1 id="Anchor_104465190_h1_4">利用上の注意・制限等</h1>
<h2 id="Anchor_104465190_h2_4">共通</h2>
<p>
  <a name="Anchor_104465190_SettingsManager_network"></a>
</p>
<h3 id="Anchor_104465190_h3_1">ネットワーク接続設定の登録</h3>
<p>インストール直後は、初期値として有線（DHCP、DNS 自動取得、プロキシなし）用のネットワーク接続設定が利用できます。</p>
<p>それ以外のネットワーク接続を利用するには、事前に設定マネージャを使って適切なネットワーク接続設定を登録する必要があります。登録時に、初期値の設定は上書きされます。</p>
<p>下に示す例のネットワーク接続設定ファイルおよび接続設定インポートバッチファイルは、NifmNetworkConnectionSimple サンプルのソースコードと同じディレクトリに存在します。</p>
<ul>
  <li>ネットワーク接続設定ファイルインポート</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$&gt; ImportNetworkSettings-spec.*.bat</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>上記バッチファイルを実行すると、インポート可能な対象ターゲット（Windows など）および設定ファイル（有線用、無線用など）の組合せが選択肢として表示されます。インポートしたい組合せを選択することで、設定のインポートが行われます。また、必要ならば開発機の再起動も同時に行われ、設定のエクスポート結果が表示されます。エラーが表示されなければインポート成功です。</p>
<p>このバッチファイルは、内部的に「<a href="../Pages/Page_107320698.html">設定マネージャ</a>」を使って設定をインポートしています。ですので、例えば、Windows で以下のようにコマンドラインからインポートすることも可能です。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>$&gt; Tools\CommandLineTools\Settings\SettingsManager.exe Import c:\\absolute\\path\\to\\networkSettings_ForEthernet.txt</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>この方法で開発機向けにインポートを行った場合、必ず手動でのシステム再起動を行ってください。</p>
<p>
  <br />
</p>
<p>設定ファイルは以下のように記述します。</p>
<p>この例では一つの設定のみを記してありますが、&lt;array&gt; には複数の &lt;dict&gt; を記述できるので、一つのファイルに複数の接続設定を記述することが可能です。また現在のバージョンでは、有線接続では不要である SSID やセキュリティに関する設定にも、任意の設定値を指定しておく必要があります。</p>
<ul>
  <li>インポート用のネットワーク設定の例（有線・ IP アドレス自動取得）</li>
</ul>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&quot;head&quot;: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;version&quot;: &quot;1.0&quot;
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&quot;body&quot;: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;network_settings&quot;: [
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;: &quot;ethernet-profile&quot;, // ネットワーク接続設定名
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;: &quot;93188440-b6d5-14b7-056b-08cd57910964&quot;, // ネットワーク接続設定の識別子
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;auto_connection&quot;: true,    // ネットワーク接続設定を自動接続に利用するか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;large_capacity&quot;: true,    // 大容量通信を許可するか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nic_type&quot;: &quot;Ethernet&quot;, // NIC 種別 [Ieee80211, Ethernet]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ssid_config&quot;: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;: &quot;&quot;, // SSID
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;non_broadcast&quot;: false  // ステルス AP に対して、この設定を使った接続試行を行うか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;security&quot;: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;authentication&quot;: &quot;Open&quot;,   // 認証方式 [Open, WpaPsk, Wpa2Psk]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;encryption&quot;: &quot;None&quot;,   // 暗号化方式 [None, Wep, Aes]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;key_material&quot;: &quot;x&quot;    // パスワードまたはパスフレーズ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ip_settings&quot;: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;auto_ip&quot;: true,    // IP アドレスの自動取得を行うか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;address&quot;: &quot;0.0.0.0&quot;,   // IP アドレス
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;subnet_mask&quot;: &quot;0.0.0.0&quot;,   // サブネットマスク
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;default_gateway&quot;: &quot;0.0.0.0&quot;,   // デフォルトゲートウェイ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;auto_dns&quot;: true,   // DNS サーバーアドレスの自動取得を行うか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;preferred_dns&quot;: &quot;0.0.0.0&quot;, // 優先 DNS サーバーのアドレス
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;alternate_dns&quot;: &quot;0.0.0.0&quot;  // 代替 DNS サーバーのアドレス
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;proxy&quot;: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;enables&quot;: false,   // プロキシを利用するか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hostname&quot;: &quot;&quot;, // プロキシの FQDN（scheme や port を含みません）
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;port&quot;: 0,  // プロキシのポート番号
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;authenticates&quot;: false, // プロキシのユーザ認証を行うか否かのフラグ
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;username&quot;: &quot;&quot;, // プロキシのユーザ認証のユーザ名
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;password&quot;: &quot;&quot;  // プロキシのユーザ認証のパスワード
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mtu&quot;: 1400 // MTU
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>キー</th>
      <th>内容</th>
    </tr>
    <tr>
      <td>name</td>
      <td>ネットワーク接続設定名です。</td>
    </tr>
    <tr>
      <td>id</td>
      <td>ネットワーク接続設定の識別子。フォーマットは UUID 形式（16進数で 8桁-4桁-4桁-4桁-12桁）です。<br />設定マネージャでシステム外部からインポートする場合は、ファイル内でユニークな任意の値でかまいません。&nbsp;</td>
    </tr>
    <tr>
      <td>large_capacity</td>
      <td>大容量通信を許可するか否かのフラグです。現在はサポートされていません。</td>
    </tr>
    <tr>
      <td>auto_connection</td>
      <td>ネットワーク接続設定を自動接続に利用するか否かのフラグです。</td>
    </tr>
    <tr>
      <td>nic_type</td>
      <td>
        <p>NIC 種別です。[Ieee80211, Ethernet]</p>
      </td>
    </tr>
    <tr>
      <td>ssid_config.hex</td>
      <td>SSID（16 進数表現）name と hex は排他的に利用可能です。</td>
    </tr>
    <tr>
      <td>ssid_config.name</td>
      <td>SSID（ASCII 文字列表現）name と hex は排他的に利用可能です。</td>
    </tr>
    <tr>
      <td>ssid_config.non_broadcast</td>
      <td>ステルス AP に対して、この設定を使った接続試行を行うか否かのフラグです。</td>
    </tr>
    <tr>
      <td>security.authentication</td>
      <td>認証方式 [Open, Shared, WpaPsk, Wpa2Psk]</td>
    </tr>
    <tr>
      <td>security.encryption</td>
      <td>暗号化方式 [None, Wep, Aes]</td>
    </tr>
    <tr>
      <td>key_material</td>
      <td>パスワードまたはパスフレーズです。</td>
    </tr>
    <tr>
      <td>ip_settings.auto_ip</td>
      <td>IP アドレスの自動取得を行うか否かのフラグです。</td>
    </tr>
    <tr>
      <td>ip_settings.address</td>
      <td>IP アドレスです。</td>
    </tr>
    <tr>
      <td>ip_settings.subset_mask</td>
      <td>サブネットマスクです。</td>
    </tr>
    <tr>
      <td>ip_settings.default_gateway</td>
      <td>デフォルトゲートウェイです。</td>
    </tr>
    <tr>
      <td>ip_settings.auto_dns</td>
      <td>DNS サーバーアドレスの自動取得を行うか否かのフラグです。</td>
    </tr>
    <tr>
      <td>ip_settings.preferred_dns</td>
      <td>優先 DNS サーバーのアドレスです。</td>
    </tr>
    <tr>
      <td>ip_settings.alternate_dns</td>
      <td>代替 DNS サーバーのアドレスです。</td>
    </tr>
    <tr>
      <td>proxy.enables</td>
      <td>プロキシを利用するか否かのフラグです。</td>
    </tr>
    <tr>
      <td>proxy.hostname</td>
      <td>プロキシの FQDN です。scheme（http:// など）や port（:8080 など）は含みません。</td>
    </tr>
    <tr>
      <td>proxy.port</td>
      <td>プロキシのポート番号です。</td>
    </tr>
    <tr>
      <td>proxy.authenticates</td>
      <td>プロキシのユーザ認証を行うか否かのフラグです。サポートされる認証方式は BASIC 認証のみです。</td>
    </tr>
    <tr>
      <td>proxy.username</td>
      <td>プロキシのユーザ認証のユーザ名です。</td>
    </tr>
    <tr>
      <td>proxy.password</td>
      <td>プロキシのユーザ認証のパスワードです。</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_104465190_h2_5">Windows 版</h2>
<h3 id="Anchor_104465190_h3_2">ネットワーク利用要求提出時の挙動</h3>
<p>ネットワーク利用要求が提出された時点での Windows の接続状況を維持します。実際には、接続試行は行われません。</p>
<p>例えば無線接続状態の Windows 環境において、有線の NIFM 接続設定のみが設定されている場合に利用要求を出しても、現在の状態がいずれの接続設定をも満たさないので利用可能状態になりません。</p>
<p>
  <br />
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
