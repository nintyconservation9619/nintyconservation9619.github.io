<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>既存の Visual C++ プロジェクトに NintendoSDK 用の構成を追加する</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 既存の Visual C++ プロジェクトに NintendoSDK 用の構成を追加する -->
<div class="pagetitle" id="PageId_107783427">既存の Visual C++ プロジェクトに NintendoSDK 用の構成を追加する</div>
<div class="text_separate">
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_107783427_h1_1">はじめに</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_107783427_h2_1">このページについて</a>
      </li>
      <li>
        <a href="#Anchor_107783427_h2_2">関連項目</a>
      </li>
      <li>
        <a href="#Anchor_107783427_h2_3">注意事項</a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_107783427_h1_2">手順</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_107783427_h2_4">事前準備</a>
      </li>
      <li>
        <a href="#Anchor_107783427_h2_5">(任意) NintendoSDK 用の構成を追加する</a>
      </li>
      <li>
        <a href="#Anchor_107783427_h2_6">NintendoSDK 構成マネージャを使用する </a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_107783427_h3_1">NintendoSDK 構成マネージャを起動する</a>
        </li>
        <li>
          <a href="#Anchor_107783427_h3_2">NintendoSDK を使用する設定を行う</a>
        </li>
        <li>
          <a href="#Anchor_107783427_h3_3">設定を反映する</a>
        </li>
      </ul>
      <li>
        <a href="#Anchor_107783427_h2_7">ビルド確認を行う</a>
      </li>
      <ul>
        <li>
          <a href="#Anchor_107783427_h3_4">NintendoSDK のビルドシステムの設定を上書きしていないことを確認する</a>
        </li>
      </ul>
    </ul>
  </ul>
</p>
<h1 id="Anchor_107783427_h1_1">はじめに</h1>
<h2 id="Anchor_107783427_h2_1">このページについて</h2>
<p>このページでは、Windows 向けのバイナリを生成する一般的な Visual Studio プロジェクトから NintendoSDK を使用するための具体的な設定手順について説明します。</p>
<h2 id="Anchor_107783427_h2_2">関連項目</h2>
<p>このチュートリアルでは、NintendoSDK が提供する Visual Studio 拡張機能である「NintendoSDK 構成マネージャ」を使用します。NintendoSDK 構成マネージャの詳細は <a href="../Pages/Page_126573838.html">NintendoSDK 構成マネージャ</a> を参照してください。</p>
<h2 id="Anchor_107783427_h2_3">注意事項</h2>
<p>このチュートリアルの手順やスクリーンショットは、使用している Visual Studio のバージョンや環境設定によって実際の手順やスクリーンショットと一部異なる可能性があります。</p>
<h1 id="Anchor_107783427_h1_2">手順</h1>
<h2 id="Anchor_107783427_h2_4">事前準備</h2>
<p>NDI を使用して NintendoSDK VsExtension パッケージをあらかじめインストールしてください。インストール後は、 Visual Studio の再起動を行ってください。</p>
<h2 id="Anchor_107783427_h2_5">(任意) NintendoSDK 用の構成を追加する</h2>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>1 つのプロジェクトで NintendoSDK を使用しない既存のバイナリと NintendoSDK を使用する新しいバイナリの両方をビルドできるようにする場合は、この節に従ってプロジェクトに新規構成を追加してください。既存のバイナリのビルド設定を上書きしてもよい場合は、この手順を省略可能です。次の <a href="#Anchor_107783427_nnsdk-configuration-manager">NintendoSDK 構成マネージャを使用する</a> にお進みください。</p>
  </div>
</div>
<p>NintendoSDK を使用するバイナリをビルドするための、専用のプロジェクト構成を新たに追加します。</p>
<p>Visual Studio でプロジェクトを開き、構成マネージャーを開きます。例えば、メニューから [ビルド(B)] &rarr; [構成マネージャー(O)...] を選択します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/108103365.png" class="embedded-image" />
  </span>
</p>
<p>[アクティブ ソリューション構成(C)] のプルダウンメニューを開き [&lt;新規作成...&gt;] を選択します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/108103366.png" width="500" class="embedded-image" />
  </span>
</p>
<p>[名前(N)] のテキストボックスに適当な名前 (ここでは <span class="ApiLink_NN_D">NN_D</span>ebug としています) を入力して [OK] をクリックします。既存のビルド設定を再利用する場合は [設定のコピー元(S)] から適切な構成を選択します。[新しいプロジェクト構成を作成する(C)] にはチェックを入れてください。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/108103367.png" class="embedded-image" />
  </span>
</p>
<p>上記の手順を繰り返して必要な構成をすべて追加してください。例えば、既存の構成として Debug と Release が存在する場合は、それぞれの構成に対応する NintendoSDK 用の構成 (<span class="ApiLink_NN_D">NN_D</span>ebug と <span class="ApiLink_NN_R">NN_R</span>elease など) を追加するのが良いでしょう。</p>
<h2 id="Anchor_107783427_h2_6">NintendoSDK 構成マネージャを使用する <a name="Anchor_107783427_nnsdk-configuration-manager"></a></h2>
<p>NintendoSDK 構成マネージャを使用して、 NintendoSDK を使用するために必要な設定を行います。</p>
<h3 id="Anchor_107783427_h3_1">NintendoSDK 構成マネージャを起動する</h3>
<p>[ツール(T)] &rarr; [NintendoSDK] &rarr; [NintendoSDK Configurations...] メニューを選択し、 NintendoSDK 構成マネージャを起動します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/125191643.png" width="500" class="embedded-image" />
  </span>
</p>
<h3 id="Anchor_107783427_h3_2">NintendoSDK を使用する設定を行う</h3>
<p>NintendoSDK を使用したいプロジェクト構成に対して、以下の操作を行ってください。</p>
<ul>
  <li>「NintendoSDK 使用」列のチェックボックスをチェックする</li>
  <li>「SDK パス」列の 「...」 ボタンをクリックし、SDK のパスを入力する</li>
  <li>「API セット」列に、使用したい API セットを設定する</li>
  <li>「SDK ビルドタイプ」列に、使用したいビルドタイプを設定する</li>
</ul>
<p>ビルドタイプについての詳細は、 <a href="../Pages/Page_106361459.html">ビルドターゲットとビルドタイプ</a> を参照してください。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/125191644.png" class="embedded-image" />
  </span>
</p>
<h3 id="Anchor_107783427_h3_3">設定を反映する</h3>
<p>「OK」ボタンを押すと、設定がプロジェクトに反映されます。</p>
<p>また、プロジェクトファイルと同じディレクトリにプロパティシート ImportNintendoSdk.props 及び設定値を保存するためのファイル &lt;プロジェクト名&gt;.nnsdk.xml が生成されます。これらの 2 ファイルは削除しないでください。またプロジェクトファイルを移動する場合は、これらのファイルも一緒に移動してください。</p>
<h2 id="Anchor_107783427_h2_7">ビルド確認を行う</h2>
<p>ソリューション構成として NintendoSDK を使用する構成を選択してビルドが行えるかどうか確認してください。正常にビルドが行えない場合は、次の箇所を確認してください。</p>
<h3 id="Anchor_107783427_h3_4">NintendoSDK のビルドシステムの設定を上書きしていないことを確認する</h3>
<p>NintendoSDK のプリプロセッサマクロの定義、インクルードディレクトリ、ライブラリディレクトリ等の設定は NintendoSDK のプロパティシートによって行われますが、プロジェクト内でこれらの設定が上書きされている場合に正しくビルドが行えない可能性があります。設定が上書きされているかどうかは次の手順で確認できます。</p>
<p>プロジェクトのプロパティ ページを開きます。例えば、ソリューション エクスプローラー上でプロジェクトを右クリックし、[プロパティ(R)] を選択します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/108103379.png" class="embedded-image" />
  </span>
</p>
<p>適当な設定のプルダウンメニューを開いて [&lt;編集...&gt;] を選択します。ここではインクルードディレクトリを選択しています。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/108103381.png" width="500" class="embedded-image" />
  </span>
</p>
<p>表示されるウインドウで [親またはプロジェクトの規定値から継承(I)] にチェックが入っていない場合は、設定が上書きされています。チェックを入れてください。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_107783427/108103382.png" class="embedded-image" />
  </span>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
// ApiLink_NN_D
// ApiLink_NN_R

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
