<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>コンバート</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- コンバート -->
<div class="pagetitle" id="PageId_83956133">コンバート</div>
<div class="text_separate">
<h1 id="Anchor_83956133_h1_1">コンバート</h1>
<p>ここまでの手順で作成したサウンドプロジェクトから、Atk ライブラリが利用するバイナリファイルを作成する手順について解説します。</p>
<h2 id="Anchor_83956133_h2_1">コンバートの実行</h2>
<h3 id="Anchor_83956133_h3_1">コンバートの実行</h3>
<p>[プロジェクト]&rarr;[コンバート] を実行します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956133/83079807.gif" class="embedded-image" />
  </span>
</p>
<p>&nbsp;</p>
<p>作成したサウンドプロジェクトから、NintendoWare オーディオ開発環境用の各種サウンドデータファイルを作成することができます。<br /> この操作で生成されたファイルが、アプリケーションにおいて、NintendoWare オーディオ開発環境のランタイムライブラリが扱うすべてのサウンドデータとなります。</p>
<p>コンバート中はコンバートダイアログが現れ、コンバータのログメッセージを表示します。<br />&nbsp;またコンバート中は、ダイアログ左上部のアイコンがアニメーションします。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83956133/83079808.gif" class="embedded-image" />
  </span>
</p>
<p>&nbsp;</p>
<p>コンバートでエラーが発生した場合でもコンバートエラーダイアログを閉じて欲しい場合は、「エラー発生時は、コンバートダイアログを閉じない」のチェックを外してください。<br /> この設定は、「オプションダイアログ」でも行えます。</p>
<h4 id="Anchor_83956133_h4_1">指定アイテムを再コンバート</h4>
<p>[プロジェクト]&rarr;[指定アイテムを再コンバート] を実行すると、対象アイテムを選択するダイアログが表示され、コンバートするアイテムを指定することができます。</p>
<p>なお、指定アイテムの再コンバートを行うと、通常のコンバート対象（変更があったアイテム）がコンバートされることに加えて、指定した種別のアイテムすべてが再コンバートされます。</p>
<h3 id="Anchor_83956133_h3_2">コンバートの警告表示</h3>
<p>コンバート時に未参照のアイテムなど不適切と思われる設定があった場合、コンバートダイアログおよびコンバートログウインドウに警告表示をします。</p>
<p>コンバートダイアログでは、エラーの内容が表示され「対象アイテムへ移動」ボタンが有効になります。 <br />「対象アイテムへ移動」ボタンをクリックすると、エラーの起きた選択アイテムの場所に移動します。</p>
<p>コンバートログウインドウについては、「<a href="../Pages/Page_83955653.html">コンバートログ</a>」を参照してください。 <br />また、この警告機能は「<a href="../Pages/Page_83956179.html#Anchor_83956179_Prj_Set_Dlg">プロジェクト設定ダイアログ</a>」において、有効・無効の設定が行えます。</p>
<h2 id="Anchor_83956133_h2_2">生成されるファイル</h2>
<p>コンバートによって生成されるファイルの種類と、それらの出力先を解説します。</p>
<p>SoundMaker で編集したサウンドを実機プログラムから再生するには、以下のファイルが必要です。</p>
<ul>
  <li>バイナリサウンドアーカイブファイル</li>
  <li>バイナリストリームファイル</li>
  <li>サウンド ID ファイル (サウンド ID 指定で再生する場合にのみ必要）</li>
</ul>
<h3 id="Anchor_83956133_h3_3">生成ファイルの出力先</h3>
<p>ファイルの出力先フォルダは、デフォルトで &quot;output&quot; という名前で、サウンドプロジェクトファイルのあるフォルダ内に作成されますが、「<a href="../Pages/Page_83956179.html#Anchor_83956179_Prj_Set_Dlg">プロジェクト設定ダイアログ</a>」の [サウンドアーカイブの出力先] において、出力先を変更できます。</p>
<h3 id="Anchor_83956133_h3_4">バイナリサウンドアーカイブファイル</h3>
<p>サウンドアーカイブを収めたサウンドデータの本体です。<br />[サウンドアーカイブの出力先] で指定されたフォルダに、サウンドプロジェクトファイルと同名で、拡張子 .bfsar として出力されます。</p>
<h3 id="Anchor_83956133_h3_5">バイナリストリームファイル</h3>
<p>サウンドアーカイブに含まれるストリームサウンドの波形データです。<br />[ストリームファイルの出力先] で指定されたフォルダに出力されます。<br />デフォルトではプロジェクトフォルダ内の output\stream フォルダに、ストリームサウンドの「ラベル名.bfstm」として出力されます。</p>
<p>バイナリサウンドアーカイブファイルにはバイナリストリームファイルの場所が相対パスとして保持されています。<br />出力先以下のディレクトリ（パス）は、実際の ROM に配置された場合のパスとなり、サウンドアーカイブがストリームサウンドを鳴らす時に必要な情報となります。</p>
<h3 id="Anchor_83956133_h3_6">サウンド ID ファイル</h3>
<p>サウンドアーカイブに含まれる、全てのアイテム名の一覧を収めたテキストファイルです。<br />[サウンドアーカイブの出力先] で指定されたフォルダに、サウンドプロジェクトファイルと同名で、拡張子 .fsid として出力されます。</p>
<p>「<a href="../Pages/Page_83956179.html#Anchor_83956179_Prj_Set_Dlg">プロジェクト設定ダイアログ</a>」で [アイテム別ラベルを出力する] のチェックを ON にすると、ID のヘッダを種類別のファイルに分けて出力します。<br /> 個別に出力されるファイルは、以下の 7 種類です。</p>
<ul>
  <li>*.BANK.fsid</li>
  <li>*.GROUP.fsid</li>
  <li>*.PLAYER.fsid</li>
  <li>*.SEQSET.fsid</li>
  <li>*.SOUND.fsid</li>
  <li>*.WAVEARCHIVE.fsid</li>
  <li>*.WSDSET.fsid</li>
</ul>
<h3 id="Anchor_83956133_h3_7">中間バイナリファイル</h3>
<p>コンバート時に作成される .bfstm, .bfwar 等の中間バイナリファイルです。<br />サウンドプロジェクトフォルダ内の &quot;cache&quot; フォルダにまとめて出力されます。</p>
<p>プロジェクト設定により、中間バイナリファイルをキャッシュフォルダに出力するかどうかを設定できます。</p>
<p>再コンバート時には、キャッシュフォルダ内のファイルはすべて削除されます。</p>
<h3 id="Anchor_83956133_h3_8">HTMLサウンドリスト</h3>
<p>コンバートを行ったプロジェクトの内容から、html 形式のサウンドリストを自動生成します。<br />サウンドリストに出力する項目は、「<a href="../Pages/Page_83956179.html#Anchor_83956179_PRJ_DLG_HTML_LIST">プロジェクト設定ダイアログ - HTMLサウンドリスト</a>」から自由に選ぶことができます。<br />サウンドプロジェクトフォルダに、サウンドプロジェクトファイルと同名で、拡張子 .html として出力されます。</p>
<p>インストルメントリストの html 形式ファイルは、コンバート時には出力されません。「<a href="../Pages/Page_83955548.html#Anchor_83955548_BANK-OUTPUT_HTML_INST">バンク - HTMLインストルメントリストの出力</a>」を参照してください。</p>
<h3 id="Anchor_83956133_h3_9">MAPファイル</h3>
<p>コンバート時に作成されるサウンドアーカイブマップファイルです。</p>
<p>[サウンドアーカイブの出力先] フォルダに、サウンドプロジェクトファイルと同名の xml 形式のファイルと、サウンドプロジェクトファイル名の後ろに &quot;Map&quot; を付加した名前の html 形式のファイルとして出力されます。</p>
<p>ファイル内の構成は</p>
<ul>
  <li>グループリスト</li>
  <li>ファイルリスト</li>
  <li>バイナリマップ</li>
</ul>
<p>の 3 種類です。</p>
<p>マップファイルから、ROM サイズ、ヘッダサイズ、バンク容量、波形容量（波形アーカイブ容量）などがわかります。<br /> 以下に &quot;Binary Map&quot; 項目の Name と各容量の関係の例を示します。</p>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>種類</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SoundArchiveBinaryFile</td>
      <td>ROM サイズ</td>
    </tr>
    <tr>
      <td>InfoBlock</td>
      <td>ヘッダサイズ</td>
    </tr>
    <tr>
      <td>../cache/BANK_BGM.bfbnk</td>
      <td>バンクサイズ</td>
    </tr>
    <tr>
      <td>../cache/WARC_SAMPLE.bfwar</td>
      <td>波形アーカイブサイズ</td>
    </tr>
  </tbody>
</table>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
