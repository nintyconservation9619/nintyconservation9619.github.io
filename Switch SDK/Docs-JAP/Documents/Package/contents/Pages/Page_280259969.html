<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>部品アニメーションの作成</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 部品アニメーションの作成 -->
<div class="pagetitle" id="PageId_280259969">部品アニメーションの作成</div>
<div class="text_separate">
<h1 id="Anchor_280259969_h1_1">部品アニメーションの作成</h1>
<p>ここでは「部品アニメーション」の作成手順について、「部品レイアウト」のセレクトボタンを例に説明します。</p>
<h2 id="Anchor_280259969_h2_1">作業の準備</h2>
<p>あらかじめ LayoutEditor を起動した状態から、レイアウトデータ作成にあたっての準備を行います。</p>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> LayoutEditor の起動方法については<strong> <a href="../Pages/Page_104494523.html">「作業の流れ」</a> </strong>を参照してください。</p>
<h2 id="Anchor_280259969_h2_2">ウインドウを開く</h2>
<p>以下のウインドウが開いた状態から作業を開始します。</p>
<ul>
  <li>部品パレット</li>
  <li>部品・コントロール設定</li>
  <li>親子階層</li>
  <li>プロパティウインドウ</li>
  <li>グループウインドウ</li>
</ul>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> 各ウインドウの UI については<strong> <a href="../Pages/Page_195578410.html">「ウインドウ」</a> </strong>を参照してください。</p>
<h2 id="Anchor_280259969_h2_3">部品レイアウトを開く</h2>
<p>「Menu.flyt」と関連する部品「Menu_Bar.flyt」を「部品パレット」から開きます。</p>
<p>「部品パレット」リストの「Menu_Bar.flyt」でマウス右ボタンクリックで開くメニューから「開く」を選択します。<br />LayoutEditor に「Menu_Bar.flyt」が読み込まれます。</p>
<h2 id="Anchor_280259969_h2_4">部品を「ボタン」として利用</h2>
<p>部品「Menu_Bar.flyt」をボタンとして利用する為に、「部品・コントロール設定」ウインドウを設定します。<br />「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909760.png" height="18" class="embedded-image" /></span> 参照ボタン」を押して「コントロールの設定」ダイアログを開きます。<br />「コントロールの種類」を以下のように変更します。</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>コントロールの種類</th>
      <td> 標準ボタン [NormalButton]</td>
    </tr>
  </tbody>
</table>
<p>「コントロールの設定」ダイアログの OK ボタンを押してダイアログを閉じます。<br />「部品・コントロール設定ウインドウ」の設定項目が変更されました。<br />「部品ペイン」をボタンとして利用する「機能アニメーション」の機能が利用できます。</p>
<p>この段階で「機能ペイン」と「機能アニメーション」に「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/286745047.png" height="14" class="embedded-image" /></span> 警告マーク」が表示されていることを確認します。</p>
<h2 id="Anchor_280259969_h2_5">マウスカーソルとボタンのあたり設定</h2>
<p>「機能ペイン」でマウスカーソルとのあたり判定として、境界ペイン「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909759.png" height="16" class="embedded-image" /></span> Bounding」を指定します。<br />境界ペインの矩形範囲がボタンの判定領域となります。</p>
<table class="wrapped">
  <colgroup> <col style="width: 73.0px;" /> <col style="width: 82.0px;" /> </colgroup>
  <tbody>
    <tr>
      <th>名前</th>
      <th>ペイン名</th>
    </tr>
    <tr>
      <td>Hit</td>
      <td>Bounding</td>
    </tr>
  </tbody>
</table>
<p>この段階で「機能ペインに」で表示されていた「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/286745047.png" height="14" class="embedded-image" /></span> 警告マーク」が<strong>消える</strong>ことを確認します。</p>
<h2 id="Anchor_280259969_h2_6">ボタンの機能に対応するアニメーションの設定</h2>
<p>「機能アニメーション」でボタンの機能に対応して再生するアニメーションと再生範囲を「区間タグ」の単位で設定します。</p>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/283013139.png" width="28" class="embedded-image" /></span> 区間タグ生成」ボタンを押します。<br />「機能アニメーションで使用する区間タグの生成と設定」ウインドウですべての機能アニメーションの名前にチェックを入れて「OK」ボタンを押します。<br />以下のように、ボタンの機能に合わせた区間タグが自動で設定されます。</p>
<p>この段階では以下のように<strong><span style="color: rgb(255,0,0);">赤文字</span></strong>で表示され、エラーの状態です。</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>名前</th>
      <th>区間タグ</th>
    </tr>
    <tr>
      <td>
        <span style="color: rgb(255,0,0);">OnOff</span>
      </td>
      <td>
        <span style="color: rgb(255,0,0);">OnOff</span>
      </td>
    </tr>
    <tr>
      <td>
        <span style="color: rgb(255,0,0);">Down</span>
      </td>
      <td>
        <span style="color: rgb(255,0,0);">Down</span>
      </td>
    </tr>
    <tr>
      <td>
        <span style="color: rgb(255,0,0);">Disable</span>
      </td>
      <td>
        <span style="color: rgb(255,0,0);">Disable</span>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> 「機能アニメーションで使用する区間タグの生成と設定」については<strong><a href="../Pages/Page_124020270.html">こちら</a></strong>を参照してください。</p>
<h2 id="Anchor_280259969_h2_7">グループの設定</h2>
<p>「グループ」ウインドウで、アニメーションを設定するペインのグループを作成します。<br />以下はグループの作成手順です。</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>1</th>
      <td>
        <div class="content-wrapper">
          <p>「親子階層」ウインドウで以下のノードを選択します。<br />「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909761.png" height="16" class="embedded-image" /></span> N_Menu」「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span> Band」「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span> Band_Fade」「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909763.png" height="16" class="embedded-image" /></span> Select」「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/276909764.png" height="16" class="embedded-image" /></span> Text」</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>2</th>
      <td>マウス右クリックで開くメニューから、「グループを作成」を選択します。</td>
    </tr>
    <tr>
      <th>3</th>
      <td>
        <div class="content-wrapper">
          <p>「グループ」ウインドウをで、「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/284305935.png" width="16" class="embedded-image" /></span> G_group_00」を選択し、マウス右クリックで開くメニューから「選択グループの編集」を選択します。<br />「選択グループの編集」ダイアログを開きます。</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>4</th>
      <td>グループ名を「Button」に変更し、OKボタンを押して「選択グループの編集」ダイアログを閉じます。</td>
    </tr>
    <tr>
      <th>5</th>
      <td>
        <div class="content-wrapper">
          <p>「グループ」ウインドウで「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/284305935.png" width="16" class="embedded-image" /></span> Button」を確認します。</p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> 「グループ」機能については<a href="../Pages/Page_238478721.html"> <strong>こちら</strong> </a>を参照してください。</p>
<h2 id="Anchor_280259969_h2_8">アニメーション区間タグの設定</h2>
<p>「アニメーション区間編集」ウインドウで「区間タグ」を設定します。<br />「区間タグ」ごとに、アニメーションの再生範囲とアニメーションを再生するペインのグループを設定します。</p>
<p>「アニメーション区間タグ編集」ウインドウのツールバーで「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/241542776.png" height="16" class="embedded-image" /></span> 結合モード」であることを確認します。<br />ウインドウ右側のフレーム区間でアニメーション区間タグの設定を以下のように変更します。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>番号</th>
      <th style="text-align: center;">名前</th>
      <th>区間</th>
      <th>コメント</th>
    </tr>
    <tr>
      <td>
        <p>0</p>
      </td>
      <td>OnOff</td>
      <td>0 - 4</td>
      <td>マウスをボタン上に移動させたときのアニメーションを設定します。</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Down</td>
      <td>14 - 22</td>
      <td>マウスでボタンを押したときのアニメーションを設定します。</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Disable</td>
      <td>32 - 34</td>
      <td>ボタンが無効のときのアニメーションを設定します。</td>
    </tr>
  </tbody>
</table>
<p>以下の手順でアニメーション区間タグに関連グループを設定します。<br />この操作を作成したアニメーション区間タグ「OnOff」「Down」「Disable」すべてで行います。</p>
<table class="wrapped">
  <colgroup> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>1</th>
      <td>アニメーション区間タグを選択した状態で「関連グループを指定」ボタンを押し、「グループ選択」ウインドウを開きます。</td>
    </tr>
    <tr>
      <th>2</th>
      <td>「グループ選択」ウインドウで「Button」にチェックを入れ OK ボタンを押すことで関連グループが設定されます。</td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> 「アニメーション区間タグ編集」ウインドウについては<strong> <a href="../Pages/Page_111807434.html">こちら</a> </strong>を参照してください。</p>
<h2 id="Anchor_280259969_h2_9">アニメーションの設定</h2>
<p>「アニメーション区間タグ編集」ウインドウで設定したアニメーションの再生範囲に合わせ、アニメーションを作成します。</p>
<h3 id="Anchor_280259969_h3_1">「OnOff」のアニメーションを作成する</h3>
<p>区間タグ「OnOff」のアニメーションを作成します。<br />「アニメーション区間タグ編集」ウインドウでアニメーション区間タグ「OnOff」を選択します。</p>
<p>以下のように「親子階層」ウインドウで「ペイン名」のペインを選択します。<br />「カーブエディタ」ウインドウで各要素にキーを設定することでアニメーションを作成します。</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>ペイン名</th>
      <th>要素</th>
      <th>キー時間 = キーの値</th>
      <th>スロープ設定</th>
    </tr>
    <tr>
      <th rowspan="2">N_Menu</th>
      <th>スケール/X</th>
      <td>
        <p>0f = 1.00 , 1f = 1.10</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>スケール/Y</th>
      <td>
        <p>0f = 1.00 , 1f = 1.10</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th rowspan="3">Band<br /><br /></th>
      <th>白カラー/R</th>
      <td>
        <p>0f = 8.00 , 4f = 0.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>白カラー/G</th>
      <td>
        <p>0f = 8.00 , 4f =128.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>白カラー/B</th>
      <td>
        <p>0f = 8.00 , 4f = 0.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>Band_Fade</th>
      <th>表示・非表示</th>
      <td>
        <p>0f = 0.00 , 4f = 0.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>Select</th>
      <th>透明度</th>
      <td>
        <p>0f = 0.00 , 4f = 255.00</p>
      </td>
      <td>線形補間</td>
    </tr>
  </tbody>
</table>
<p>以下はこの段階での LayoutViewer の見え方です。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_113819952/286744093.gif" width="520" height="100" class="embedded-image" />
  </span>
</p>
<p>「部品・コントロール設定」ウインドウを確認します。<br />「機能アニメーション」で「OnOff」の項目が<strong>黒文字</strong>で表示され、エラーが解消されていることを確認します。</p>
<h3 id="Anchor_280259969_h3_2">「Down」のアニメーションを作成する</h3>
<p>区間タグ「Down」のアニメーションを作成します。<br />「アニメーション区間タグ編集」ウインドウでアニメーション区間タグ「Down」を選択します。</p>
<p>以下のように「親子階層」ウインドウで「ペイン名」のペインを選択します。<br />「カーブエディタ」ウインドウで各要素にキーを設定することでアニメーションを作成します。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>ペイン名</th>
      <th>要素</th>
      <th>キー時間 = キーの値</th>
      <th>スロープ設定</th>
    </tr>
    <tr>
      <th rowspan="2">N_Menu</th>
      <th>スケール/X</th>
      <td>
        <p>14f = 1.10 , 22f = 0.90</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>スケール/Y</th>
      <td>
        <p>14f = 1.10 , 18f = 0.90 , <span style="color: rgb(72,72,72);">22f = 0.90</span></p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th rowspan="3">Band<br /><br /></th>
      <th>白カラー/R</th>
      <td>
        <p>14f = 8.00 , 15f = 255.00 , 22f = 8.00</p>
      </td>
      <td rowspan="3">
        <p>スプライン<br />（※）</p>
      </td>
    </tr>
    <tr>
      <th>白カラー/G</th>
      <td>
        <p>14f = 8.00 , 15f = 255.00 , 22f = 8.00</p>
      </td>
    </tr>
    <tr>
      <th>白カラー/B</th>
      <td>
        <p>14f = 8.00 , 15f = 255.00 , 22f = 8.00</p>
      </td>
    </tr>
    <tr>
      <th rowspan="3">Text<br /><br /></th>
      <th>白カラー/R</th>
      <td>
        <p>14f = 255.00 , 22f = 32.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>白カラー/G</th>
      <td>
        <p>14f = 255.00 , 22f = 32.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>白カラー/B</th>
      <td>
        <p>14f = 255.00 , 22f = 32.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>Select</th>
      <th>透明度</th>
      <td>
        <p>14f = 255.00 , 18f = 255.00 , 22f = 0.00</p>
      </td>
      <td>線形補間</td>
    </tr>
  </tbody>
</table>
<p>「Band」の「白カラー/R,G,B」は 15f のキーのスロープがスプラインです。<br />スロープ形状は、以下のカーブを参考に、LayoutViewer を確認しながら編集します。</p>
<table class="wrapped">
  <colgroup>
    <col style="width: 511.0px;" />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">カーブエディタ</th>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <p style="text-align: center;">
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_83955988/282991811.png" width="484" height="250" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
    </tr>
    <tr>
      <th style="text-align: center;">LayoutViewer</th>
    </tr>
    <tr>
      <td style="text-align: center;">
        <div class="content-wrapper">
          <p>
            <span class="embedded-file-wrapper ">
              <img src="../Attachments/Attach_113819952/286744126.gif" width="520" height="100" class="embedded-image" />
            </span>
          </p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<p>「部品・コントロール設定」ウインドウを確認します。<br />「機能アニメーション」で「Down」の項目が<strong>黒文字</strong>で表示され、エラーが解消されていることを確認します。</p>
<h3 id="Anchor_280259969_h3_3">「Disable」のアニメーションを作成する</h3>
<p>区間タグ「Disable」のアニメーションを作成します。<br />「アニメーション区間タグ編集」ウインドウでアニメーション区間タグ「Disable」を選択します。</p>
<p>以下のように「親子階層」ウインドウで「ペイン名」のペインを選択します。<br />「カーブエディタ」ウインドウで各要素にキーを設定することでアニメーションを作成します。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>ペイン名</th>
      <th>要素</th>
      <th>キー時間 = キーの値</th>
      <th>スロープ設定</th>
    </tr>
    <tr>
      <th rowspan="2">N_Menu</th>
      <th>スケール/X</th>
      <td>
        <p>32f = 1.10 , 34f = 1.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th>スケール/Y</th>
      <td>
        <p>32f = 1.10 , 34f = 1.00</p>
      </td>
      <td>線形補間</td>
    </tr>
    <tr>
      <th rowspan="3">Band<br /><br /></th>
      <th>白カラー/R</th>
      <td>
        <p>32f = 8.00 , 34f = 8.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>白カラー/G</th>
      <td>
        <p>32f = 8.00 , 34f = 8.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>白カラー/B</th>
      <td>
        <p>32f = 8.00 , 34f = 8.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th rowspan="4">Band_Fade<br /><br /><br /></th>
      <th>表示・非表示</th>
      <td>
        <p>32f = 0.00 , 34f = 0.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>白カラー/R</th>
      <td>
        <p>32f = 8.00 , 34f = 8.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>白カラー/G</th>
      <td>
        <p>32f = 8.00 , 34f = 8.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>白カラー/B</th>
      <td>
        <p>32f = 8.00 , 34f = 8.00</p>
      </td>
      <td>なし</td>
    </tr>
    <tr>
      <th>Select</th>
      <th>透明度</th>
      <td>
        <p>32f = 255.00 , 34f = 0.00</p>
      </td>
      <td>線形補間</td>
    </tr>
  </tbody>
</table>
<p>「部品・コントロール設定」ウインドウを確認します。<br />「機能アニメーション」で「Disable」の項目が<strong>黒文字</strong>で表示され、エラーが解消されていることを確認します。<br />この段階で「機能アニメーション」の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/286745047.png" height="14" class="embedded-image" /></span> 警告マーク」が<strong>消える</strong>ことを確認します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_113819952/286744181.gif" width="520" height="100" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_280259969_h2_10">バイナリ出力の設定</h2>
<p>「アニメーション区間タグ編集」ウインドウで、バイナリ出力の対象となるアニメーション項目を設定します。<br />「バイナリ出力」の設定が以下のようになっていることを確認します。</p>
<table class="wrapped">
  <colgroup> <col /> <col /> <col /> <col /> </colgroup>
  <tbody>
    <tr>
      <th>番号</th>
      <th>名前</th>
      <th>バイナリ出力</th>
      <th>再生モード</th>
    </tr>
    <tr>
      <td>
        <p>0</p>
      </td>
      <td>OnOff</td>
      <td>する</td>
      <td>ワンタイム</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Down</td>
      <td>する</td>
      <td>
        <p>ワンタイム</p>
      </td>
    </tr>
    <tr>
      <td>2</td>
      <td>Disable</td>
      <td>する</td>
      <td>ワンタイム</td>
    </tr>
  </tbody>
</table>
<p>「対象ペインのキーから自動設定」ボタンを押します。<br />キー情報のないアニメーションを出力対象から除外し、メモリや計算負荷を軽減します。<br />この操作を作成したアニメーション区間タグ「OnOff」「Down」「Disable」すべてで行います。</p>
<h2 id="Anchor_280259969_h2_11">完成イメージ</h2>
<p>以下は完成した部品アニメーションです。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_113819952/286744180.gif" height="100" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_280259969_h2_12">レイアウトデータの保存</h2>
<p>編集内容を保存します。<br /> メインメニュー[ ファイル ] &rarr; [ 保存 ] で「Menu_Bar.flyt」に編集内容を保存します。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
