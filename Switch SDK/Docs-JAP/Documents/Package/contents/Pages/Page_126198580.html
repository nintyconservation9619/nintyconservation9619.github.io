<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>プログラマ向け変更点</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- プログラマ向け変更点 -->
<div class="pagetitle" id="PageId_126198580">プログラマ向け変更点</div>
<div class="text_separate">
<h1 id="Anchor_126198580_h1_1"> プログラマ向け グラフィックスの変更点</h1>
<p>NintendoSDK 0.11.0 で行われた NintendoWare グラフィックスのプログラマ向け変更点について説明します。<br />NintendoWare グラフィックスは、以下のモジュールのことを指します。</p>
<ul>
  <li>
    <span class="ApiLink_nn__g3d">nn::g3d</span>
  </li>
  <li>
    <span class="ApiLink_nn__ui2d">nn::ui2d</span>
  </li>
  <li>
    <span class="ApiLink_nn__font">nn::font</span>
  </li>
  <li>
    <span class="ApiLink_nn__vfx">nn::vfx</span>
  </li>
</ul>
<p>NintendoSDK 0.8.0 で行われた NintendoWare グラフィックス の大規模な変更に関しては、<a href="../Pages/Page_99804825.html">NintendoWare グラフィックス の変更点 0.8.0</a> を参照ください。</p>
<h2 id="Anchor_126198580_h2_1">目次</h2>
<p>
  <ul class="macro_toc">
    <li>
      <a href="#Anchor_126198580_h2_1">目次</a>
    </li>
    <li>
      <a href="#Anchor_126198580_h2_2">グラフィックスランタイム共通の変更点</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_126198580_h3_1">コマンドラインコンバータオプションの仕様変更について　    </a>
      </li>
    </ul>
    <li>
      <a href="#Anchor_126198580_h2_3">ui2d/font ランタイムの主な変更点</a>
    </li>
    <ul>
      <li>
        <a href="#Anchor_126198580_h3_2">font ライブラリを最適化し消費メモリを削減しました</a>
      </li>
    </ul>
  </ul>
</p>
<p>&nbsp;</p>
<h2 id="Anchor_126198580_h2_2">グラフィックスランタイム共通の変更点</h2>
<h3 id="Anchor_126198580_h3_1">コマンドラインコンバータオプションの仕様変更について　<span class="status_macro_base status_macro_Yellow">3D</span>&nbsp; <span class="status_macro_base status_macro_Green">ui2d/font</span>&nbsp; <span class="status_macro_base status_macro_Blue">VFX</span></h3>
<p>コマンドラインコンバータオプションの仕様変更が行われました。</p>
<p>3D / Ui2d / Font / Vfx それぞれで指定するコンバータオプションは、各コマンドラインコンバータが呼び出す グラフィックスツール( ShaderConverter / TextureConverter ) のコンバータオプションに準拠します。 旧来の Ui2d / Font / Vfx 各コマンドラインツールでサポートされていた -p コンバータオプションは、本リリースでも利用可能ですが将来廃止される予定ですので、乗り換えをお願いいたします。</p>
<p>詳しくは各コンバータのドキュメントを参照してください。</p>
<table class="table">
  <tbody>
    <tr>
      <th>&nbsp;</th>
      <th style="text-align: center;">--api-type</th>
      <th style="text-align: center;">--code-type</th>
      <th style="text-align: center;">--tile-mode</th>
    </tr>
    <tr>
      <th>Windows版 x64</th>
      <td style="text-align: center;">
        <strong>Gl</strong>
      </td>
      <td style="text-align: center;">
        <strong>Binary_Source</strong> or <strong>Source</strong></td>
      <td style="text-align: center;">
        <strong>Linear</strong>
      </td>
    </tr>
    <tr>
      <th>Windows版 Win32</th>
      <td style="text-align: center;">
        <strong>Gl</strong>
      </td>
      <td style="text-align: center;">
        <strong>Binary_Source</strong> or <strong>Source</strong></td>
      <td style="text-align: center;">
        <strong>Linear</strong>
      </td>
    </tr>
  </tbody>
</table>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="gutter">1<br />
2<br />
3<br />
4<br />
5</td>
      <td class="code">
        <div class="codeblock"><pre><span class="p">[</span><span class="err">仕様変更前</span><span class="p">]</span>
<span class="n">EffectMaker</span><span class="p">.</span><span class="n">exe</span> <span class="o">--</span><span class="n">convlist</span> <span class="n">ConvertList</span><span class="p">.</span><span class="n">xml</span> <span class="o">-</span><span class="n">o</span> <span class="n">EffectBinary</span><span class="p">.</span><span class="n">ptcl</span> <span class="o">-</span><span class="n">p</span> <span class="n">Win</span>

<span class="p">[</span><span class="err">仕様変更後</span><span class="p">]</span>
<span class="n">EffectMaker</span><span class="p">.</span><span class="n">exe</span> <span class="o">--</span><span class="n">convlist</span> <span class="n">ConvertList</span><span class="p">.</span><span class="n">xml</span> <span class="o">-</span><span class="n">o</span> <span class="n">EffectBinary</span><span class="p">.</span><span class="n">ptcl</span> <span class="o">--</span><span class="n">api</span><span class="o">-</span><span class="n">type</span> <span class="n">Gl</span> <span class="o">--</span><span class="n">code</span><span class="o">-</span><span class="n">type</span> <span class="n">Source</span> <span class="o">--</span><span class="n">tile</span><span class="o">-</span><span class="n">mode</span> <span class="n">Linear</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span>
</p>
<table class="table">
  <tbody>
    <tr>
      <th> <span class="sv-ti-title-text">  <a href="../Pages/Page_95696747.html">プラットフォーム固有の情報</a>  </span> </th>
      <td>Windows / OpenGL 以外のバイナリ出力を行う際のコンバータオプションについてまとめられています。</td>
    </tr>
  </tbody>
</table>
<p class="release_note">&nbsp;</p>
<h2 id="Anchor_126198580_h2_3">ui2d/font ランタイムの主な変更点</h2>
<h3 id="Anchor_126198580_h3_2">font ライブラリを最適化し消費メモリを削減しました</h3>
<p class="release_note" style="margin-top: 8.0px; margin-right: 12.0px; margin-left: 44.0px; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">フォントライブラリが頂点バッファを使用しないように内部実装を変更し消費メモリ量を改善しました。<br />この変更に伴い以下のように仕様が変更されています。</p>
<ul style="margin: 24.0px 12.0px 27.0px 3.0em; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">
  <li style="margin: 0.0px; padding: 0.0px; list-style-type: disc;">実装の都合により CharAttribute 共有機能を廃止</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">頂点バッファが不要になったため頂点バッファ関連のインターフェイス・実装を削除</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__VertexBufferAdditionalContent">nn::font::VertexBufferAdditionalContent</span>&nbsp;を削除し同様の設定を&nbsp; nn::font::ConstantBufferAdditionalContent &nbsp;に移設</li>
</ul>
<p>CharAttribute 共有機能が廃止になっていますが、廃止による増加分を含めても消費メモリ量は以前より削減されています。</p>
<p class="release_note" style="margin-top: 8.0px; margin-right: 12.0px; margin-left: 44.0px; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">以下の公開インターフェイスを削除しました。</p>
<ul style="margin: 24.0px 12.0px 27.0px 3.0em; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">
  <li style="margin: 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__CharWriter__GetDispStringBufferSizeWithSharedCharAttrs">nn::font::CharWriter::GetDispStringBufferSizeWithSharedCharAttrs</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__CharWriter__GetVertexBufferSize">nn::font::CharWriter::GetVertexBufferSize</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__CharWriter__InitializeDispStringBufferWithSharedCharAttrs">nn::font::CharWriter::InitializeDispStringBufferWithSharedCharAttrs</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__InitializeArg__SetVertexBuffer">nn::font::DispStringBuffer::InitializeArg::SetVertexBuffer</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__InitializeArg__SetSharedCharAttrsEnabled">nn::font::DispStringBuffer::InitializeArg::SetSharedCharAttrsEnabled</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__GetRequiredVertexBufferSize">nn::font::DispStringBuffer::GetRequiredVertexBufferSize</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__IsUseSharedCharAttrs">nn::font::DispStringBuffer::IsUseSharedCharAttrs</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__SetUseSharedCharAttrs">nn::font::DispStringBuffer::SetUseSharedCharAttrs</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__CalculateVertexBufferSize">nn::font::DispStringBuffer::CalculateVertexBufferSize</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__SetVertexBuffer">nn::font::DispStringBuffer::SetVertexBuffer</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__GetVertexBufferGpuAddress">nn::font::DispStringBuffer::GetVertexBufferGpuAddress</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__CopyVertexBufferData">nn::font::DispStringBuffer::CopyVertexBufferData</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__BuildVertexBufferData">nn::font::DispStringBuffer::BuildVertexBufferData</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__font__DispStringBuffer__BuildAndBindVertexBuffer">nn::font::DispStringBuffer::BuildAndBindVertexBuffer</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__DrawInfo__SetFontVertexBuffe">nn::ui2d::DrawInfo::SetFontVertexBuffe</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__DrawInfo__GetFontVertexBuffer">nn::ui2d::DrawInfo::GetFontVertexBuffer</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__Layout__BuildOption__isShareTextBoxCharAttributeBuffer">nn::ui2d::Layout::BuildOption::isShareTextBoxCharAttributeBuffer</span>
  </li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__Layout__GetSharedCharAttrs">nn::ui2d::Layout::GetSharedCharAttrs</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__Layout__SetCharAttributeCountMax">nn::ui2d::Layout::SetCharAttributeCountMax</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__Layout__GetCharAttributeCountMax">nn::ui2d::Layout::GetCharAttributeCountMax</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__Layout__SetSharedCharAttrs">nn::ui2d::Layout::SetSharedCharAttrs</span>()</li>
  <li style="margin: 5.0px 0.0px 0.0px; padding: 0.0px; list-style-type: disc;">
    <span class="ApiLink_nn__ui2d__TextBox__IsShareCharAttributeBuffer">nn::ui2d::TextBox::IsShareCharAttributeBuffer</span>()</li>
</ul>
<p class="release_note" style="margin-top: 8.0px; margin-right: 12.0px; margin-left: 44.0px; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">以下の公開インターフェイスの引数を変更しました。</p>
<ul style="margin: 24.0px 12.0px 27.0px 3.0em; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">
  <li style="margin: 0.0px; padding: 0.0px; list-style-type: disc;">nn::ui2d::TextBox::AllocateStringBuffer()</li>
</ul>
<p class="release_note" style="margin-top: 8.0px; margin-right: 12.0px; margin-left: 44.0px; padding: 0.0px; color: rgb(33,33,33); letter-spacing: 1.0px;">今回の変更に対応する際は無くなったインターフェイスや引数を削除してください。<br />また、nn::font::VertexBufferAdditionalContent が削除され内容が nn::font::ConstantBufferAdditionalContent に移設されていますので<br /> 移設されたパラメータが更新された際はコンスタントバッファの更新処理(nn::font::DispStringBuffer::BuildConstantBuffer)を呼び出すようにしてください。</p>
<p>&nbsp;</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
<!--AddLink-->
<script>
var NintendoSdkApiRefernce = {
    idMap: {},
    linkRewrite: function ()
    {
        var idMap = NintendoSdkApiRefernce.idMap;
        function rewrite(el)
        {
            var e = idMap[el.className];
            if (e === undefined)
            {
                return;
            }
            var html = '';
            html += '<a href=';
            html += e.url;
            html += ' target="_blank">';
            html += el.innerHTML;
            html += '</a>';
            el.innerHTML = html;
        }
        var apiLinkElems = document.querySelectorAll('span[class*="ApiLink_"]');
        for (var i = 0, n = apiLinkElems.length; i< n; ++i) {
            rewrite(apiLinkElems[i]);
        }
    }
};
function SetUrl( id, url )
{
    NintendoSdkApiRefernce.idMap[id] = { url: url };
}
SetUrl( 'ApiLink_nn__g3d', '../../../Api/HtmlNX/namespacenn_1_1g3d.html' )
SetUrl( 'ApiLink_nn__ui2d', '../../../Api/HtmlNX/namespacenn_1_1ui2d.html' )
SetUrl( 'ApiLink_nn__font', '../../../Api/HtmlNX/namespacenn_1_1font.html' )
SetUrl( 'ApiLink_nn__vfx', '../../../Api/HtmlNX/namespacenn_1_1vfx.html' )
// ApiLink_nn__font__VertexBufferAdditionalContent
// ApiLink_nn__font__CharWriter__GetDispStringBufferSizeWithSharedCharAttrs
// ApiLink_nn__font__CharWriter__GetVertexBufferSize
// ApiLink_nn__font__CharWriter__InitializeDispStringBufferWithSharedCharAttrs
// ApiLink_nn__font__DispStringBuffer__InitializeArg__SetVertexBuffer
// ApiLink_nn__font__DispStringBuffer__InitializeArg__SetSharedCharAttrsEnabled
// ApiLink_nn__font__DispStringBuffer__GetRequiredVertexBufferSize
// ApiLink_nn__font__DispStringBuffer__IsUseSharedCharAttrs
// ApiLink_nn__font__DispStringBuffer__SetUseSharedCharAttrs
// ApiLink_nn__font__DispStringBuffer__CalculateVertexBufferSize
// ApiLink_nn__font__DispStringBuffer__SetVertexBuffer
// ApiLink_nn__font__DispStringBuffer__GetVertexBufferGpuAddress
// ApiLink_nn__font__DispStringBuffer__CopyVertexBufferData
// ApiLink_nn__font__DispStringBuffer__BuildVertexBufferData
// ApiLink_nn__font__DispStringBuffer__BuildAndBindVertexBuffer
// ApiLink_nn__ui2d__DrawInfo__SetFontVertexBuffe
// ApiLink_nn__ui2d__DrawInfo__GetFontVertexBuffer
// ApiLink_nn__ui2d__Layout__BuildOption__isShareTextBoxCharAttributeBuffer
// ApiLink_nn__ui2d__Layout__GetSharedCharAttrs
// ApiLink_nn__ui2d__Layout__SetCharAttributeCountMax
// ApiLink_nn__ui2d__Layout__GetCharAttributeCountMax
// ApiLink_nn__ui2d__Layout__SetSharedCharAttrs
// ApiLink_nn__ui2d__TextBox__IsShareCharAttributeBuffer

NintendoSdkApiRefernce.linkRewrite();
</script>
<!--AddLink-->
</body>
</html>
