<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>複合フォント</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 複合フォント -->
<div class="pagetitle" id="PageId_126562941">複合フォント</div>
<div class="text_separate">
<h1 id="Anchor_126562941_h1_1">複合フォント</h1>
<p>「複合フォント」とは、以下のように複数のフォントを合わせて一つのフォントとして扱うフォントです。</p>
<p>LayoutEditor やプログラム上からスケーラブルフォントを扱う際の最も標準的な機能で、組み合わせない単体のスケーラブルフォントを扱う場合もこの機能がお使い頂けます。<br />組み合わせられるフォントは、スケーラブルフォント（ttf/otf/bfttf）と、ビットマップフォント（bffnt） です。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955988/244371978.png" class="embedded-image" />
  </span>
</p>
<h2 id="Anchor_126562941_h2_1">複合フォントの使用例</h2>
<p>たとえば、以下のような組み合わせを実現することができます。</p>
<ul>
  <li>本体内蔵フォント(bfttf)に、数字の部分だけを別のスケーラブルフォントを組み合わせて一つのフォントとして使う</li>
  <li>単純に 1 つのスケーラブルフォントを読み込む</li>
  <li>スケーラブルフォントの外字領域に、ビットマップフォントで絵文字を組み合わせる</li>
</ul>
<h2 id="Anchor_126562941_h2_2">用語</h2>
<p>以下は複合フォントに関連する用語の解説とファイル拡張子です。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>複合フォント</th>
      <td>複数のフォントを合わせて一つのフォントとして扱うフォントです。（マルチスケーラブルフォントとペアフォントを合わせた総称）</td>
      <td>
        <br />
      </td>
    </tr>
    <tr>
      <th>マルチスケーラブルフォント</th>
      <td>複数のスケーラブルフォントをセットとして扱う複合フォントです。</td>
      <td>
        <br />
      </td>
    </tr>
    <tr>
      <th>ペアフォント</th>
      <td>2つのフォントを組み合わせたフォント。組み合わせることができるフォントは、スケーラブルフォントかビットマップフォントです。</td>
      <td>
        <br />
      </td>
    </tr>
    <tr>
      <th>
        <a href="../Pages/Page_126197670.html">スケーラブルフォント</a>
      </th>
      <td>表示する際に、任意のサイズに拡大・縮小（スケール）することができるフォントです。</td>
      <td>ttf/otf/bfttf</td>
    </tr>
    <tr>
      <th>ビットマップフォント</th>
      <td>
        <div class="content-wrapper">
          <p>作成するときに指定した「固定サイズ」で表示されるフォントです。<br /><span class="status_macro_base status_macro_Blue">関連リンク</span> このフォントファイルは GUI ツール<strong><a href="../Pages/Page_83956036.html">「FontConverter」</a></strong>によって生成できます。</p>
        </div>
      </td>
      <td>bffnt</td>
    </tr>
    <tr>
      <th>複合フォント定義ファイル</th>
      <td>
        <div class="content-wrapper">
          <p>LayoutEditor や ローカライズツールが読み込んで、フォントを初期化するために利用するファイルです。<br /><span class="status_macro_base status_macro_Blue">関連リンク</span> この定義ファイルは GUI ツール<strong><a href="../Pages/Page_293025225.html">「FcpxMaker」</a></strong>によって生成できます。</p>
        </div>
      </td>
      <td>fcpx(font complex)</td>
    </tr>
    <tr>
      <th>複合フォント定義バイナリ</th>
      <td>
        <div class="content-wrapper">
          <p>プログラムで読み込んで、フォントを初期化するために利用するファイルです。<br /><span class="status_macro_base status_macro_Blue">関連リンク</span> この定義ファイルは<strong> <a href="../Pages/Page_83955930.html">「LayoutConverter」</a></strong> によって生成できます。</p>
        </div>
      </td>
      <td>bfcpx(binary font complex)</td>
    </tr>
  </tbody>
</table>
<h1 id="Anchor_126562941_h1_2">複合フォントの使い方</h1>
<p>「複合フォント」の使い方について説明します。</p>
<h2 id="Anchor_126562941_h2_3">複合フォント定義ファイル(fcpx)を作成する</h2>
<p>複合フォントは専用の複合フォント定義ファイル(fcpx)を作成し、その中で読み込むフォントや設定を定義します。 <br /> </p>
<h4 id="Anchor_126562941_h4_1">記述される内容</h4>
<p>例えばマルチスケーラブルフォントの場合は以下の項目の情報などを記述します。</p>
<ul style="list-style-type: square;">
  <li>フォント全体のサイズ</li>
  <li>各フォントごとに<ul style="list-style-type: square;"><li>ボールド（太字）ウェイト</li><li>ボーダー（縁取り）幅</li><li>フォントインデックス（ttcフォントの場合に使用するフォント番号）</li><li>フォントファイルのパス</li><li>使用する文字の範囲</li></ul></li>
</ul>
<h3 id="Anchor_126562941_h3_1">複合フォント定義ファイルの記述例</h3>
<p>複合フォント定義ファイルはXML形式で記述し、文字コード&nbsp;<strong>UTF-8&nbsp;</strong>で保存する必要があります。 <br />記述するパスは絶対パスもしくは複合フォント定義ファイルからの相対パスで記述できます。</p>
<table class="codeblock">
  <tbody>
    <tr>
      <td class="code">
        <div class="codeblock"><pre>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;complexFontDescription version=&quot;1.0.0&quot;&gt;
&nbsp;&nbsp;&lt;subFont&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;multiScalableFont size=&quot;40&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scalableFontDescriptionSet&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scalableFontDescription boldWeight=&quot;0&quot; borderWidth=&quot;2&quot; ttcFontIndex=&quot;0&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;path&gt;font/alphabet.ttf&lt;/path&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;charCodeRangeSet&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;charCodeRange first=&quot;65&quot; last=&quot;90&quot; /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;charCodeRange first=&quot;97&quot; last=&quot;122&quot; /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/charCodeRangeSet&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/scalableFontDescription&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scalableFontDescription boldWeight=&quot;0&quot; borderWidth=&quot;4&quot; ttcFontIndex=&quot;0&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;path&gt;font/kanji.ttf&lt;/path&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;charCodeRangeSet /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/scalableFontDescription&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/scalableFontDescriptionSet&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/multiScalableFont&gt;
&nbsp;&nbsp;&lt;/subFont&gt;
&lt;/complexFontDescription&gt;</pre></div>
      </td>
    </tr>
  </tbody>
</table>
<p>例として「Samples\Sources\Resources\Ui2d\ComplexFont\」以下に複合フォントファイル (.fcpx) を使ったサンプルを用意していますので、そちらも参考にしてください。</p>
<h3 id="Anchor_126562941_h3_2">フォントの選ばれ方について</h3>
<p>複数のフォントが記述された場合、描画する文字のグリフが存在して &lt;charCodeRange&gt; の範囲に合致したフォントのうち、最も上に書かれたフォントが選ばれます。</p>
<p>例えば上記例の場合、文字コードが 65～90、97～122 の範囲の文字(アルファベットに相当)では alphabet.ttf が使われ、それ以外の文字では kanji.ttf が使われます。</p>
<p>ただし 65～90、97～122 の範囲であっても、alphabet.ttf にグリフが存在しない文字では kanji.ttf が使われます。<br /></p>
<h3 id="Anchor_126562941_h3_3">複合フォント定義ファイルフォーマット</h3>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span>&nbsp;複合フォント定義ファイルの書き方の詳細については「<strong> <a href="../Pages/Page_126564110.html">複合フォント定義ファイルフォーマット</a> </strong>」をご確認ください。</p>
<h2 id="Anchor_126562941_h2_4">LayoutEditor に複合フォント定義ファイル(fcpx)を読み込んで利用する</h2>
<p>作成した複合フォント定義ファイル(fcpx)は、bffnt と同じようにテキストボックスペインに指定することが出来ます。 <br />複合フォント定義ファイルは以下の方法で読み込めます。</p>
<ul style="list-style-type: square;">
  <li>テキストボックスペイン作成時のフォントファイル名に複合フォント定義ファイルを指定する。</li>
  <li>作成済みのテキストボックスペインのプロパティウィンドウを開き、「フォント情報」-「フォントファイル名」の右のボタンから複合フォント定義ファイル を指定する。</li>
</ul>
<p>既にレイアウトで複合フォント定義ファイルが読み込まれている場合は、そのフォントファイル名で指定することも出来ます。 </p>
<h2 id="Anchor_126562941_h2_5">fcpx をゲームプログラムに読み込んで利用する</h2>
<p>fcpx を バイナリに変換し、ゲームプログラムに読み込んで利用できます。</p>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> 詳細については「<strong> <a href="../Pages/Page_126563699.html">レイアウトプログラムにおける複合フォントの利用</a> </strong>」をご確認ください。</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
