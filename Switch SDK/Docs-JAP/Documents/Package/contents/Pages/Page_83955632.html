<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script type="text/javascript" src="../template/js/jquery/jquery.js"></script>
<script type="text/javascript" src="../template/js/common/manualLib.js"></script>
<script type="text/javascript" src="../tocData.js"></script>
<link rel="stylesheet" type="text/css" href="../template/css/template.css" />
<title>炎をブラッシュアップする</title>
</head>
<body data-reassemble="autoindex=no,forceNoLabel=yes">
<div id="autoindex_content">
<div class="body_content">
<noscript>
<div style="border: 4px double black; margin: 4px; padding: 2px; font-weight: bold; background-color: #FFFFCC;">
<p>お使いのブラウザは JavaScript が使用できないため、本ドキュメントの一部機能が無効になっています。</p><p>JavaScript が無効の環境では目次を使用することができません。<br />JavaScriptの実行が許可された状態で閲覧してください。<br /><br /></p>
</div>
</noscript>
<div class="page_navigation_top">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
</table>
</div>
<div class="breadcrumb"></div>

<!-- 炎をブラッシュアップする -->
<div class="pagetitle" id="PageId_83955632">炎をブラッシュアップする</div>
<div class="text_separate">
<h1 id="Anchor_83955632_h1_1">炎をブラッシュアップする</h1>
<p>ここでは既存のエミッタセットにエミッタを追加する手順について説明します。<br /> <strong>     <span class="status_macro_base status_macro_Blue">関連リンク</span>     <a href="../Pages/Page_83955950.html">「炎を作る」</a> </strong>で作成した炎のエフェクトから放出される煙を作成します。<br />複数のエミッタを追加し、炎の表現に必要な要素を加えていくことで、エフェクトの表現を高めることが出来ます。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>エフェクト作成の準備</th>
      <td>煙のエフェクトを作成するための準備をします。</td>
    </tr>
    <tr>
      <th>エミッタの設定</th>
      <td>煙を発生させるエミッタを設定します。</td>
    </tr>
    <tr>
      <th>放出と初速の設定</th>
      <td>パーティクルの量と動きを調整し、煙の動きを作成します。</td>
    </tr>
    <tr>
      <th>パーティクルの設定</th>
      <td>煙のパーティクルが消えるタイミングを設定します。</td>
    </tr>
    <tr>
      <th>コンバイナの設定</th>
      <td>煙のパーティクルに貼りつけるテクスチャと、カラーやアルファの合成方法を設定します。</td>
    </tr>
    <tr>
      <th>テクスチャとカラーの設定</th>
      <td>パーティクルのテクスチャとカラーを調整します。</td>
    </tr>
    <tr>
      <th>スケールと回転の設定</th>
      <td>
        <p>煙の動きや揺らぎをパーティクルスケールと回転のアニメーションで設定します。</p>
      </td>
    </tr>
    <tr>
      <th>完成イメージ</th>
      <td>完成した炎エフェクトのイメージを確認します。</td>
    </tr>
  </tbody>
</table>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/83080783.gif" class="embedded-image" />
  </span>
</p>
<p>このチュートリアルではエミッタ同士の描画順を変更する手順と使用例について触れています。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th>
        <p> <a href="#Anchor_83955632_draworder">描画順の変更</a> </p>
      </th>
      <td>ワークスペース上にあるエミッタ同士を並び変え、エミッタ同士の描画順を制御します。</td>
    </tr>
  </tbody>
</table>
<div class="info_new">
  <div class="info_new_left">参考：</div>
  <div class="info_new_right">
    <p>完成データは以下の場所にあります。<br /> <strong>  \Samples\Sources\Resources\Vfx \Eset\Fire_05.eset </strong> <strong> <br /> </strong></p>
  </div>
</div>
<p>
  <a name="Anchor_83955632_ready"></a>
</p>
<h2 id="Anchor_83955632_h2_1">エフェクト作成の準備</h2>
<p>あらかじめ EffectMaker と EffectViewer を起動した状態から、エフェクト作成にあたっての準備を行います。</p>
<p>
  <strong>     <span class="status_macro_base status_macro_Blue">関連リンク</span>     </strong> EffectMaker と EffectViewer の起動方法については<strong> <a href="../Pages/Page_83956096.html">「作業の流れ」</a> </strong>を参照してください。</p>
<h3 id="Anchor_83955632_h3_1">エミッタセットの読み込み</h3>
<p>以下の手順で「炎を作る」において完成させたエフェクトを EffectMaker に読み込みます。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>1</th>
      <td>
        <div class="content-wrapper">メインメニュー項目 [ファイル]&rarr;[ <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079802.png" class="embedded-image" /></span> 開く]を選択します。</div>
      </td>
    </tr>
    <tr>
      <th>2</th>
      <td>
        <p>ウィンドウが開きますので、以下の場所からエミッタセットファイル（.eset）を選択し、ファイルを開きます。<br /> <strong>    \Samples\Sources\Resources\Vfx \Eset\Fire_04.eset </strong></p>
      </td>
    </tr>
    <tr>
      <th>3</th>
      <td>
        <div class="content-wrapper">
          <p>ワークスペースに「<strong>  <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span>  Fire_04</strong>」が読み込まれます。</p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <span class="status_macro_base status_macro_Blue">関連リンク</span> 以下は関連ページへのリンクです。 </p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <thead>
    <tr>
      <th>
        <a href="../Pages/Page_93356878.html">ワークスペース</a>
      </th>
      <td>
        <p>エフェクトを構成する各ノードを階層構造で表示する「ワークスペース」について説明します。</p>
      </td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>
        <a href="../Pages/Page_92116275.html">プロパティウィンドウ</a>
      </th>
      <td>ノードの操作やプレビューができる「ワークスペース」とノードの機能設定ができる UI から構成される「プロパティウィンドウ」について説明します。</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955632_h3_2">「背景画像」タブを選択する</h3>
<p>ワークスペース上で「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83080269.png" class="embedded-image" /></span> ビューアノード」を選択します。<br />プロパティウィンドウから「背景画像」タブを選択します。<br />ビューアで確認の為に使用する背景画像や背景色に関する設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_3">ビューアの背景カラーを設定する</h3>
<p>エフェクトが確認しやすい状態にする為、「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> 背景カラー・画像」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">R</th>
      <th>G</th>
      <th>B</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>背景カラー</strong>
      </td>
      <td>
        <strong>0.0</strong>
      </td>
      <td>
        <strong>0.004</strong>
      </td>
      <td>
        <strong>0.098</strong>
      </td>
      <td>ここでは黒い煙を作成する為、ビューアの背景色を変更しておくと確認しやすくなります。</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955632_h3_4">ビューアを確認する</h3>
<p>以下の様に、読み込んだ「炎」エフェクトがビューアに転送されていることを確認します。<br />以降はビューアで変化を確認しながらエフェクトを編集します。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/86706718.gif" class="embedded-image" />
  </span>
</p>
<h3 id="Anchor_83955632_h3_5">新規にエミッタを追加する</h3>
<p>以下の手順で新規にエミッタを追加します。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>1</th>
      <td>
        <div class="content-wrapper">ワークスペースでエミッタセット「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span> Fire_04」を選択します。</div>
      </td>
    </tr>
    <tr>
      <th>2</th>
      <td>
        <div class="content-wrapper">メインメニュー項目 [ファイル]&rarr;[新規作成]&rarr;[ <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079875.png" class="embedded-image" /></span> エミッタ] を選択します。</div>
      </td>
    </tr>
    <tr>
      <th>3</th>
      <td>
        <div class="content-wrapper">ダイアログが表示されますので、エミッタ名を<strong>「Smoke」</strong>と入力し「OK」ボタンを押します。<br />エミッタセット「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span> Fire_04」 直下にエミッタ「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Smoke」が追加されます。</div>
      </td>
    </tr>
  </tbody>
</table>
<p>以降はエミッタ「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Smoke」を選択した状態で説明します。</p>
<h2 id="Anchor_83955632_h2_2">エミッタの設定</h2>
<p>「煙」エフェクトのエミッタの形状は炎の幅と合わせて調整しやすい円に設定します。<br />また、エミッタの配置位置は「炎」の先端に設定します。</p>
<h3 id="Anchor_83955632_h3_6">「エミッタ」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「エミッタ」を選択します。エミッタに関する設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_7">「エミッタ」タブを設定する</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> エミッタ設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>エミッタ形状</strong>
      </td>
      <td>
        <strong>円（ボリューム）</strong>
      </td>
      <td>パーティクルは、円盤状エミッタの面全体から放出されます。</td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> エミッタトランスフォーム」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>位置</strong>
      </td>
      <td>
        <strong> Y = 1 </strong>
      </td>
      <td>エミッタを上方向に配置します。</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955632_h2_3">放出と初速の設定</h2>
<p>パーティクルの量と動きを調整し、煙の動きを作成します。</p>
<h3 id="Anchor_83955632_h3_8">「放出」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「放出」を選択します。パーティクルがエミッタから放出するタイミングや初速の設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_9">「放出」タブを設定する</h3>
<p>以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。<br />炎の熱により煙が上昇する動きを表現できます。</p>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> 放出設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>放出間隔</strong>
      </td>
      <td>
        <strong>2</strong>
      </td>
      <td>パーティクルは、エミッタから&nbsp;2 フレーム間隔で放出されます。</td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> 初速設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>全方向初速</strong>
      </td>
      <td>
        <strong>0</strong>
      </td>
      <td>パーティクルにデフォルトの設定で与えている初速が OFF になります。</td>
    </tr>
    <tr>
      <td>
        <strong>Y軸拡散初速</strong>
      </td>
      <td>
        <strong>0.07</strong>
      </td>
      <td>パーティクルはY軸に対して拡散する様に放出されます。失速後に拡散する煙を表現出来ます。</td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> その他運動設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>空気抵抗</strong>
      </td>
      <td>
        <strong>0.96</strong>
      </td>
      <td>エミッタからY軸方向に放出されたパーティクルは、上方の冷たい空気により失速し、やがて停止します。</td>
    </tr>
    <tr>
      <td>
        <strong>重力</strong>
      </td>
      <td>
        <strong>1</strong>
      </td>
      <td>パーティクルの速度に重力をかけ、立ち昇る炎の動きに合わせます。</td>
    </tr>
    <tr>
      <td>
        <strong>方向</strong>
      </td>
      <td>
        <strong> Y = 1.0 </strong>
      </td>
      <td>重力のかかる方向を上方向に変更します。上昇気流により立ち昇る煙を表現できます。</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955632_h2_4">パーティクルの設定</h2>
<p>放出されたパーティクルが消えるタイミングを設定します。</p>
<h3 id="Anchor_83955632_h3_10">「パーティクル」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「パーティクル」を選択します。エミッタから放出されるパーティクルの設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_11">「パーティクル」タブを設定する</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> パーティクル寿命」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>寿命</strong>
      </td>
      <td>
        <strong>80</strong>
      </td>
      <td>パーティクルはエミッタから放出されてから 80 フレーム目に消滅します。</td>
    </tr>
    <tr>
      <td>
        <strong>寿命ランダム</strong>
      </td>
      <td>
        <strong>50（%）</strong>
      </td>
      <td>「寿命」で指定した値を上限とし、下限側は以下の式で計算されます。<br /> <strong>80 - （80 &times; 50%） = 40</strong> <br />パーティクルの寿命は40 フレームから 80 フレームの間でランダムに変化します。</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955632_h2_5">コンバイナの設定</h2>
<p>パーティクルに貼り付けるテクスチャとカラーやアルファ設定の合成方法をプリセットから選択します。</p>
<h3 id="Anchor_83955632_h3_12">「コンバイナ」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「コンバイナ」を選択します。パーティクルのシェーダ設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_13">「コンバイナ」タブを設定する</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> カラー・アルファコンバイナ」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">設定内容</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>テクスチャ1</strong>
      </td>
      <td>
        <strong>チャンネル = 1.0</strong>
      </td>
      <td>テクスチャ1のRGBチャンネル側は使用せず、1.0 （白）に固定します。</td>
    </tr>
    <tr>
      <td>
        <strong>カラーコンバイナ</strong>
      </td>
      <td>
        <strong>C0 &times; Comb_RGB</strong>
      </td>
      <td>テクスチャのカラーに「カラー0」の値を乗算します。</td>
    </tr>
    <tr>
      <td>
        <strong>アルファコンバイナ</strong>
      </td>
      <td>
        <strong>Comb_A &times; A0 &times; A1</strong>
      </td>
      <td>テクスチャのアルファ値に A0 で設定した透明度のアニメーションに A1 で設定した値を乗算する式です。</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955632_h2_6">テクスチャとカラーの設定</h2>
<p>煙の実体が燃焼による燃えかすであることを意識してパーティクルのテクスチャとカラーを調整します。<br />パーティクルのテクスチャとして煙らしい雲形をした画像ともうひとつ、アルファのアニメーションで煙を消滅させる時にちぎって小さくしながら消す為の画像を使用します。</p>
<h3 id="Anchor_83955632_h3_14">「テクスチャ」0タブを選択する</h3>
<p>プロパティウィンドウ「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「テクスチャ」を選択します。「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/94709232.png" width="40" class="embedded-image" /></span> サブタブ」は「テクスチャ0」が選択されていることを確認します。</p>
<h3 id="Anchor_83955632_h3_15">「テクスチャ0」 タブを設定する。</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> テクスチャ」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」でテクスチャファイルを登録します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">設定パス</th>
      <th style="text-align: center;">テクスチャ</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <p style="text-align: center;">
          <strong>ファイル指定 <br /> </strong>
        </p>
      </td>
      <td>
        <strong>    \Samples\Sources\Resources\Vfx   <br /> \Eset \Textures\Fire_Smoke_00.ftxb</strong>
      </td>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83956195/86706727.png" width="100" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>
        <div class="content-wrapper">
          <p>
            <strong> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83080046.png" width="40" class="embedded-image" /></span> </strong> ロードボタンを押すことで開くウィンドウからテクスチャファイルを選択します。<br />煙の質感とシルエットのテクスチャです。</p>
          <p>正常に登録された場合、「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/92253562.png" class="embedded-image" /></span> テキストボックス」にファイル名が表示されます。<strong> <br /> </strong></p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955632_h3_16">「テクスチャ1」タブを選択する</h3>
<p>「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/94709232.png" width="40" class="embedded-image" /></span> サブタブ」から「テクスチャ1」を選択します。</p>
<h3 id="Anchor_83955632_h3_17">「テクスチャ1」 タブを設定する</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> テクスチャ」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」でテクスチャファイルを登録します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">設定パス</th>
      <th style="text-align: center;">テクスチャ</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td style="text-align: center;">
        <strong>ファイル指定 <br /> </strong>
      </td>
      <td>
        <strong>    \Samples\Sources\Resources\Vfx   <br /> \Eset \Textures\Fire_01.ftxb</strong>
      </td>
      <td>
        <div class="content-wrapper">
          <span class="embedded-file-wrapper ">
            <img src="../Attachments/Attach_83956195/86705364.png" width="100" class="embedded-image" />
          </span>
        </div>
      </td>
      <td>
        <div class="content-wrapper">
          <p>
            <strong> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83080046.png" width="40" class="embedded-image" /></span> </strong> ロードボタンを押すことで開くウィンドウからテクスチャファイルを選択します。</p>
          <p>アルファチャンネル側のみを煙が徐々にちぎれていく効果として使用しています。</p>
          <p>正常に登録された場合、「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/92253562.png" class="embedded-image" /></span> テキストボックス」にファイル名が表示されます。</p>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> テクスチャ座標アニメーション」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」で「テクスチャ1」の UVスクロールアニメを設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>UVスクロールアニメ</strong>
      </td>
      <td>
        <strong>  ON  </strong>
      </td>
      <td>「UVスクロールアニメ」が設定可能になりますので、以下の様に設定します。</td>
    </tr>
    <tr>
      <td>
        <strong>加算値</strong>
      </td>
      <td>
        <strong> X,Y = 0.002,-0.002 </strong>
      </td>
      <td>テクスチャは右上方向に向かってスクロールアニメーションします。</td>
    </tr>
    <tr>
      <td>
        <strong>初期値ランダム</strong>
      </td>
      <td>
        <strong> X,Y = 0.5 </strong>
      </td>
      <td>放出時のスクロールアニメーションの開始位置をランダムに変化させることで、自然に見える様にします。</td>
    </tr>
  </tbody>
</table>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> テクスチャ座標アニメーション」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」で「テクスチャ1」の UVスケールアニメを設定します。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>UVスケールアニメ</strong>
      </td>
      <td>
        <strong>  ON  </strong>
      </td>
      <td>「UVスケールアニメ」が設定可能になりますので、以下の様に設定します。</td>
    </tr>
    <tr>
      <td>
        <strong>加算値</strong>
      </td>
      <td>
        <strong> X,Y = 0.005 </strong>
      </td>
      <td>テクスチャのディテールが徐々に細かくなる様にアニメーションします。</td>
    </tr>
    <tr>
      <td>
        <strong>初期値</strong>
      </td>
      <td>
        <strong> X,Y = 0.5 </strong>
      </td>
      <td>放出時のテクスチャ適用範囲を設定します。</td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955632_h3_18">「カラー」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「カラー」を選択します。「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/94709232.png" width="40" class="embedded-image" /></span> サブタブ」は「パーティクル」が選択されていることを確認します。</p>
<h4 id="Anchor_83955632_h4_1">パーティクルのカラーをアニメーションさせる</h4>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> カラー・アルファ設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」でパーティクルのカラーをアニメーションさせます。<br />「挙動タイプ」を<strong>「固定」</strong>から<strong>「8キーアニメ」</strong>に変更することで、アニメーションを設定するUIが表示されます。</p>
<p>
  <strong>    <span class="status_macro_base status_macro_Blue">関連リンク</span>    </strong> アニメーションを設定するUIの操作方法については <strong> <a href="../Pages/Page_94758237.html">「グラデーションエディタの操作」</a> </strong> を参照してください。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">挙動タイプ</th>
      <th>時間（f）</th>
      <th style="text-align: center;">時間（%）</th>
      <th style="text-align: center;">R</th>
      <th style="text-align: center;">G</th>
      <th>B</th>
      <th style="text-align: center;">説明させ</th>
    </tr>
    <tr>
      <td rowspan="2">
        <strong>カラー0挙動タイプ</strong>
      </td>
      <td rowspan="2">
        <strong>8キーアニメ</strong>
      </td>
      <td>
        <strong>0</strong>
      </td>
      <td>
        <strong>0</strong>
      </td>
      <td>
        <strong>0.492</strong>
      </td>
      <td>
        <strong>0.135</strong>
      </td>
      <td>
        <strong>0.018</strong>
      </td>
      <td>
        <p>放出時は炎の光が煙に映る為、オレンジを乗算しています。</p>
      </td>
    </tr>
    <tr>
      <td>
        <strong>32</strong>
      </td>
      <td>
        <strong>40</strong>
      </td>
      <td>
        <strong>0.034</strong>
      </td>
      <td>
        <p>
          <strong>0.021</strong>
        </p>
      </td>
      <td>
        <strong>0.022</strong>
      </td>
      <td>最後のフレームに向けて黒を設定し、燃えつきて煤状態になった燃料の色にしています。</td>
    </tr>
  </tbody>
</table>
<h4 id="Anchor_83955632_h4_2">パーティクルアルファをアニメーションさせる</h4>
<p>続いて「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> カラー・アルファ設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」でパーティクルのアルファ値をアニメーションさせます。</p>
<p>
  <strong>    <span class="status_macro_base status_macro_Blue">関連リンク</span>    </strong>アニメーションを設定するUIの操作方法については <strong> <a href="../Pages/Page_94758237.html">「グラデーションエディタの操作」</a> </strong> を参照してください。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">挙動タイプ</th>
      <th>時間（f）</th>
      <th style="text-align: center;">時間（%）</th>
      <th style="text-align: center;">&alpha;</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td rowspan="2">
        <strong>アルファ0挙動タイプ</strong>
      </td>
      <td rowspan="2">
        <strong> 8キーアニメ </strong>
      </td>
      <td>
        <strong>48</strong>
      </td>
      <td>
        <strong>60</strong>
      </td>
      <td>
        <strong>1.0</strong>
      </td>
      <td>煙の放出時ははっきりと表示させ、ボリューム感を出します。</td>
    </tr>
    <tr>
      <td>
        <strong>80</strong>
      </td>
      <td>
        <strong>100</strong>
      </td>
      <td>
        <strong>0.0</strong>
      </td>
      <td>煙は失速直後から最後のフレームにかけてアルファ値を 0 に設定し、徐々に消滅させます。</td>
    </tr>
    <tr>
      <td>
        <strong>アルファ1挙動タイプ</strong>
      </td>
      <td style="text-align: center;">
        <strong>固定</strong>
      </td>
      <td>
        <br />
      </td>
      <td style="text-align: center;">
        <strong>-</strong>
      </td>
      <td style="text-align: center;">
        <strong>5.0</strong>
      </td>
      <td>アルファ0 でのアニメーションキーに対して 1 を超える値「5」 を乗算することで煙のエッジを強調させます。</td>
    </tr>
  </tbody>
</table>
<h2 id="Anchor_83955632_h2_7">スケールと回転の設定</h2>
<p>煙が上昇するに従って失速、拡散して消える様子をパーティクルスケールのアニメーションで表現します。<br />また、煙の動きに対してもゆらぎを与える為に「炎」エフェクトよりゆっくりとした速度で回転アニメーションを加えます。</p>
<h3 id="Anchor_83955632_h3_19">「スケール」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「スケール」を選択します。パーティクルサイズやスケールアニメーションに関する設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_20">パーティクルサイズの基準値を設定する</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> 基本スケール」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」で放出時のパーティクルサイズを設定します。<br />ここで設定した値はパーティクルにスケールアニメーションをかける際の基準値となります。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
  </colgroup>
  <thead>
    <tr>
      <th style="text-align: center;">
        <div class="tablesorter-header-inner">項目名</div>
      </th>
      <th style="text-align: center;">
        <div class="tablesorter-header-inner">値</div>
      </th>
      <th style="text-align: center;">
        <div class="tablesorter-header-inner">説明</div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>基準値</strong>
      </td>
      <td>
        <strong>X,Y,Z = 4</strong>
      </td>
      <td>放出時のパーティクルの基本サイズを設定します。</td>
    </tr>
    <tr>
      <td>
        <strong>ランダム量</strong>
      </td>
      <td>
        <strong>X,Y,Z = 10%</strong>
      </td>
      <td>
        <p>「基準値」に対してランダム量を設定し、パーティクルが一定サイズで放出されることを防ぎます。</p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955632_h3_21">パーティクルスケールをアニメーションさせる</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> スケール（パーティクル時間アニメ）」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」でパーティクルサイズをアニメーションさせます。<br />パーティクルのスケールアニメーションとアルファアニメーションとを同期させることで、失速した煙が拡散し、ちぎれて消えていく様子を表現します。</p>
<p>
  <strong>    <span class="status_macro_base status_macro_Blue">関連リンク</span>    </strong>アニメーションを設定するUIの操作方法については <strong> <a href="../Pages/Page_94758231.html">「カーブエディタの操作」</a> </strong> を参照してください。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
    <col />
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th>時間（f）</th>
      <th style="text-align: center;">時間（%）</th>
      <th>値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td rowspan="3">
        <strong>スケールアニメーション</strong>
      </td>
      <td>
        <strong>0</strong>
      </td>
      <td>
        <strong>0 </strong>
      </td>
      <td>
        <strong>0.7</strong>
      </td>
      <td rowspan="3">パーティクルは、寿命まで徐々に拡大します。</td>
    </tr>
    <tr>
      <td>
        <strong>40</strong>
      </td>
      <td>
        <strong>50<br /> </strong>
      </td>
      <td>
        <strong>1.0</strong>
      </td>
    </tr>
    <tr>
      <td>
        <strong>80</strong>
      </td>
      <td>
        <strong>100<br /> </strong>
      </td>
      <td>
        <p>
          <strong>2.0</strong>
        </p>
      </td>
    </tr>
  </tbody>
</table>
<h3 id="Anchor_83955632_h3_22">「回転」タブを選択する</h3>
<p>プロパティウィンドウの「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520159.png" width="40" class="embedded-image" /></span> タブ」から「回転」を選択します。パーティクルの傾きや回転アニメーションに関する設定項目が表示されます。</p>
<h3 id="Anchor_83955632_h3_23">「回転」タブを設定する</h3>
<p>「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/91326320.png" width="16" class="embedded-image" /></span> 回転設定」の以下の「<span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/93520160.png" width="40" class="embedded-image" /></span> 項目」を設定します。<br />パーティクルに回転アニメーションを付加することで、空気の揺らぎに伴う煙の動きを表現できます。</p>
<table class="wrapped">
  <tbody>
    <tr>
      <th style="text-align: center;">項目名</th>
      <th style="text-align: center;">値</th>
      <th style="text-align: center;">説明</th>
    </tr>
    <tr>
      <td>
        <strong>回転軸</strong>
      </td>
      <td>
        <strong>Z軸</strong>
      </td>
      <td>パーティクルを Z 軸で回転できます。</td>
    </tr>
    <tr>
      <td>
        <div class="content-wrapper">
          <strong> 初期回転(&plusmn;)<br />  <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83080214.png" class="embedded-image" /></span> <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/163765141.png" class="embedded-image" /></span> </strong>
        </div>
      </td>
      <td>
        <strong>45<br /> </strong>
      </td>
      <td>パーティクル放出時の傾きを設定する「初期回転(&plusmn;)」の値に対してランダム範囲を指定します。<br />パーティクルの垂直方向 0 度を中心に、左右合計45度の範囲でランダムな値になります。</td>
    </tr>
    <tr>
      <td>
        <strong>回転方向ランダム</strong>
      </td>
      <td>
        <strong>ON</strong>
      </td>
      <td>パーティクル放出時の回転方向を、左右どちらかでランダムにできます。</td>
    </tr>
    <tr>
      <td>
        <strong>回転速度</strong>
      </td>
      <td>
        <strong>0.5</strong>
      </td>
      <td>パーティクルに対して毎フレーム 0.5 度の値を加算します。</td>
    </tr>
  </tbody>
</table>
<p>
  <a name="Anchor_83955632_draworder"></a>
</p>
<h3 id="Anchor_83955632_h3_24">描画順の変更</h3>
<p>ワークスペース上でエミッタの描画順を変更します。<br />ビューアで変化を確認しながら以下の手順でエミッタノードを入れ替えます。</p>
<table class="wrapped">
  <colgroup>
    <col />
    <col />
  </colgroup>
  <tbody>
    <tr>
      <th>1</th>
      <td>
        <div class="content-wrapper">
          <p>ビューアでは炎「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Main」は煙「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Smoke」の背後に隠れた状態です。</p>
          <p>ワークスペースでエミッタセット「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079868.png" class="embedded-image" /></span> Fire_04」直下のエミッタ「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Main」を選択します。</p>
        </div>
      </td>
    </tr>
    <tr>
      <th>2</th>
      <td>
        <div class="content-wrapper">Alt キーを押しながら マウス左ボタンドラッグでエミッタ「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Main」を「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Smoke」の下に移動します。<br />ビューアでは炎「 <span class="embedded-file-wrapper "><img src="../Attachments/Attach_83955555/83079866.png" class="embedded-image" /></span> Main」が手前に表示されます。</div>
      </td>
    </tr>
  </tbody>
</table>
<p>
  <strong>     <span class="status_macro_base status_macro_Blue">関連リンク</span>     </strong>エミッタの並び替え操作とこの操作による描画順制御については、動作での解説 <strong>  <a href="../Pages/Page_92326461.html">「エミッタの描画順制御」</a>  </strong>もあわせて参照してください。</p>
<h2 id="Anchor_83955632_h2_8">完成イメージ</h2>
<p>以下は完成した炎のエフェクトです。<br />「煙」以外にも、「火の粉」のエミッタを追加することで、より炎らしい表現になります。</p>
<p>
  <span class="embedded-file-wrapper ">
    <img src="../Attachments/Attach_83955557/83080783.gif" class="embedded-image" />
  </span>
</p>
</div>
<div class="breadcrumb_bottom"></div>
<div class="page_navigation">
<table class="page_navi_root">
<tr>
<td class="page_navi_left"></td>
<td class="page_navi_right"></td>
</tr>
<tr><td colspan="2" class="page_navi_bottom"></td></tr>
</table>
</div>
</div>
</div>
</body>
</html>
